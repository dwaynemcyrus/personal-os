function Z7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nx={exports:{}},tm={};var kM;function U7(){if(kM)return tm;kM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return tm.Fragment=e,tm.jsx=n,tm.jsxs=n,tm}var TM;function q7(){return TM||(TM=1,nx.exports=U7()),nx.exports}var M=q7(),rx={exports:{}},It={};var EM;function V7(){if(EM)return It;EM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),m=Symbol.iterator;function O(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function k(z,ne,ge){this.props=z,this.context=ne,this.refs=w,this.updater=ge||y}k.prototype.isReactComponent={},k.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=k.prototype;function A(z,ne,ge){this.props=z,this.context=ne,this.refs=w,this.updater=ge||y}var C=A.prototype=new T;C.constructor=A,v(C,k.prototype),C.isPureReactComponent=!0;var I=Array.isArray;function Q(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function q(z,ne,ge){var Pe=ge.ref;return{$$typeof:t,type:z,key:ne,ref:Pe!==void 0?Pe:null,props:ge}}function oe(z,ne){return q(z.type,ne,z.props)}function we(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function K(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ne[ge]})}var Ae=/\/+/g;function Ee(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?K(""+z.key):ne.toString(36)}function Be(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,ne,ge,Pe,De){var tt=typeof z;(tt==="undefined"||tt==="boolean")&&(z=null);var it=!1;if(z===null)it=!0;else switch(tt){case"bigint":case"string":case"number":it=!0;break;case"object":switch(z.$$typeof){case t:case e:it=!0;break;case h:return it=z._init,G(it(z._payload),ne,ge,Pe,De)}}if(it)return De=De(z),it=Pe===""?"."+Ee(z,0):Pe,I(De)?(ge="",it!=null&&(ge=it.replace(Ae,"$&/")+"/"),G(De,ne,ge,"",function(Cn){return Cn})):De!=null&&(we(De)&&(De=oe(De,ge+(De.key==null||z&&z.key===De.key?"":(""+De.key).replace(Ae,"$&/")+"/")+it)),ne.push(De)),1;it=0;var ut=Pe===""?".":Pe+":";if(I(z))for(var qe=0;qe<z.length;qe++)Pe=z[qe],tt=ut+Ee(Pe,qe),it+=G(Pe,ne,ge,tt,De);else if(qe=O(z),typeof qe=="function")for(z=qe.call(z),qe=0;!(Pe=z.next()).done;)Pe=Pe.value,tt=ut+Ee(Pe,qe++),it+=G(Pe,ne,ge,tt,De);else if(tt==="object"){if(typeof z.then=="function")return G(Be(z),ne,ge,Pe,De);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return it}function ye(z,ne,ge){if(z==null)return z;var Pe=[],De=0;return G(z,Pe,"","",function(tt){return ne.call(ge,tt,De++)}),Pe}function Se(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var Te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},he={map:ye,forEach:function(z,ne,ge){ye(z,function(){ne.apply(this,arguments)},ge)},count:function(z){var ne=0;return ye(z,function(){ne++}),ne},toArray:function(z){return ye(z,function(ne){return ne})||[]},only:function(z){if(!we(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return It.Activity=d,It.Children=he,It.Component=k,It.Fragment=n,It.Profiler=i,It.PureComponent=A,It.StrictMode=r,It.Suspense=u,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},It.cache=function(z){return function(){return z.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(z,ne,ge){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Pe=v({},z.props),De=z.key;if(ne!=null)for(tt in ne.key!==void 0&&(De=""+ne.key),ne)!j.call(ne,tt)||tt==="key"||tt==="__self"||tt==="__source"||tt==="ref"&&ne.ref===void 0||(Pe[tt]=ne[tt]);var tt=arguments.length-2;if(tt===1)Pe.children=ge;else if(1<tt){for(var it=Array(tt),ut=0;ut<tt;ut++)it[ut]=arguments[ut+2];Pe.children=it}return q(z.type,De,Pe)},It.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},It.createElement=function(z,ne,ge){var Pe,De={},tt=null;if(ne!=null)for(Pe in ne.key!==void 0&&(tt=""+ne.key),ne)j.call(ne,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(De[Pe]=ne[Pe]);var it=arguments.length-2;if(it===1)De.children=ge;else if(1<it){for(var ut=Array(it),qe=0;qe<it;qe++)ut[qe]=arguments[qe+2];De.children=ut}if(z&&z.defaultProps)for(Pe in it=z.defaultProps,it)De[Pe]===void 0&&(De[Pe]=it[Pe]);return q(z,tt,De)},It.createRef=function(){return{current:null}},It.forwardRef=function(z){return{$$typeof:o,render:z}},It.isValidElement=we,It.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Se}},It.memo=function(z,ne){return{$$typeof:f,type:z,compare:ne===void 0?null:ne}},It.startTransition=function(z){var ne=N.T,ge={};N.T=ge;try{var Pe=z(),De=N.S;De!==null&&De(ge,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(Q,Te)}catch(tt){Te(tt)}finally{ne!==null&&ge.types!==null&&(ne.types=ge.types),N.T=ne}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(z){return N.H.use(z)},It.useActionState=function(z,ne,ge){return N.H.useActionState(z,ne,ge)},It.useCallback=function(z,ne){return N.H.useCallback(z,ne)},It.useContext=function(z){return N.H.useContext(z)},It.useDebugValue=function(){},It.useDeferredValue=function(z,ne){return N.H.useDeferredValue(z,ne)},It.useEffect=function(z,ne){return N.H.useEffect(z,ne)},It.useEffectEvent=function(z){return N.H.useEffectEvent(z)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(z,ne,ge){return N.H.useImperativeHandle(z,ne,ge)},It.useInsertionEffect=function(z,ne){return N.H.useInsertionEffect(z,ne)},It.useLayoutEffect=function(z,ne){return N.H.useLayoutEffect(z,ne)},It.useMemo=function(z,ne){return N.H.useMemo(z,ne)},It.useOptimistic=function(z,ne){return N.H.useOptimistic(z,ne)},It.useReducer=function(z,ne,ge){return N.H.useReducer(z,ne,ge)},It.useRef=function(z){return N.H.useRef(z)},It.useState=function(z){return N.H.useState(z)},It.useSyncExternalStore=function(z,ne,ge){return N.H.useSyncExternalStore(z,ne,ge)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.3",It}var AM;function CA(){return AM||(AM=1,rx.exports=V7()),rx.exports}var $=CA();const Su=Ow($),PA=Z7({__proto__:null,default:Su},[$]);var ix={exports:{}},nm={},sx={exports:{}},ax={};var CM;function X7(){return CM||(CM=1,(function(t){function e(G,ye){var Se=G.length;G.push(ye);e:for(;0<Se;){var Te=Se-1>>>1,he=G[Te];if(0<i(he,ye))G[Te]=ye,G[Se]=he,Se=Te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ye=G[0],Se=G.pop();if(Se!==ye){G[0]=Se;e:for(var Te=0,he=G.length,z=he>>>1;Te<z;){var ne=2*(Te+1)-1,ge=G[ne],Pe=ne+1,De=G[Pe];if(0>i(ge,Se))Pe<he&&0>i(De,ge)?(G[Te]=De,G[Pe]=Se,Te=Pe):(G[Te]=ge,G[ne]=Se,Te=ne);else if(Pe<he&&0>i(De,Se))G[Te]=De,G[Pe]=Se,Te=Pe;else break e}}return ye}function i(G,ye){var Se=G.sortIndex-ye.sortIndex;return Se!==0?Se:G.id-ye.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],f=[],h=1,d=null,m=3,O=!1,y=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var ye=n(f);ye!==null;){if(ye.callback===null)r(f);else if(ye.startTime<=G)r(f),ye.sortIndex=ye.expirationTime,e(u,ye);else break;ye=n(f)}}function I(G){if(v=!1,C(G),!y)if(n(u)!==null)y=!0,Q||(Q=!0,K());else{var ye=n(f);ye!==null&&Be(I,ye.startTime-G)}}var Q=!1,N=-1,j=5,q=-1;function oe(){return w?!0:!(t.unstable_now()-q<j)}function we(){if(w=!1,Q){var G=t.unstable_now();q=G;var ye=!0;try{e:{y=!1,v&&(v=!1,T(N),N=-1),O=!0;var Se=m;try{t:{for(C(G),d=n(u);d!==null&&!(d.expirationTime>G&&oe());){var Te=d.callback;if(typeof Te=="function"){d.callback=null,m=d.priorityLevel;var he=Te(d.expirationTime<=G);if(G=t.unstable_now(),typeof he=="function"){d.callback=he,C(G),ye=!0;break t}d===n(u)&&r(u),C(G)}else r(u);d=n(u)}if(d!==null)ye=!0;else{var z=n(f);z!==null&&Be(I,z.startTime-G),ye=!1}}break e}finally{d=null,m=Se,O=!1}ye=void 0}}finally{ye?K():Q=!1}}}var K;if(typeof A=="function")K=function(){A(we)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ee=Ae.port2;Ae.port1.onmessage=we,K=function(){Ee.postMessage(null)}}else K=function(){k(we,0)};function Be(G,ye){N=k(function(){G(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ye=3;break;default:ye=m}var Se=m;m=ye;try{return G()}finally{m=Se}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(G,ye){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Se=m;m=G;try{return ye()}finally{m=Se}},t.unstable_scheduleCallback=function(G,ye,Se){var Te=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Te+Se:Te):Se=Te,G){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Se+he,G={id:h++,callback:ye,priorityLevel:G,startTime:Se,expirationTime:he,sortIndex:-1},Se>Te?(G.sortIndex=Se,e(f,G),n(u)===null&&G===n(f)&&(v?(T(N),N=-1):v=!0,Be(I,Se-Te))):(G.sortIndex=he,e(u,G),y||O||(y=!0,Q||(Q=!0,K()))),G},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(G){var ye=m;return function(){var Se=m;m=ye;try{return G.apply(this,arguments)}finally{m=Se}}}})(ax)),ax}var PM;function F7(){return PM||(PM=1,sx.exports=X7()),sx.exports}var ox={exports:{}},Pi={};var RM;function Y7(){if(RM)return Pi;RM=1;var t=CA();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:u,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pi.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,h)},Pi.flushSync=function(u){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=h,r.d.f()}},Pi.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Pi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Pi.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,d=o(h,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,O=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:d,integrity:m,fetchPriority:O}):h==="script"&&r.d.X(u,{crossOrigin:d,integrity:m,fetchPriority:O,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Pi.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Pi.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,d=o(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Pi.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Pi.requestFormReset=function(u){r.d.r(u)},Pi.unstable_batchedUpdates=function(u,f){return u(f)},Pi.useFormState=function(u,f,h){return a.H.useFormState(u,f,h)},Pi.useFormStatus=function(){return a.H.useHostTransitionStatus()},Pi.version="19.2.3",Pi}var $M;function a3(){if($M)return ox.exports;$M=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ox.exports=Y7(),ox.exports}var MM;function W7(){if(MM)return nm;MM=1;var t=F7(),e=CA(),n=a3();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var c=l,p=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(p=c.return),l=c.return;while(l)}return c.tag===3?p:null}function a(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function o(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(s(l)!==l)throw Error(r(188))}function f(l){var c=l.alternate;if(!c){if(c=s(l),c===null)throw Error(r(188));return c!==l?null:l}for(var p=l,g=c;;){var _=p.return;if(_===null)break;var x=_.alternate;if(x===null){if(g=_.return,g!==null){p=g;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===p)return u(_),l;if(x===g)return u(_),c;x=x.sibling}throw Error(r(188))}if(p.return!==g.return)p=_,g=x;else{for(var R=!1,B=_.child;B;){if(B===p){R=!0,p=_,g=x;break}if(B===g){R=!0,g=_,p=x;break}B=B.sibling}if(!R){for(B=x.child;B;){if(B===p){R=!0,p=x,g=_;break}if(B===g){R=!0,g=x,p=_;break}B=B.sibling}if(!R)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:c}function h(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=h(l),c!==null)return c;l=l.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function K(l){return l===null||typeof l!="object"?null:(l=we&&l[we]||l["@@iterator"],typeof l=="function"?l:null)}var Ae=Symbol.for("react.client.reference");function Ee(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Ae?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case Q:return"SuspenseList";case q:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case A:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case C:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return c=l.displayName||null,c!==null?c:Ee(l.type)||"Memo";case j:c=l._payload,l=l._init;try{return Ee(l(c))}catch{}}return null}var Be=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Te=[],he=-1;function z(l){return{current:l}}function ne(l){0>he||(l.current=Te[he],Te[he]=null,he--)}function ge(l,c){he++,Te[he]=l.current,l.current=c}var Pe=z(null),De=z(null),tt=z(null),it=z(null);function ut(l,c){switch(ge(tt,c),ge(De,l),ge(Pe,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?Y2(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=Y2(c),l=W2(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ne(Pe),ge(Pe,l)}function qe(){ne(Pe),ne(De),ne(tt)}function Cn(l){l.memoizedState!==null&&ge(it,l);var c=Pe.current,p=W2(c,l.type);c!==p&&(ge(De,l),ge(Pe,p))}function mr(l){De.current===l&&(ne(Pe),ne(De)),it.current===l&&(ne(it),Kp._currentValue=Se)}var yt,rn;function ir(l){if(yt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);yt=c&&c[1]||"",rn=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+l+rn}var sr=!1;function Ts(l,c){if(!l||sr)return"";sr=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(ke){var be=ke}Reflect.construct(l,[],Ie)}else{try{Ie.call()}catch(ke){be=ke}l.call(Ie.prototype)}}else{try{throw Error()}catch(ke){be=ke}(Ie=l())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(ke){if(ke&&be&&typeof ke.stack=="string")return[ke.stack,be.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=g.DetermineComponentFrameRoot(),R=x[0],B=x[1];if(R&&B){var Y=R.split(`
`),me=B.split(`
`);for(_=g=0;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;for(;_<me.length&&!me[_].includes("DetermineComponentFrameRoot");)_++;if(g===Y.length||_===me.length)for(g=Y.length-1,_=me.length-1;1<=g&&0<=_&&Y[g]!==me[_];)_--;for(;1<=g&&0<=_;g--,_--)if(Y[g]!==me[_]){if(g!==1||_!==1)do if(g--,_--,0>_||Y[g]!==me[_]){var Ce=`
`+Y[g].replace(" at new "," at ");return l.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",l.displayName)),Ce}while(1<=g&&0<=_);break}}}finally{sr=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?ir(p):""}function X(l,c){switch(l.tag){case 26:case 27:case 5:return ir(l.type);case 16:return ir("Lazy");case 13:return l.child!==c&&c!==null?ir("Suspense Fallback"):ir("Suspense");case 19:return ir("SuspenseList");case 0:case 15:return Ts(l.type,!1);case 11:return Ts(l.type.render,!1);case 1:return Ts(l.type,!0);case 31:return ir("Activity");default:return""}}function W(l){try{var c="",p=null;do c+=X(l,p),p=l,l=l.return;while(l);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ve=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Ze=t.unstable_shouldYield,ft=t.unstable_requestPaint,at=t.unstable_now,Tt=t.unstable_getCurrentPriorityLevel,Mt=t.unstable_ImmediatePriority,un=t.unstable_UserBlockingPriority,Pn=t.unstable_NormalPriority,ar=t.unstable_LowPriority,Rn=t.unstable_IdlePriority,Pr=t.log,qr=t.unstable_setDisableYieldValue,Gn=null,Jt=null;function nt(l){if(typeof Pr=="function"&&qr(l),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Gn,l)}catch{}}var de=Math.clz32?Math.clz32:Le,ze=Math.log,dt=Math.LN2;function Le(l){return l>>>=0,l===0?32:31-(ze(l)/dt|0)|0}var Vr=256,li=262144,Di=4194304;function Ti(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ei(l,c,p){var g=l.pendingLanes;if(g===0)return 0;var _=0,x=l.suspendedLanes,R=l.pingedLanes;l=l.warmLanes;var B=g&134217727;return B!==0?(g=B&~x,g!==0?_=Ti(g):(R&=B,R!==0?_=Ti(R):p||(p=B&~l,p!==0&&(_=Ti(p))))):(B=g&~x,B!==0?_=Ti(B):R!==0?_=Ti(R):p||(p=g&~l,p!==0&&(_=Ti(p)))),_===0?0:c!==0&&c!==_&&(c&x)===0&&(x=_&-_,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:_}function Es(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function Xo(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var l=Di;return Di<<=1,(Di&62914560)===0&&(Di=4194304),l}function ei(l){for(var c=[],p=0;31>p;p++)c.push(l);return c}function As(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function so(l,c,p,g,_,x){var R=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var B=l.entanglements,Y=l.expirationTimes,me=l.hiddenUpdates;for(p=R&~p;0<p;){var Ce=31-de(p),Ie=1<<Ce;B[Ce]=0,Y[Ce]=-1;var be=me[Ce];if(be!==null)for(me[Ce]=null,Ce=0;Ce<be.length;Ce++){var ke=be[Ce];ke!==null&&(ke.lane&=-536870913)}p&=~Ie}g!==0&&sn(l,g,0),x!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=x&~(R&~c))}function sn(l,c,p){l.pendingLanes|=c,l.suspendedLanes&=~c;var g=31-de(c);l.entangledLanes|=c,l.entanglements[g]=l.entanglements[g]|1073741824|p&261930}function jn(l,c){var p=l.entangledLanes|=c;for(l=l.entanglements;p;){var g=31-de(p),_=1<<g;_&c|l[g]&c&&(l[g]|=c),p&=~_}}function Zl(l,c){var p=c&-c;return p=(p&42)!==0?1:rs(p),(p&(l.suspendedLanes|c))!==0?0:p}function rs(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function is(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ui(){var l=ye.p;return l!==0?l:(l=window.event,l===void 0?32:yM(l.type))}function Ul(l,c){var p=ye.p;try{return ye.p=l,c()}finally{ye.p=p}}var gr=Math.random().toString(36).slice(2),vn="__reactFiber$"+gr,xn="__reactProps$"+gr,Ni="__reactContainer$"+gr,ci="__reactEvents$"+gr,ss="__reactListeners$"+gr,ql="__reactHandles$"+gr,as="__reactResources$"+gr,aa="__reactMarker$"+gr;function Ma(l){delete l[vn],delete l[xn],delete l[ci],delete l[ss],delete l[ql]}function Vt(l){var c=l[vn];if(c)return c;for(var p=l.parentNode;p;){if(c=p[Ni]||p[vn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(l=nM(l);l!==null;){if(p=l[vn])return p;l=nM(l)}return c}l=p,p=l.parentNode}return null}function Bn(l){if(l=l[vn]||l[Ni]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function Qe(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function Cs(l){var c=l[as];return c||(c=l[as]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function hn(l){l[aa]=!0}var ti=new Set,Rr={};function Li(l,c){ni(l,c),ni(l+"Capture",c)}function ni(l,c){for(Rr[l]=c,l=0;l<c.length;l++)ti.add(c[l])}var os=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qn={},ao={};function Pt(l){return ve.call(ao,l)?!0:ve.call(qn,l)?!1:os.test(l)?ao[l]=!0:(qn[l]=!0,!1)}function ls(l,c,p){if(Pt(c))if(p===null)l.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+p)}}function ji(l,c,p){if(p===null)l.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+p)}}function Or(l,c,p,g){if(g===null)l.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(c,p,""+g)}}function Dt(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function oo(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ps(l,c,p){var g=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,x=g.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return _.call(this)},set:function(R){p=""+R,x.call(this,R)}}),Object.defineProperty(l,c,{enumerable:g.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Rs(l){if(!l._valueTracker){var c=oo(l)?"checked":"value";l._valueTracker=Ps(l,c,""+l[c])}}function Fo(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return l&&(g=oo(l)?l.checked?"true":"false":l.value),l=g,l!==p?(c.setValue(l),!0):!1}function lo(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Vl=/[\n"\\]/g;function fi(l){return l.replace(Vl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function uo(l,c,p,g,_,x,R,B){l.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?l.type=R:l.removeAttribute("type"),c!=null?R==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Dt(c)):l.value!==""+Dt(c)&&(l.value=""+Dt(c)):R!=="submit"&&R!=="reset"||l.removeAttribute("value"),c!=null?Bi(l,R,Dt(c)):p!=null?Bi(l,R,Dt(p)):g!=null&&l.removeAttribute("value"),_==null&&x!=null&&(l.defaultChecked=!!x),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?l.name=""+Dt(B):l.removeAttribute("name")}function Xl(l,c,p,g,_,x,R,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(l.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){Rs(l);return}p=p!=null?""+Dt(p):"",c=c!=null?""+Dt(c):p,B||c===l.value||(l.value=c),l.defaultValue=c}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=B?l.checked:!!g,l.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(l.name=R),Rs(l)}function Bi(l,c,p){c==="number"&&lo(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function us(l,c,p,g){if(l=l.options,c){c={};for(var _=0;_<p.length;_++)c["$"+p[_]]=!0;for(p=0;p<l.length;p++)_=c.hasOwnProperty("$"+l[p].value),l[p].selected!==_&&(l[p].selected=_),_&&g&&(l[p].defaultSelected=!0)}else{for(p=""+Dt(p),c=null,_=0;_<l.length;_++){if(l[_].value===p){l[_].selected=!0,g&&(l[_].defaultSelected=!0);return}c!==null||l[_].disabled||(c=l[_])}c!==null&&(c.selected=!0)}}function Fl(l,c,p){if(c!=null&&(c=""+Dt(c),c!==l.value&&(l.value=c),p==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=p!=null?""+Dt(p):""}function Yo(l,c,p,g){if(c==null){if(g!=null){if(p!=null)throw Error(r(92));if(Be(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),c=p}p=Dt(c),l.defaultValue=p,g=l.textContent,g===p&&g!==""&&g!==null&&(l.value=g),Rs(l)}function Rt(l,c){if(c){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=c;return}}l.textContent=c}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(l,c,p){var g=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":g?l.setProperty(c,p):typeof p!="number"||p===0||uc.has(c)?c==="float"?l.cssFloat=p:l[c]=(""+p).trim():l[c]=p+"px"}function $s(l,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var _ in c)g=c[_],c.hasOwnProperty(_)&&p[_]!==g&&xf(l,_,g)}else for(var x in c)c.hasOwnProperty(x)&&xf(l,x,c[x])}function Xr(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(l){return Yl.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function cs(){}var fs=null;function zn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Fr=null,hi=null;function fo(l){var c=Bn(l);if(c&&(l=c.stateNode)){var p=l[xn]||null;e:switch(l=c.stateNode,c.type){case"input":if(uo(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+fi(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==l&&g.form===l.form){var _=g[xn]||null;if(!_)throw Error(r(90));uo(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<p.length;c++)g=p[c],g.form===l.form&&Fo(g)}break e;case"textarea":Fl(l,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&us(l,!!p.multiple,c,!1)}}}var Ia=!1;function Ms(l,c,p){if(Ia)return l(c,p);Ia=!0;try{var g=l(c);return g}finally{if(Ia=!1,(Fr!==null||hi!==null)&&(gy(),Fr&&(c=Fr,l=hi,hi=Fr=null,fo(c),l)))for(c=0;c<l.length;c++)fo(l[c])}}function ho(l,c){var p=l.stateNode;if(p===null)return null;var g=p[xn]||null;if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(Kn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){po=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{po=!1}var Zi=null,Da=null,mo=null;function cc(){if(mo)return mo;var l,c=Da,p=c.length,g,_="value"in Zi?Zi.value:Zi.textContent,x=_.length;for(l=0;l<p&&c[l]===_[l];l++);var R=p-l;for(g=1;g<=R&&c[p-g]===_[x-g];g++);return mo=_.slice(l,1<g?1-g:void 0)}function U(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function se(){return!0}function je(){return!1}function Ke(l){function c(p,g,_,x,R){this._reactName=p,this._targetInst=_,this.type=g,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var B in l)l.hasOwnProperty(B)&&(p=l[B],this[B]=p?p(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?se:je,this.isPropagationStopped=je,this}return d(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){},isPersistent:se}),c}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wt=Ke(Xt),en=d({},Xt,{view:0,detail:0}),or=Ke(en),Hn,dn,Jn,$r=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Jn&&(Jn&&l.type==="mousemove"?(Hn=l.screenX-Jn.screenX,dn=l.screenY-Jn.screenY):dn=Hn=0,Jn=l),Hn)},movementY:function(l){return"movementY"in l?l.movementY:dn}}),lr=Ke($r),Yr=d({},$r,{dataTransfer:0}),Wr=Ke(Yr),Ui=d({},en,{relatedTarget:0}),Ai=Ke(Ui),Qa=d({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Ke(Qa),go=d({},Xt,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Oo=Ke(go),lp=d({},Xt,{data:0}),kf=Ke(lp),ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PO(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=hc[l])?!!c[l]:!1}function Wl(){return PO}var RO=d({},en,{key:function(l){if(l.key){var c=ri[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=U(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?fc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(l){return l.type==="keypress"?U(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?U(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),$O=Ke(RO),Tf=d({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Ke(Tf),Go=d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),up=Ke(Go),cp=d({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=Ke(cp),fp=d({},$r,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),MO=Ke(fp),OS=d({},Xt,{newState:0,oldState:0}),hp=Ke(OS),Cf=[9,13,27,32],dp=Kn&&"CompositionEvent"in window,Ko=null;Kn&&"documentMode"in document&&(Ko=document.documentMode);var pp=Kn&&"TextEvent"in window&&!Ko,IO=Kn&&(!dp||Ko&&8<Ko&&11>=Ko),mp=" ",DO=!1;function gp(l,c){switch(l){case"keyup":return Cf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Gl=!1;function QO(l,c){switch(l){case"compositionend":return Op(c);case"keypress":return c.which!==32?null:(DO=!0,mp);case"textInput":return l=c.data,l===mp&&DO?null:l;default:return null}}function yp(l,c){if(Gl)return l==="compositionend"||!dp&&gp(l,c)?(l=cc(),mo=Da=Zi=null,Gl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return IO&&c.locale!=="ko"?null:c.data;default:return null}}var NO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!NO[l.type]:c==="textarea"}function LO(l,c,p,g){Fr?hi?hi.push(g):hi=[g]:Fr=g,c=Sy(c,"onChange"),0<c.length&&(p=new wt("onChange","change",null,p,g),l.push({event:p,listeners:c}))}var dc=null,pc=null;function Pf(l){Z2(l,0)}function ds(l){var c=Qe(l);if(Fo(c))return l}function Vn(l,c){if(l==="change")return c}var mc=!1;if(Kn){var Ci;if(Kn){var bp="oninput"in document;if(!bp){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),bp=typeof Rf.oninput=="function"}Ci=bp}else Ci=!1;mc=Ci&&(!document.documentMode||9<document.documentMode)}function _p(){dc&&(dc.detachEvent("onpropertychange",yo),pc=dc=null)}function yo(l){if(l.propertyName==="value"&&ds(pc)){var c=[];LO(c,pc,l,zn(l)),Ms(Pf,c)}}function wp(l,c,p){l==="focusin"?(_p(),dc=c,pc=p,dc.attachEvent("onpropertychange",yo)):l==="focusout"&&_p()}function Kl(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ds(pc)}function vo(l,c){if(l==="click")return ds(c)}function jO(l,c){if(l==="input"||l==="change")return ds(c)}function b(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var S=typeof Object.is=="function"?Object.is:b;function E(l,c){if(S(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var p=Object.keys(l),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var _=p[g];if(!ve.call(c,_)||!S(l[_],c[_]))return!1}return!0}function P(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function D(l,c){var p=P(l);l=0;for(var g;p;){if(p.nodeType===3){if(g=l+p.textContent.length,l<=c&&g>=c)return{node:p,offset:c-l};l=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=P(p)}}function L(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?L(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Z(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=lo(l.document);c instanceof l.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)l=c.contentWindow;else break;c=lo(l.document)}return c}function V(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var J=Kn&&"documentMode"in document&&11>=document.documentMode,te=null,le=null,F=null,fe=!1;function ee(l,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;fe||te==null||te!==lo(g)||(g=te,"selectionStart"in g&&V(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),F&&E(F,g)||(F=g,g=Sy(le,"onSelect"),0<g.length&&(c=new wt("onSelect","select",null,c,p),l.push({event:c,listeners:g}),c.target=te)))}function ae(l,c){var p={};return p[l.toLowerCase()]=c.toLowerCase(),p["Webkit"+l]="webkit"+c,p["Moz"+l]="moz"+c,p}var ue={animationend:ae("Animation","AnimationEnd"),animationiteration:ae("Animation","AnimationIteration"),animationstart:ae("Animation","AnimationStart"),transitionrun:ae("Transition","TransitionRun"),transitionstart:ae("Transition","TransitionStart"),transitioncancel:ae("Transition","TransitionCancel"),transitionend:ae("Transition","TransitionEnd")},ie={},Oe={};Kn&&(Oe=document.createElement("div").style,"AnimationEvent"in window||(delete ue.animationend.animation,delete ue.animationiteration.animation,delete ue.animationstart.animation),"TransitionEvent"in window||delete ue.transitionend.transition);function _e(l){if(ie[l])return ie[l];if(!ue[l])return l;var c=ue[l],p;for(p in c)if(c.hasOwnProperty(p)&&p in Oe)return ie[l]=c[p];return l}var xe=_e("animationend"),Re=_e("animationiteration"),Ve=_e("animationstart"),He=_e("transitionrun"),Fe=_e("transitionstart"),We=_e("transitioncancel"),Je=_e("transitionend"),Ge=new Map,st="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");st.push("scrollEnd");function _t(l,c){Ge.set(l,c),Li(c,[l])}var Qt=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},St=[],Mr=0,Ct=0;function yr(){for(var l=Mr,c=Ct=Mr=0;c<l;){var p=St[c];St[c++]=null;var g=St[c];St[c++]=null;var _=St[c];St[c++]=null;var x=St[c];if(St[c++]=null,g!==null&&_!==null){var R=g.pending;R===null?_.next=_:(_.next=R.next,R.next=_),g.pending=_}x!==0&&bo(p,_,x)}}function vr(l,c,p,g){St[Mr++]=l,St[Mr++]=c,St[Mr++]=p,St[Mr++]=g,Ct|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function Hl(l,c,p,g){return vr(l,c,p,g),Jl(l)}function er(l,c){return vr(l,null,null,c),Jl(l)}function bo(l,c,p){l.lanes|=p;var g=l.alternate;g!==null&&(g.lanes|=p);for(var _=!1,x=l.return;x!==null;)x.childLanes|=p,g=x.alternate,g!==null&&(g.childLanes|=p),x.tag===22&&(l=x.stateNode,l===null||l._visibility&1||(_=!0)),l=x,x=x.return;return l.tag===3?(x=l.stateNode,_&&c!==null&&(_=31-de(p),l=x.hiddenUpdates,g=l[_],g===null?l[_]=[c]:g.push(c),c.lane=p|536870912),x):null}function Jl(l){if(50<qp)throw qp=0,T1=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var $f={};function kX(l,c,p,g){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(l,c,p,g){return new kX(l,c,p,g)}function yS(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ho(l,c){var p=l.alternate;return p===null?(p=Is(l.tag,c,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=c,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,c=l.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function xR(l,c){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,c=p.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function BO(l,c,p,g,_,x){var R=0;if(g=l,typeof l=="function")yS(l)&&(R=1);else if(typeof l=="string")R=P7(l,p,Pe.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case q:return l=Is(31,p,c,_),l.elementType=q,l.lanes=x,l;case v:return gc(p.children,_,x,c);case w:R=8,_|=24;break;case k:return l=Is(12,p,c,_|2),l.elementType=k,l.lanes=x,l;case I:return l=Is(13,p,c,_),l.elementType=I,l.lanes=x,l;case Q:return l=Is(19,p,c,_),l.elementType=Q,l.lanes=x,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:R=10;break e;case T:R=9;break e;case C:R=11;break e;case N:R=14;break e;case j:R=16,g=null;break e}R=29,p=Error(r(130,l===null?"null":typeof l,"")),g=null}return c=Is(R,p,c,_),c.elementType=l,c.type=g,c.lanes=x,c}function gc(l,c,p,g){return l=Is(7,l,g,c),l.lanes=p,l}function vS(l,c,p){return l=Is(6,l,null,c),l.lanes=p,l}function kR(l){var c=Is(18,null,null,0);return c.stateNode=l,c}function bS(l,c,p){return c=Is(4,l.children!==null?l.children:[],l.key,c),c.lanes=p,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var TR=new WeakMap;function oa(l,c){if(typeof l=="object"&&l!==null){var p=TR.get(l);return p!==void 0?p:(c={value:l,source:c,stack:W(c)},TR.set(l,c),c)}return{value:l,source:c,stack:W(c)}}var Mf=[],If=0,zO=null,Sp=0,la=[],ua=0,eu=null,_o=1,wo="";function Jo(l,c){Mf[If++]=Sp,Mf[If++]=zO,zO=l,Sp=c}function ER(l,c,p){la[ua++]=_o,la[ua++]=wo,la[ua++]=eu,eu=l;var g=_o;l=wo;var _=32-de(g)-1;g&=~(1<<_),p+=1;var x=32-de(c)+_;if(30<x){var R=_-_%5;x=(g&(1<<R)-1).toString(32),g>>=R,_-=R,_o=1<<32-de(c)+_|p<<_|g,wo=x+l}else _o=1<<x|p<<_|g,wo=l}function _S(l){l.return!==null&&(Jo(l,1),ER(l,1,0))}function wS(l){for(;l===zO;)zO=Mf[--If],Mf[If]=null,Sp=Mf[--If],Mf[If]=null;for(;l===eu;)eu=la[--ua],la[ua]=null,wo=la[--ua],la[ua]=null,_o=la[--ua],la[ua]=null}function AR(l,c){la[ua++]=_o,la[ua++]=wo,la[ua++]=eu,_o=c.id,wo=c.overflow,eu=l}var di=null,Zn=null,Kt=!1,tu=null,ca=!1,SS=Error(r(519));function nu(l){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xp(oa(c,l)),SS}function CR(l){var c=l.stateNode,p=l.type,g=l.memoizedProps;switch(c[vn]=l,c[xn]=g,p){case"dialog":Yt("cancel",c),Yt("close",c);break;case"iframe":case"object":case"embed":Yt("load",c);break;case"video":case"audio":for(p=0;p<Xp.length;p++)Yt(Xp[p],c);break;case"source":Yt("error",c);break;case"img":case"image":case"link":Yt("error",c),Yt("load",c);break;case"details":Yt("toggle",c);break;case"input":Yt("invalid",c),Xl(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Yt("invalid",c);break;case"textarea":Yt("invalid",c),Yo(c,g.value,g.defaultValue,g.children)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||g.suppressHydrationWarning===!0||X2(c.textContent,p)?(g.popover!=null&&(Yt("beforetoggle",c),Yt("toggle",c)),g.onScroll!=null&&Yt("scroll",c),g.onScrollEnd!=null&&Yt("scrollend",c),g.onClick!=null&&(c.onclick=cs),c=!0):c=!1,c||nu(l,!0)}function PR(l){for(di=l.return;di;)switch(di.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:di=di.return}}function Df(l){if(l!==di)return!1;if(!Kt)return PR(l),Kt=!0,!1;var c=l.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||z1(l.type,l.memoizedProps)),p=!p),p&&Zn&&nu(l),PR(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Zn=tM(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Zn=tM(l)}else c===27?(c=Zn,gu(l.type)?(l=X1,X1=null,Zn=l):Zn=c):Zn=di?ha(l.stateNode.nextSibling):null;return!0}function Oc(){Zn=di=null,Kt=!1}function xS(){var l=tu;return l!==null&&(Os===null?Os=l:Os.push.apply(Os,l),tu=null),l}function xp(l){tu===null?tu=[l]:tu.push(l)}var kS=z(null),yc=null,el=null;function ru(l,c,p){ge(kS,c._currentValue),c._currentValue=p}function tl(l){l._currentValue=kS.current,ne(kS)}function TS(l,c,p){for(;l!==null;){var g=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),l===p)break;l=l.return}}function ES(l,c,p,g){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var x=_.dependencies;if(x!==null){var R=_.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=_;for(var Y=0;Y<c.length;Y++)if(B.context===c[Y]){x.lanes|=p,B=x.alternate,B!==null&&(B.lanes|=p),TS(x.return,p,l),g||(R=null);break e}x=B.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=p,x=R.alternate,x!==null&&(x.lanes|=p),TS(R,p,l),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===l){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function Qf(l,c,p,g){l=null;for(var _=c,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var B=_.type;S(_.pendingProps.value,R.value)||(l!==null?l.push(B):l=[B])}}else if(_===it.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(Kp):l=[Kp])}_=_.return}l!==null&&ES(c,l,p,g),c.flags|=262144}function ZO(l){for(l=l.firstContext;l!==null;){if(!S(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function vc(l){yc=l,el=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function pi(l){return RR(yc,l)}function UO(l,c){return yc===null&&vc(l),RR(l,c)}function RR(l,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},el===null){if(l===null)throw Error(r(308));el=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else el=el.next=c;return p}var TX=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(p,g){l.push(g)}};this.abort=function(){c.aborted=!0,l.forEach(function(p){return p()})}},EX=t.unstable_scheduleCallback,AX=t.unstable_NormalPriority,Ir={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function AS(){return{controller:new TX,data:new Map,refCount:0}}function kp(l){l.refCount--,l.refCount===0&&EX(AX,function(){l.controller.abort()})}var Tp=null,CS=0,Nf=0,Lf=null;function CX(l,c){if(Tp===null){var p=Tp=[];CS=0,Nf=$1(),Lf={status:"pending",value:void 0,then:function(g){p.push(g)}}}return CS++,c.then($R,$R),c}function $R(){if(--CS===0&&Tp!==null){Lf!==null&&(Lf.status="fulfilled");var l=Tp;Tp=null,Nf=0,Lf=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function PX(l,c){var p=[],g={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return l.then(function(){g.status="fulfilled",g.value=c;for(var _=0;_<p.length;_++)(0,p[_])(c)},function(_){for(g.status="rejected",g.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),g}var MR=G.S;G.S=function(l,c){g2=at(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&CX(l,c),MR!==null&&MR(l,c)};var bc=z(null);function PS(){var l=bc.current;return l!==null?l:kn.pooledCache}function qO(l,c){c===null?ge(bc,bc.current):ge(bc,c.pool)}function IR(){var l=PS();return l===null?null:{parent:Ir._currentValue,pool:l}}var jf=Error(r(460)),RS=Error(r(474)),VO=Error(r(542)),XO={then:function(){}};function DR(l){return l=l.status,l==="fulfilled"||l==="rejected"}function QR(l,c,p){switch(p=l[p],p===void 0?l.push(c):p!==c&&(c.then(cs,cs),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,LR(l),l;default:if(typeof c.status=="string")c.then(cs,cs);else{if(l=kn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(g){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=g}},function(g){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,LR(l),l}throw wc=c,jf}}function _c(l){try{var c=l._init;return c(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(wc=p,jf):p}}var wc=null;function NR(){if(wc===null)throw Error(r(459));var l=wc;return wc=null,l}function LR(l){if(l===jf||l===VO)throw Error(r(483))}var Bf=null,Ep=0;function FO(l){var c=Ep;return Ep+=1,Bf===null&&(Bf=[]),QR(Bf,l,c)}function Ap(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function YO(l,c){throw c.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function jR(l){function c(ce,H){if(l){var pe=ce.deletions;pe===null?(ce.deletions=[H],ce.flags|=16):pe.push(H)}}function p(ce,H){if(!l)return null;for(;H!==null;)c(ce,H),H=H.sibling;return null}function g(ce){for(var H=new Map;ce!==null;)ce.key!==null?H.set(ce.key,ce):H.set(ce.index,ce),ce=ce.sibling;return H}function _(ce,H){return ce=Ho(ce,H),ce.index=0,ce.sibling=null,ce}function x(ce,H,pe){return ce.index=pe,l?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<H?(ce.flags|=67108866,H):pe):(ce.flags|=67108866,H)):(ce.flags|=1048576,H)}function R(ce){return l&&ce.alternate===null&&(ce.flags|=67108866),ce}function B(ce,H,pe,$e){return H===null||H.tag!==6?(H=vS(pe,ce.mode,$e),H.return=ce,H):(H=_(H,pe),H.return=ce,H)}function Y(ce,H,pe,$e){var vt=pe.type;return vt===v?Ce(ce,H,pe.props.children,$e,pe.key):H!==null&&(H.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===j&&_c(vt)===H.type)?(H=_(H,pe.props),Ap(H,pe),H.return=ce,H):(H=BO(pe.type,pe.key,pe.props,null,ce.mode,$e),Ap(H,pe),H.return=ce,H)}function me(ce,H,pe,$e){return H===null||H.tag!==4||H.stateNode.containerInfo!==pe.containerInfo||H.stateNode.implementation!==pe.implementation?(H=bS(pe,ce.mode,$e),H.return=ce,H):(H=_(H,pe.children||[]),H.return=ce,H)}function Ce(ce,H,pe,$e,vt){return H===null||H.tag!==7?(H=gc(pe,ce.mode,$e,vt),H.return=ce,H):(H=_(H,pe),H.return=ce,H)}function Ie(ce,H,pe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=vS(""+H,ce.mode,pe),H.return=ce,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return pe=BO(H.type,H.key,H.props,null,ce.mode,pe),Ap(pe,H),pe.return=ce,pe;case y:return H=bS(H,ce.mode,pe),H.return=ce,H;case j:return H=_c(H),Ie(ce,H,pe)}if(Be(H)||K(H))return H=gc(H,ce.mode,pe,null),H.return=ce,H;if(typeof H.then=="function")return Ie(ce,FO(H),pe);if(H.$$typeof===A)return Ie(ce,UO(ce,H),pe);YO(ce,H)}return null}function be(ce,H,pe,$e){var vt=H!==null?H.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return vt!==null?null:B(ce,H,""+pe,$e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case O:return pe.key===vt?Y(ce,H,pe,$e):null;case y:return pe.key===vt?me(ce,H,pe,$e):null;case j:return pe=_c(pe),be(ce,H,pe,$e)}if(Be(pe)||K(pe))return vt!==null?null:Ce(ce,H,pe,$e,null);if(typeof pe.then=="function")return be(ce,H,FO(pe),$e);if(pe.$$typeof===A)return be(ce,H,UO(ce,pe),$e);YO(ce,pe)}return null}function ke(ce,H,pe,$e,vt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return ce=ce.get(pe)||null,B(H,ce,""+$e,vt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case O:return ce=ce.get($e.key===null?pe:$e.key)||null,Y(H,ce,$e,vt);case y:return ce=ce.get($e.key===null?pe:$e.key)||null,me(H,ce,$e,vt);case j:return $e=_c($e),ke(ce,H,pe,$e,vt)}if(Be($e)||K($e))return ce=ce.get(pe)||null,Ce(H,ce,$e,vt,null);if(typeof $e.then=="function")return ke(ce,H,pe,FO($e),vt);if($e.$$typeof===A)return ke(ce,H,pe,UO(H,$e),vt);YO(H,$e)}return null}function lt(ce,H,pe,$e){for(var vt=null,tn=null,pt=H,Zt=H=0,Gt=null;pt!==null&&Zt<pe.length;Zt++){pt.index>Zt?(Gt=pt,pt=null):Gt=pt.sibling;var nn=be(ce,pt,pe[Zt],$e);if(nn===null){pt===null&&(pt=Gt);break}l&&pt&&nn.alternate===null&&c(ce,pt),H=x(nn,H,Zt),tn===null?vt=nn:tn.sibling=nn,tn=nn,pt=Gt}if(Zt===pe.length)return p(ce,pt),Kt&&Jo(ce,Zt),vt;if(pt===null){for(;Zt<pe.length;Zt++)pt=Ie(ce,pe[Zt],$e),pt!==null&&(H=x(pt,H,Zt),tn===null?vt=pt:tn.sibling=pt,tn=pt);return Kt&&Jo(ce,Zt),vt}for(pt=g(pt);Zt<pe.length;Zt++)Gt=ke(pt,ce,Zt,pe[Zt],$e),Gt!==null&&(l&&Gt.alternate!==null&&pt.delete(Gt.key===null?Zt:Gt.key),H=x(Gt,H,Zt),tn===null?vt=Gt:tn.sibling=Gt,tn=Gt);return l&&pt.forEach(function(_u){return c(ce,_u)}),Kt&&Jo(ce,Zt),vt}function xt(ce,H,pe,$e){if(pe==null)throw Error(r(151));for(var vt=null,tn=null,pt=H,Zt=H=0,Gt=null,nn=pe.next();pt!==null&&!nn.done;Zt++,nn=pe.next()){pt.index>Zt?(Gt=pt,pt=null):Gt=pt.sibling;var _u=be(ce,pt,nn.value,$e);if(_u===null){pt===null&&(pt=Gt);break}l&&pt&&_u.alternate===null&&c(ce,pt),H=x(_u,H,Zt),tn===null?vt=_u:tn.sibling=_u,tn=_u,pt=Gt}if(nn.done)return p(ce,pt),Kt&&Jo(ce,Zt),vt;if(pt===null){for(;!nn.done;Zt++,nn=pe.next())nn=Ie(ce,nn.value,$e),nn!==null&&(H=x(nn,H,Zt),tn===null?vt=nn:tn.sibling=nn,tn=nn);return Kt&&Jo(ce,Zt),vt}for(pt=g(pt);!nn.done;Zt++,nn=pe.next())nn=ke(pt,ce,Zt,nn.value,$e),nn!==null&&(l&&nn.alternate!==null&&pt.delete(nn.key===null?Zt:nn.key),H=x(nn,H,Zt),tn===null?vt=nn:tn.sibling=nn,tn=nn);return l&&pt.forEach(function(z7){return c(ce,z7)}),Kt&&Jo(ce,Zt),vt}function wn(ce,H,pe,$e){if(typeof pe=="object"&&pe!==null&&pe.type===v&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case O:e:{for(var vt=pe.key;H!==null;){if(H.key===vt){if(vt=pe.type,vt===v){if(H.tag===7){p(ce,H.sibling),$e=_(H,pe.props.children),$e.return=ce,ce=$e;break e}}else if(H.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===j&&_c(vt)===H.type){p(ce,H.sibling),$e=_(H,pe.props),Ap($e,pe),$e.return=ce,ce=$e;break e}p(ce,H);break}else c(ce,H);H=H.sibling}pe.type===v?($e=gc(pe.props.children,ce.mode,$e,pe.key),$e.return=ce,ce=$e):($e=BO(pe.type,pe.key,pe.props,null,ce.mode,$e),Ap($e,pe),$e.return=ce,ce=$e)}return R(ce);case y:e:{for(vt=pe.key;H!==null;){if(H.key===vt)if(H.tag===4&&H.stateNode.containerInfo===pe.containerInfo&&H.stateNode.implementation===pe.implementation){p(ce,H.sibling),$e=_(H,pe.children||[]),$e.return=ce,ce=$e;break e}else{p(ce,H);break}else c(ce,H);H=H.sibling}$e=bS(pe,ce.mode,$e),$e.return=ce,ce=$e}return R(ce);case j:return pe=_c(pe),wn(ce,H,pe,$e)}if(Be(pe))return lt(ce,H,pe,$e);if(K(pe)){if(vt=K(pe),typeof vt!="function")throw Error(r(150));return pe=vt.call(pe),xt(ce,H,pe,$e)}if(typeof pe.then=="function")return wn(ce,H,FO(pe),$e);if(pe.$$typeof===A)return wn(ce,H,UO(ce,pe),$e);YO(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,H!==null&&H.tag===6?(p(ce,H.sibling),$e=_(H,pe),$e.return=ce,ce=$e):(p(ce,H),$e=vS(pe,ce.mode,$e),$e.return=ce,ce=$e),R(ce)):p(ce,H)}return function(ce,H,pe,$e){try{Ep=0;var vt=wn(ce,H,pe,$e);return Bf=null,vt}catch(pt){if(pt===jf||pt===VO)throw pt;var tn=Is(29,pt,null,ce.mode);return tn.lanes=$e,tn.return=ce,tn}}}var Sc=jR(!0),BR=jR(!1),iu=!1;function $S(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function MS(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function su(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function au(l,c,p){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(an&2)!==0){var _=g.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),g.pending=c,c=Jl(l),bo(l,null,p),c}return vr(l,g,c,p),Jl(l)}function Cp(l,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var g=c.lanes;g&=l.pendingLanes,p|=g,c.lanes=p,jn(l,p)}}function IS(l,c){var p=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var _=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var R={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?_=x=R:x=x.next=R,p=p.next}while(p!==null);x===null?_=x=c:x=x.next=c}else _=x=c;p={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:g.shared,callbacks:g.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=c}var DS=!1;function Pp(){if(DS){var l=Lf;if(l!==null)throw l}}function Rp(l,c,p,g){DS=!1;var _=l.updateQueue;iu=!1;var x=_.firstBaseUpdate,R=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var Y=B,me=Y.next;Y.next=null,R===null?x=me:R.next=me,R=Y;var Ce=l.alternate;Ce!==null&&(Ce=Ce.updateQueue,B=Ce.lastBaseUpdate,B!==R&&(B===null?Ce.firstBaseUpdate=me:B.next=me,Ce.lastBaseUpdate=Y))}if(x!==null){var Ie=_.baseState;R=0,Ce=me=Y=null,B=x;do{var be=B.lane&-536870913,ke=be!==B.lane;if(ke?(Wt&be)===be:(g&be)===be){be!==0&&be===Nf&&(DS=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var lt=l,xt=B;be=c;var wn=p;switch(xt.tag){case 1:if(lt=xt.payload,typeof lt=="function"){Ie=lt.call(wn,Ie,be);break e}Ie=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=xt.payload,be=typeof lt=="function"?lt.call(wn,Ie,be):lt,be==null)break e;Ie=d({},Ie,be);break e;case 2:iu=!0}}be=B.callback,be!==null&&(l.flags|=64,ke&&(l.flags|=8192),ke=_.callbacks,ke===null?_.callbacks=[be]:ke.push(be))}else ke={lane:be,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ce===null?(me=Ce=ke,Y=Ie):Ce=Ce.next=ke,R|=be;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ke=B,B=ke.next,ke.next=null,_.lastBaseUpdate=ke,_.shared.pending=null}}while(!0);Ce===null&&(Y=Ie),_.baseState=Y,_.firstBaseUpdate=me,_.lastBaseUpdate=Ce,x===null&&(_.shared.lanes=0),fu|=R,l.lanes=R,l.memoizedState=Ie}}function zR(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function ZR(l,c){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)zR(p[l],c)}var zf=z(null),WO=z(0);function UR(l,c){l=cl,ge(WO,l),ge(zf,c),cl=l|c.baseLanes}function QS(){ge(WO,cl),ge(zf,zf.current)}function NS(){cl=WO.current,ne(zf),ne(WO)}var Ds=z(null),fa=null;function ou(l){var c=l.alternate;ge(br,br.current&1),ge(Ds,l),fa===null&&(c===null||zf.current!==null||c.memoizedState!==null)&&(fa=l)}function LS(l){ge(br,br.current),ge(Ds,l),fa===null&&(fa=l)}function qR(l){l.tag===22?(ge(br,br.current),ge(Ds,l),fa===null&&(fa=l)):lu()}function lu(){ge(br,br.current),ge(Ds,Ds.current)}function Qs(l){ne(Ds),fa===l&&(fa=null),ne(br)}var br=z(0);function GO(l){for(var c=l;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||q1(p)||V1(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var nl=0,Lt=null,bn=null,Dr=null,KO=!1,Zf=!1,xc=!1,HO=0,$p=0,Uf=null,RX=0;function ur(){throw Error(r(321))}function jS(l,c){if(c===null)return!1;for(var p=0;p<c.length&&p<l.length;p++)if(!S(l[p],c[p]))return!1;return!0}function BS(l,c,p,g,_,x){return nl=x,Lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=l===null||l.memoizedState===null?E$:t1,xc=!1,x=p(g,_),xc=!1,Zf&&(x=XR(c,p,g,_)),VR(l),x}function VR(l){G.H=Dp;var c=bn!==null&&bn.next!==null;if(nl=0,Dr=bn=Lt=null,KO=!1,$p=0,Uf=null,c)throw Error(r(300));l===null||Qr||(l=l.dependencies,l!==null&&ZO(l)&&(Qr=!0))}function XR(l,c,p,g){Lt=l;var _=0;do{if(Zf&&(Uf=null),$p=0,Zf=!1,25<=_)throw Error(r(301));if(_+=1,Dr=bn=null,l.updateQueue!=null){var x=l.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}G.H=A$,x=c(p,g)}while(Zf);return x}function $X(){var l=G.H,c=l.useState()[0];return c=typeof c.then=="function"?Mp(c):c,l=l.useState()[0],(bn!==null?bn.memoizedState:null)!==l&&(Lt.flags|=1024),c}function zS(){var l=HO!==0;return HO=0,l}function ZS(l,c,p){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~p}function US(l){if(KO){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}KO=!1}nl=0,Dr=bn=Lt=null,Zf=!1,$p=HO=0,Uf=null}function qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Lt.memoizedState=Dr=l:Dr=Dr.next=l,Dr}function _r(){if(bn===null){var l=Lt.alternate;l=l!==null?l.memoizedState:null}else l=bn.next;var c=Dr===null?Lt.memoizedState:Dr.next;if(c!==null)Dr=c,bn=l;else{if(l===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));bn=l,l={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Dr===null?Lt.memoizedState=Dr=l:Dr=Dr.next=l}return Dr}function JO(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mp(l){var c=$p;return $p+=1,Uf===null&&(Uf=[]),l=QR(Uf,l,c),c=Lt,(Dr===null?c.memoizedState:Dr.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?E$:t1),l}function ey(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Mp(l);if(l.$$typeof===A)return pi(l)}throw Error(r(438,String(l)))}function qS(l){var c=null,p=Lt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var g=Lt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=JO(),Lt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(l),g=0;g<l;g++)p[g]=oe;return c.index++,p}function rl(l,c){return typeof c=="function"?c(l):c}function ty(l){var c=_r();return VS(c,bn,l)}function VS(l,c,p){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var _=l.baseQueue,x=g.pending;if(x!==null){if(_!==null){var R=_.next;_.next=x.next,x.next=R}c.baseQueue=_=x,g.pending=null}if(x=l.baseState,_===null)l.memoizedState=x;else{c=_.next;var B=R=null,Y=null,me=c,Ce=!1;do{var Ie=me.lane&-536870913;if(Ie!==me.lane?(Wt&Ie)===Ie:(nl&Ie)===Ie){var be=me.revertLane;if(be===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ie===Nf&&(Ce=!0);else if((nl&be)===be){me=me.next,be===Nf&&(Ce=!0);continue}else Ie={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},Y===null?(B=Y=Ie,R=x):Y=Y.next=Ie,Lt.lanes|=be,fu|=be;Ie=me.action,xc&&p(x,Ie),x=me.hasEagerState?me.eagerState:p(x,Ie)}else be={lane:Ie,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},Y===null?(B=Y=be,R=x):Y=Y.next=be,Lt.lanes|=Ie,fu|=Ie;me=me.next}while(me!==null&&me!==c);if(Y===null?R=x:Y.next=B,!S(x,l.memoizedState)&&(Qr=!0,Ce&&(p=Lf,p!==null)))throw p;l.memoizedState=x,l.baseState=R,l.baseQueue=Y,g.lastRenderedState=x}return _===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function XS(l){var c=_r(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var g=p.dispatch,_=p.pending,x=c.memoizedState;if(_!==null){p.pending=null;var R=_=_.next;do x=l(x,R.action),R=R.next;while(R!==_);S(x,c.memoizedState)||(Qr=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,g]}function FR(l,c,p){var g=Lt,_=_r(),x=Kt;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var R=!S((bn||_).memoizedState,p);if(R&&(_.memoizedState=p,Qr=!0),_=_.queue,WS(GR.bind(null,g,_,l),[l]),_.getSnapshot!==c||R||Dr!==null&&Dr.memoizedState.tag&1){if(g.flags|=2048,qf(9,{destroy:void 0},WR.bind(null,g,_,p,c),null),kn===null)throw Error(r(349));x||(nl&127)!==0||YR(g,c,p)}return p}function YR(l,c,p){l.flags|=16384,l={getSnapshot:c,value:p},c=Lt.updateQueue,c===null?(c=JO(),Lt.updateQueue=c,c.stores=[l]):(p=c.stores,p===null?c.stores=[l]:p.push(l))}function WR(l,c,p,g){c.value=p,c.getSnapshot=g,KR(c)&&HR(l)}function GR(l,c,p){return p(function(){KR(c)&&HR(l)})}function KR(l){var c=l.getSnapshot;l=l.value;try{var p=c();return!S(l,p)}catch{return!0}}function HR(l){var c=er(l,2);c!==null&&ys(c,l,2)}function FS(l){var c=qi();if(typeof l=="function"){var p=l;if(l=p(),xc){nt(!0);try{p()}finally{nt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},c}function JR(l,c,p,g){return l.baseState=p,VS(l,bn,typeof g=="function"?g:rl)}function MX(l,c,p,g,_){if(iy(l))throw Error(r(485));if(l=c.action,l!==null){var x={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){x.listeners.push(R)}};G.T!==null?p(!0):x.isTransition=!1,g(x),p=c.pending,p===null?(x.next=c.pending=x,e$(c,x)):(x.next=p.next,c.pending=p.next=x)}}function e$(l,c){var p=c.action,g=c.payload,_=l.state;if(c.isTransition){var x=G.T,R={};G.T=R;try{var B=p(_,g),Y=G.S;Y!==null&&Y(R,B),t$(l,c,B)}catch(me){YS(l,c,me)}finally{x!==null&&R.types!==null&&(x.types=R.types),G.T=x}}else try{x=p(_,g),t$(l,c,x)}catch(me){YS(l,c,me)}}function t$(l,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){n$(l,c,g)},function(g){return YS(l,c,g)}):n$(l,c,p)}function n$(l,c,p){c.status="fulfilled",c.value=p,r$(c),l.state=p,c=l.pending,c!==null&&(p=c.next,p===c?l.pending=null:(p=p.next,c.next=p,e$(l,p)))}function YS(l,c,p){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=p,r$(c),c=c.next;while(c!==g)}l.action=null}function r$(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function i$(l,c){return c}function s$(l,c){if(Kt){var p=kn.formState;if(p!==null){e:{var g=Lt;if(Kt){if(Zn){t:{for(var _=Zn,x=ca;_.nodeType!==8;){if(!x){_=null;break t}if(_=ha(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){Zn=ha(_.nextSibling),g=_.data==="F!";break e}}nu(g)}g=!1}g&&(c=p[0])}}return p=qi(),p.memoizedState=p.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i$,lastRenderedState:c},p.queue=g,p=x$.bind(null,Lt,g),g.dispatch=p,g=FS(!1),x=e1.bind(null,Lt,!1,g.queue),g=qi(),_={state:c,dispatch:null,action:l,pending:null},g.queue=_,p=MX.bind(null,Lt,_,x,p),_.dispatch=p,g.memoizedState=l,[c,p,!1]}function a$(l){var c=_r();return o$(c,bn,l)}function o$(l,c,p){if(c=VS(l,c,i$)[0],l=ty(rl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Mp(c)}catch(R){throw R===jf?VO:R}else g=c;c=_r();var _=c.queue,x=_.dispatch;return p!==c.memoizedState&&(Lt.flags|=2048,qf(9,{destroy:void 0},IX.bind(null,_,p),null)),[g,x,l]}function IX(l,c){l.action=c}function l$(l){var c=_r(),p=bn;if(p!==null)return o$(c,p,l);_r(),c=c.memoizedState,p=_r();var g=p.queue.dispatch;return p.memoizedState=l,[c,g,!1]}function qf(l,c,p,g){return l={tag:l,create:p,deps:g,inst:c,next:null},c=Lt.updateQueue,c===null&&(c=JO(),Lt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=l.next=l:(g=p.next,p.next=l,l.next=g,c.lastEffect=l),l}function u$(){return _r().memoizedState}function ny(l,c,p,g){var _=qi();Lt.flags|=l,_.memoizedState=qf(1|c,{destroy:void 0},p,g===void 0?null:g)}function ry(l,c,p,g){var _=_r();g=g===void 0?null:g;var x=_.memoizedState.inst;bn!==null&&g!==null&&jS(g,bn.memoizedState.deps)?_.memoizedState=qf(c,x,p,g):(Lt.flags|=l,_.memoizedState=qf(1|c,x,p,g))}function c$(l,c){ny(8390656,8,l,c)}function WS(l,c){ry(2048,8,l,c)}function DX(l){Lt.flags|=4;var c=Lt.updateQueue;if(c===null)c=JO(),Lt.updateQueue=c,c.events=[l];else{var p=c.events;p===null?c.events=[l]:p.push(l)}}function f$(l){var c=_r().memoizedState;return DX({ref:c,nextImpl:l}),function(){if((an&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function h$(l,c){return ry(4,2,l,c)}function d$(l,c){return ry(4,4,l,c)}function p$(l,c){if(typeof c=="function"){l=l();var p=c(l);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function m$(l,c,p){p=p!=null?p.concat([l]):null,ry(4,4,p$.bind(null,c,l),p)}function GS(){}function g$(l,c){var p=_r();c=c===void 0?null:c;var g=p.memoizedState;return c!==null&&jS(c,g[1])?g[0]:(p.memoizedState=[l,c],l)}function O$(l,c){var p=_r();c=c===void 0?null:c;var g=p.memoizedState;if(c!==null&&jS(c,g[1]))return g[0];if(g=l(),xc){nt(!0);try{l()}finally{nt(!1)}}return p.memoizedState=[g,c],g}function KS(l,c,p){return p===void 0||(nl&1073741824)!==0&&(Wt&261930)===0?l.memoizedState=c:(l.memoizedState=p,l=y2(),Lt.lanes|=l,fu|=l,p)}function y$(l,c,p,g){return S(p,c)?p:zf.current!==null?(l=KS(l,p,g),S(l,c)||(Qr=!0),l):(nl&42)===0||(nl&1073741824)!==0&&(Wt&261930)===0?(Qr=!0,l.memoizedState=p):(l=y2(),Lt.lanes|=l,fu|=l,c)}function v$(l,c,p,g,_){var x=ye.p;ye.p=x!==0&&8>x?x:8;var R=G.T,B={};G.T=B,e1(l,!1,c,p);try{var Y=_(),me=G.S;if(me!==null&&me(B,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Ce=PX(Y,g);Ip(l,c,Ce,js(l))}else Ip(l,c,g,js(l))}catch(Ie){Ip(l,c,{then:function(){},status:"rejected",reason:Ie},js())}finally{ye.p=x,R!==null&&B.types!==null&&(R.types=B.types),G.T=R}}function QX(){}function HS(l,c,p,g){if(l.tag!==5)throw Error(r(476));var _=b$(l).queue;v$(l,_,c,Se,p===null?QX:function(){return _$(l),p(g)})}function b$(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:Se},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:p},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function _$(l){var c=b$(l);c.next===null&&(c=l.alternate.memoizedState),Ip(l,c.next.queue,{},js())}function JS(){return pi(Kp)}function w$(){return _r().memoizedState}function S$(){return _r().memoizedState}function NX(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var p=js();l=su(p);var g=au(c,l,p);g!==null&&(ys(g,c,p),Cp(g,c,p)),c={cache:AS()},l.payload=c;return}c=c.return}}function LX(l,c,p){var g=js();p={lane:g,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},iy(l)?k$(c,p):(p=Hl(l,c,p,g),p!==null&&(ys(p,l,g),T$(p,c,g)))}function x$(l,c,p){var g=js();Ip(l,c,p,g)}function Ip(l,c,p,g){var _={lane:g,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(iy(l))k$(c,_);else{var x=l.alternate;if(l.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var R=c.lastRenderedState,B=x(R,p);if(_.hasEagerState=!0,_.eagerState=B,S(B,R))return vr(l,c,_,0),kn===null&&yr(),!1}catch{}if(p=Hl(l,c,_,g),p!==null)return ys(p,l,g),T$(p,c,g),!0}return!1}function e1(l,c,p,g){if(g={lane:2,revertLane:$1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},iy(l)){if(c)throw Error(r(479))}else c=Hl(l,p,g,2),c!==null&&ys(c,l,2)}function iy(l){var c=l.alternate;return l===Lt||c!==null&&c===Lt}function k$(l,c){Zf=KO=!0;var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}function T$(l,c,p){if((p&4194048)!==0){var g=c.lanes;g&=l.pendingLanes,p|=g,c.lanes=p,jn(l,p)}}var Dp={readContext:pi,use:ey,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};Dp.useEffectEvent=ur;var E$={readContext:pi,use:ey,useCallback:function(l,c){return qi().memoizedState=[l,c===void 0?null:c],l},useContext:pi,useEffect:c$,useImperativeHandle:function(l,c,p){p=p!=null?p.concat([l]):null,ny(4194308,4,p$.bind(null,c,l),p)},useLayoutEffect:function(l,c){return ny(4194308,4,l,c)},useInsertionEffect:function(l,c){ny(4,2,l,c)},useMemo:function(l,c){var p=qi();c=c===void 0?null:c;var g=l();if(xc){nt(!0);try{l()}finally{nt(!1)}}return p.memoizedState=[g,c],g},useReducer:function(l,c,p){var g=qi();if(p!==void 0){var _=p(c);if(xc){nt(!0);try{p(c)}finally{nt(!1)}}}else _=c;return g.memoizedState=g.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},g.queue=l,l=l.dispatch=LX.bind(null,Lt,l),[g.memoizedState,l]},useRef:function(l){var c=qi();return l={current:l},c.memoizedState=l},useState:function(l){l=FS(l);var c=l.queue,p=x$.bind(null,Lt,c);return c.dispatch=p,[l.memoizedState,p]},useDebugValue:GS,useDeferredValue:function(l,c){var p=qi();return KS(p,l,c)},useTransition:function(){var l=FS(!1);return l=v$.bind(null,Lt,l.queue,!0,!1),qi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,p){var g=Lt,_=qi();if(Kt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),kn===null)throw Error(r(349));(Wt&127)!==0||YR(g,c,p)}_.memoizedState=p;var x={value:p,getSnapshot:c};return _.queue=x,c$(GR.bind(null,g,x,l),[l]),g.flags|=2048,qf(9,{destroy:void 0},WR.bind(null,g,x,p,c),null),p},useId:function(){var l=qi(),c=kn.identifierPrefix;if(Kt){var p=wo,g=_o;p=(g&~(1<<32-de(g)-1)).toString(32)+p,c="_"+c+"R_"+p,p=HO++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=RX++,c="_"+c+"r_"+p.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:JS,useFormState:s$,useActionState:s$,useOptimistic:function(l){var c=qi();c.memoizedState=c.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=e1.bind(null,Lt,!0,p),p.dispatch=c,[l,c]},useMemoCache:qS,useCacheRefresh:function(){return qi().memoizedState=NX.bind(null,Lt)},useEffectEvent:function(l){var c=qi(),p={impl:l};return c.memoizedState=p,function(){if((an&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},t1={readContext:pi,use:ey,useCallback:g$,useContext:pi,useEffect:WS,useImperativeHandle:m$,useInsertionEffect:h$,useLayoutEffect:d$,useMemo:O$,useReducer:ty,useRef:u$,useState:function(){return ty(rl)},useDebugValue:GS,useDeferredValue:function(l,c){var p=_r();return y$(p,bn.memoizedState,l,c)},useTransition:function(){var l=ty(rl)[0],c=_r().memoizedState;return[typeof l=="boolean"?l:Mp(l),c]},useSyncExternalStore:FR,useId:w$,useHostTransitionStatus:JS,useFormState:a$,useActionState:a$,useOptimistic:function(l,c){var p=_r();return JR(p,bn,l,c)},useMemoCache:qS,useCacheRefresh:S$};t1.useEffectEvent=f$;var A$={readContext:pi,use:ey,useCallback:g$,useContext:pi,useEffect:WS,useImperativeHandle:m$,useInsertionEffect:h$,useLayoutEffect:d$,useMemo:O$,useReducer:XS,useRef:u$,useState:function(){return XS(rl)},useDebugValue:GS,useDeferredValue:function(l,c){var p=_r();return bn===null?KS(p,l,c):y$(p,bn.memoizedState,l,c)},useTransition:function(){var l=XS(rl)[0],c=_r().memoizedState;return[typeof l=="boolean"?l:Mp(l),c]},useSyncExternalStore:FR,useId:w$,useHostTransitionStatus:JS,useFormState:l$,useActionState:l$,useOptimistic:function(l,c){var p=_r();return bn!==null?JR(p,bn,l,c):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:qS,useCacheRefresh:S$};A$.useEffectEvent=f$;function n1(l,c,p,g){c=l.memoizedState,p=p(g,c),p=p==null?c:d({},c,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var r1={enqueueSetState:function(l,c,p){l=l._reactInternals;var g=js(),_=su(g);_.payload=c,p!=null&&(_.callback=p),c=au(l,_,g),c!==null&&(ys(c,l,g),Cp(c,l,g))},enqueueReplaceState:function(l,c,p){l=l._reactInternals;var g=js(),_=su(g);_.tag=1,_.payload=c,p!=null&&(_.callback=p),c=au(l,_,g),c!==null&&(ys(c,l,g),Cp(c,l,g))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var p=js(),g=su(p);g.tag=2,c!=null&&(g.callback=c),c=au(l,g,p),c!==null&&(ys(c,l,p),Cp(c,l,p))}};function C$(l,c,p,g,_,x,R){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,x,R):c.prototype&&c.prototype.isPureReactComponent?!E(p,g)||!E(_,x):!0}function P$(l,c,p,g){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==l&&r1.enqueueReplaceState(c,c.state,null)}function kc(l,c){var p=c;if("ref"in c){p={};for(var g in c)g!=="ref"&&(p[g]=c[g])}if(l=l.defaultProps){p===c&&(p=d({},p));for(var _ in l)p[_]===void 0&&(p[_]=l[_])}return p}function R$(l){Qt(l)}function $$(l){console.error(l)}function M$(l){Qt(l)}function sy(l,c){try{var p=l.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function I$(l,c,p){try{var g=l.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function i1(l,c,p){return p=su(p),p.tag=3,p.payload={element:null},p.callback=function(){sy(l,c)},p}function D$(l){return l=su(l),l.tag=3,l}function Q$(l,c,p,g){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var x=g.value;l.payload=function(){return _(x)},l.callback=function(){I$(c,p,g)}}var R=p.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(l.callback=function(){I$(c,p,g),typeof _!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function jX(l,c,p,g,_){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=p.alternate,c!==null&&Qf(c,p,_,!0),p=Ds.current,p!==null){switch(p.tag){case 31:case 13:return fa===null?Oy():p.alternate===null&&cr===0&&(cr=3),p.flags&=-257,p.flags|=65536,p.lanes=_,g===XO?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([g]):c.add(g),C1(l,g,_)),!1;case 22:return p.flags|=65536,g===XO?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([g]):p.add(g)),C1(l,g,_)),!1}throw Error(r(435,p.tag))}return C1(l,g,_),Oy(),!1}if(Kt)return c=Ds.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,g!==SS&&(l=Error(r(422),{cause:g}),xp(oa(l,p)))):(g!==SS&&(c=Error(r(423),{cause:g}),xp(oa(c,p))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,g=oa(g,p),_=i1(l.stateNode,g,_),IS(l,_),cr!==4&&(cr=2)),!1;var x=Error(r(520),{cause:g});if(x=oa(x,p),Up===null?Up=[x]:Up.push(x),cr!==4&&(cr=2),c===null)return!0;g=oa(g,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,l=_&-_,p.lanes|=l,l=i1(p.stateNode,g,l),IS(p,l),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hu===null||!hu.has(x))))return p.flags|=65536,_&=-_,p.lanes|=_,_=D$(_),Q$(_,l,p,g),IS(p,_),!1}p=p.return}while(p!==null);return!1}var s1=Error(r(461)),Qr=!1;function mi(l,c,p,g){c.child=l===null?BR(c,null,p,g):Sc(c,l.child,p,g)}function N$(l,c,p,g,_){p=p.render;var x=c.ref;if("ref"in g){var R={};for(var B in g)B!=="ref"&&(R[B]=g[B])}else R=g;return vc(c),g=BS(l,c,p,R,x,_),B=zS(),l!==null&&!Qr?(ZS(l,c,_),il(l,c,_)):(Kt&&B&&_S(c),c.flags|=1,mi(l,c,g,_),c.child)}function L$(l,c,p,g,_){if(l===null){var x=p.type;return typeof x=="function"&&!yS(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,j$(l,c,x,g,_)):(l=BO(p.type,null,g,c,c.mode,_),l.ref=c.ref,l.return=c,c.child=l)}if(x=l.child,!d1(l,_)){var R=x.memoizedProps;if(p=p.compare,p=p!==null?p:E,p(R,g)&&l.ref===c.ref)return il(l,c,_)}return c.flags|=1,l=Ho(x,g),l.ref=c.ref,l.return=c,c.child=l}function j$(l,c,p,g,_){if(l!==null){var x=l.memoizedProps;if(E(x,g)&&l.ref===c.ref)if(Qr=!1,c.pendingProps=g=x,d1(l,_))(l.flags&131072)!==0&&(Qr=!0);else return c.lanes=l.lanes,il(l,c,_)}return a1(l,c,p,g,_)}function B$(l,c,p,g){var _=g.children,x=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,l!==null){for(g=c.child=l.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~x}else g=0,c.child=null;return z$(l,c,x,p,g)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&qO(c,x!==null?x.cachePool:null),x!==null?UR(c,x):QS(),qR(c);else return g=c.lanes=536870912,z$(l,c,x!==null?x.baseLanes|p:p,p,g)}else x!==null?(qO(c,x.cachePool),UR(c,x),lu(),c.memoizedState=null):(l!==null&&qO(c,null),QS(),lu());return mi(l,c,_,p),c.child}function Qp(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function z$(l,c,p,g,_){var x=PS();return x=x===null?null:{parent:Ir._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},l!==null&&qO(c,null),QS(),qR(c),l!==null&&Qf(l,c,g,!0),c.childLanes=_,null}function ay(l,c){return c=ly({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function Z$(l,c,p){return Sc(c,l.child,null,p),l=ay(c,c.pendingProps),l.flags|=2,Qs(c),c.memoizedState=null,l}function BX(l,c,p){var g=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(Kt){if(g.mode==="hidden")return l=ay(c,g),c.lanes=536870912,Qp(null,l);if(LS(c),(l=Zn)?(l=eM(l,ca),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:eu!==null?{id:_o,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},p=kR(l),p.return=c,c.child=p,di=c,Zn=null)):l=null,l===null)throw nu(c);return c.lanes=536870912,null}return ay(c,g)}var x=l.memoizedState;if(x!==null){var R=x.dehydrated;if(LS(c),_)if(c.flags&256)c.flags&=-257,c=Z$(l,c,p);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(r(558));else if(Qr||Qf(l,c,p,!1),_=(p&l.childLanes)!==0,Qr||_){if(g=kn,g!==null&&(R=Zl(g,p),R!==0&&R!==x.retryLane))throw x.retryLane=R,er(l,R),ys(g,l,R),s1;Oy(),c=Z$(l,c,p)}else l=x.treeContext,Zn=ha(R.nextSibling),di=c,Kt=!0,tu=null,ca=!1,l!==null&&AR(c,l),c=ay(c,g),c.flags|=4096;return c}return l=Ho(l.child,{mode:g.mode,children:g.children}),l.ref=c.ref,c.child=l,l.return=c,l}function oy(l,c){var p=c.ref;if(p===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(c.flags|=4194816)}}function a1(l,c,p,g,_){return vc(c),p=BS(l,c,p,g,void 0,_),g=zS(),l!==null&&!Qr?(ZS(l,c,_),il(l,c,_)):(Kt&&g&&_S(c),c.flags|=1,mi(l,c,p,_),c.child)}function U$(l,c,p,g,_,x){return vc(c),c.updateQueue=null,p=XR(c,g,p,_),VR(l),g=zS(),l!==null&&!Qr?(ZS(l,c,x),il(l,c,x)):(Kt&&g&&_S(c),c.flags|=1,mi(l,c,p,x),c.child)}function q$(l,c,p,g,_){if(vc(c),c.stateNode===null){var x=$f,R=p.contextType;typeof R=="object"&&R!==null&&(x=pi(R)),x=new p(g,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=r1,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=g,x.state=c.memoizedState,x.refs={},$S(c),R=p.contextType,x.context=typeof R=="object"&&R!==null?pi(R):$f,x.state=c.memoizedState,R=p.getDerivedStateFromProps,typeof R=="function"&&(n1(c,p,R,g),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(R=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),R!==x.state&&r1.enqueueReplaceState(x,x.state,null),Rp(c,g,x,_),Pp(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(l===null){x=c.stateNode;var B=c.memoizedProps,Y=kc(p,B);x.props=Y;var me=x.context,Ce=p.contextType;R=$f,typeof Ce=="object"&&Ce!==null&&(R=pi(Ce));var Ie=p.getDerivedStateFromProps;Ce=typeof Ie=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,Ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||me!==R)&&P$(c,x,g,R),iu=!1;var be=c.memoizedState;x.state=be,Rp(c,g,x,_),Pp(),me=c.memoizedState,B||be!==me||iu?(typeof Ie=="function"&&(n1(c,p,Ie,g),me=c.memoizedState),(Y=iu||C$(c,p,Y,g,be,me,R))?(Ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=me),x.props=g,x.state=me,x.context=R,g=Y):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{x=c.stateNode,MS(l,c),R=c.memoizedProps,Ce=kc(p,R),x.props=Ce,Ie=c.pendingProps,be=x.context,me=p.contextType,Y=$f,typeof me=="object"&&me!==null&&(Y=pi(me)),B=p.getDerivedStateFromProps,(me=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R!==Ie||be!==Y)&&P$(c,x,g,Y),iu=!1,be=c.memoizedState,x.state=be,Rp(c,g,x,_),Pp();var ke=c.memoizedState;R!==Ie||be!==ke||iu||l!==null&&l.dependencies!==null&&ZO(l.dependencies)?(typeof B=="function"&&(n1(c,p,B,g),ke=c.memoizedState),(Ce=iu||C$(c,p,Ce,g,be,ke,Y)||l!==null&&l.dependencies!==null&&ZO(l.dependencies))?(me||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,ke,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,ke,Y)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||R===l.memoizedProps&&be===l.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&be===l.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ke),x.props=g,x.state=ke,x.context=Y,g=Ce):(typeof x.componentDidUpdate!="function"||R===l.memoizedProps&&be===l.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===l.memoizedProps&&be===l.memoizedState||(c.flags|=1024),g=!1)}return x=g,oy(l,c),g=(c.flags&128)!==0,x||g?(x=c.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,l!==null&&g?(c.child=Sc(c,l.child,null,_),c.child=Sc(c,null,p,_)):mi(l,c,p,_),c.memoizedState=x.state,l=c.child):l=il(l,c,_),l}function V$(l,c,p,g){return Oc(),c.flags|=256,mi(l,c,p,g),c.child}var o1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l1(l){return{baseLanes:l,cachePool:IR()}}function u1(l,c,p){return l=l!==null?l.childLanes&~p:0,c&&(l|=Ls),l}function X$(l,c,p){var g=c.pendingProps,_=!1,x=(c.flags&128)!==0,R;if((R=x)||(R=l!==null&&l.memoizedState===null?!1:(br.current&2)!==0),R&&(_=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,l===null){if(Kt){if(_?ou(c):lu(),(l=Zn)?(l=eM(l,ca),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:eu!==null?{id:_o,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},p=kR(l),p.return=c,c.child=p,di=c,Zn=null)):l=null,l===null)throw nu(c);return V1(l)?c.lanes=32:c.lanes=536870912,null}var B=g.children;return g=g.fallback,_?(lu(),_=c.mode,B=ly({mode:"hidden",children:B},_),g=gc(g,_,p,null),B.return=c,g.return=c,B.sibling=g,c.child=B,g=c.child,g.memoizedState=l1(p),g.childLanes=u1(l,R,p),c.memoizedState=o1,Qp(null,g)):(ou(c),c1(c,B))}var Y=l.memoizedState;if(Y!==null&&(B=Y.dehydrated,B!==null)){if(x)c.flags&256?(ou(c),c.flags&=-257,c=f1(l,c,p)):c.memoizedState!==null?(lu(),c.child=l.child,c.flags|=128,c=null):(lu(),B=g.fallback,_=c.mode,g=ly({mode:"visible",children:g.children},_),B=gc(B,_,p,null),B.flags|=2,g.return=c,B.return=c,g.sibling=B,c.child=g,Sc(c,l.child,null,p),g=c.child,g.memoizedState=l1(p),g.childLanes=u1(l,R,p),c.memoizedState=o1,c=Qp(null,g));else if(ou(c),V1(B)){if(R=B.nextSibling&&B.nextSibling.dataset,R)var me=R.dgst;R=me,g=Error(r(419)),g.stack="",g.digest=R,xp({value:g,source:null,stack:null}),c=f1(l,c,p)}else if(Qr||Qf(l,c,p,!1),R=(p&l.childLanes)!==0,Qr||R){if(R=kn,R!==null&&(g=Zl(R,p),g!==0&&g!==Y.retryLane))throw Y.retryLane=g,er(l,g),ys(R,l,g),s1;q1(B)||Oy(),c=f1(l,c,p)}else q1(B)?(c.flags|=192,c.child=l.child,c=null):(l=Y.treeContext,Zn=ha(B.nextSibling),di=c,Kt=!0,tu=null,ca=!1,l!==null&&AR(c,l),c=c1(c,g.children),c.flags|=4096);return c}return _?(lu(),B=g.fallback,_=c.mode,Y=l.child,me=Y.sibling,g=Ho(Y,{mode:"hidden",children:g.children}),g.subtreeFlags=Y.subtreeFlags&65011712,me!==null?B=Ho(me,B):(B=gc(B,_,p,null),B.flags|=2),B.return=c,g.return=c,g.sibling=B,c.child=g,Qp(null,g),g=c.child,B=l.child.memoizedState,B===null?B=l1(p):(_=B.cachePool,_!==null?(Y=Ir._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=IR(),B={baseLanes:B.baseLanes|p,cachePool:_}),g.memoizedState=B,g.childLanes=u1(l,R,p),c.memoizedState=o1,Qp(l.child,g)):(ou(c),p=l.child,l=p.sibling,p=Ho(p,{mode:"visible",children:g.children}),p.return=c,p.sibling=null,l!==null&&(R=c.deletions,R===null?(c.deletions=[l],c.flags|=16):R.push(l)),c.child=p,c.memoizedState=null,p)}function c1(l,c){return c=ly({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function ly(l,c){return l=Is(22,l,null,c),l.lanes=0,l}function f1(l,c,p){return Sc(c,l.child,null,p),l=c1(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function F$(l,c,p){l.lanes|=c;var g=l.alternate;g!==null&&(g.lanes|=c),TS(l.return,c,p)}function h1(l,c,p,g,_,x){var R=l.memoizedState;R===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:_,treeForkCount:x}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=p,R.tailMode=_,R.treeForkCount=x)}function Y$(l,c,p){var g=c.pendingProps,_=g.revealOrder,x=g.tail;g=g.children;var R=br.current,B=(R&2)!==0;if(B?(R=R&1|2,c.flags|=128):R&=1,ge(br,R),mi(l,c,g,p),g=Kt?Sp:0,!B&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&F$(l,p,c);else if(l.tag===19)F$(l,p,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(p=c.child,_=null;p!==null;)l=p.alternate,l!==null&&GO(l)===null&&(_=p),p=p.sibling;p=_,p===null?(_=c.child,c.child=null):(_=p.sibling,p.sibling=null),h1(c,!1,_,p,x,g);break;case"backwards":case"unstable_legacy-backwards":for(p=null,_=c.child,c.child=null;_!==null;){if(l=_.alternate,l!==null&&GO(l)===null){c.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}h1(c,!0,p,null,x,g);break;case"together":h1(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function il(l,c,p){if(l!==null&&(c.dependencies=l.dependencies),fu|=c.lanes,(p&c.childLanes)===0)if(l!==null){if(Qf(l,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,p=Ho(l,l.pendingProps),c.child=p,p.return=c;l.sibling!==null;)l=l.sibling,p=p.sibling=Ho(l,l.pendingProps),p.return=c;p.sibling=null}return c.child}function d1(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&ZO(l)))}function zX(l,c,p){switch(c.tag){case 3:ut(c,c.stateNode.containerInfo),ru(c,Ir,l.memoizedState.cache),Oc();break;case 27:case 5:Cn(c);break;case 4:ut(c,c.stateNode.containerInfo);break;case 10:ru(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,LS(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(ou(c),c.flags|=128,null):(p&c.child.childLanes)!==0?X$(l,c,p):(ou(c),l=il(l,c,p),l!==null?l.sibling:null);ou(c);break;case 19:var _=(l.flags&128)!==0;if(g=(p&c.childLanes)!==0,g||(Qf(l,c,p,!1),g=(p&c.childLanes)!==0),_){if(g)return Y$(l,c,p);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ge(br,br.current),g)break;return null;case 22:return c.lanes=0,B$(l,c,p,c.pendingProps);case 24:ru(c,Ir,l.memoizedState.cache)}return il(l,c,p)}function W$(l,c,p){if(l!==null)if(l.memoizedProps!==c.pendingProps)Qr=!0;else{if(!d1(l,p)&&(c.flags&128)===0)return Qr=!1,zX(l,c,p);Qr=(l.flags&131072)!==0}else Qr=!1,Kt&&(c.flags&1048576)!==0&&ER(c,Sp,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(l=_c(c.elementType),c.type=l,typeof l=="function")yS(l)?(g=kc(l,g),c.tag=1,c=q$(null,c,l,g,p)):(c.tag=0,c=a1(null,c,l,g,p));else{if(l!=null){var _=l.$$typeof;if(_===C){c.tag=11,c=N$(null,c,l,g,p);break e}else if(_===N){c.tag=14,c=L$(null,c,l,g,p);break e}}throw c=Ee(l)||l,Error(r(306,c,""))}}return c;case 0:return a1(l,c,c.type,c.pendingProps,p);case 1:return g=c.type,_=kc(g,c.pendingProps),q$(l,c,g,_,p);case 3:e:{if(ut(c,c.stateNode.containerInfo),l===null)throw Error(r(387));g=c.pendingProps;var x=c.memoizedState;_=x.element,MS(l,c),Rp(c,g,null,p);var R=c.memoizedState;if(g=R.cache,ru(c,Ir,g),g!==x.cache&&ES(c,[Ir],p,!0),Pp(),g=R.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=V$(l,c,g,p);break e}else if(g!==_){_=oa(Error(r(424)),c),xp(_),c=V$(l,c,g,p);break e}else for(l=c.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Zn=ha(l.firstChild),di=c,Kt=!0,tu=null,ca=!0,p=BR(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Oc(),g===_){c=il(l,c,p);break e}mi(l,c,g,p)}c=c.child}return c;case 26:return oy(l,c),l===null?(p=aM(c.type,null,c.pendingProps,null))?c.memoizedState=p:Kt||(p=c.type,l=c.pendingProps,g=xy(tt.current).createElement(p),g[vn]=c,g[xn]=l,gi(g,p,l),hn(g),c.stateNode=g):c.memoizedState=aM(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Cn(c),l===null&&Kt&&(g=c.stateNode=rM(c.type,c.pendingProps,tt.current),di=c,ca=!0,_=Zn,gu(c.type)?(X1=_,Zn=ha(g.firstChild)):Zn=_),mi(l,c,c.pendingProps.children,p),oy(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Kt&&((_=g=Zn)&&(g=O7(g,c.type,c.pendingProps,ca),g!==null?(c.stateNode=g,di=c,Zn=ha(g.firstChild),ca=!1,_=!0):_=!1),_||nu(c)),Cn(c),_=c.type,x=c.pendingProps,R=l!==null?l.memoizedProps:null,g=x.children,z1(_,x)?g=null:R!==null&&z1(_,R)&&(c.flags|=32),c.memoizedState!==null&&(_=BS(l,c,$X,null,null,p),Kp._currentValue=_),oy(l,c),mi(l,c,g,p),c.child;case 6:return l===null&&Kt&&((l=p=Zn)&&(p=y7(p,c.pendingProps,ca),p!==null?(c.stateNode=p,di=c,Zn=null,l=!0):l=!1),l||nu(c)),null;case 13:return X$(l,c,p);case 4:return ut(c,c.stateNode.containerInfo),g=c.pendingProps,l===null?c.child=Sc(c,null,g,p):mi(l,c,g,p),c.child;case 11:return N$(l,c,c.type,c.pendingProps,p);case 7:return mi(l,c,c.pendingProps,p),c.child;case 8:return mi(l,c,c.pendingProps.children,p),c.child;case 12:return mi(l,c,c.pendingProps.children,p),c.child;case 10:return g=c.pendingProps,ru(c,c.type,g.value),mi(l,c,g.children,p),c.child;case 9:return _=c.type._context,g=c.pendingProps.children,vc(c),_=pi(_),g=g(_),c.flags|=1,mi(l,c,g,p),c.child;case 14:return L$(l,c,c.type,c.pendingProps,p);case 15:return j$(l,c,c.type,c.pendingProps,p);case 19:return Y$(l,c,p);case 31:return BX(l,c,p);case 22:return B$(l,c,p,c.pendingProps);case 24:return vc(c),g=pi(Ir),l===null?(_=PS(),_===null&&(_=kn,x=AS(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=p),_=x),c.memoizedState={parent:g,cache:_},$S(c),ru(c,Ir,_)):((l.lanes&p)!==0&&(MS(l,c),Rp(c,null,null,p),Pp()),_=l.memoizedState,x=c.memoizedState,_.parent!==g?(_={parent:g,cache:g},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),ru(c,Ir,g)):(g=x.cache,ru(c,Ir,g),g!==_.cache&&ES(c,[Ir],p,!0))),mi(l,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function sl(l){l.flags|=4}function p1(l,c,p,g,_){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(w2())l.flags|=8192;else throw wc=XO,RS}else l.flags&=-16777217}function G$(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!fM(c))if(w2())l.flags|=8192;else throw wc=XO,RS}function uy(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Qi():536870912,l.lanes|=c,Yf|=c)}function Np(l,c){if(!Kt)switch(l.tailMode){case"hidden":c=l.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function Un(l){var c=l.alternate!==null&&l.alternate.child===l.child,p=0,g=0;if(c)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=g,l.childLanes=p,c}function ZX(l,c,p){var g=c.pendingProps;switch(wS(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return Un(c),null;case 3:return p=c.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),tl(Ir),qe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Df(c)?sl(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xS())),Un(c),null;case 26:var _=c.type,x=c.memoizedState;return l===null?(sl(c),x!==null?(Un(c),G$(c,x)):(Un(c),p1(c,_,null,g,p))):x?x!==l.memoizedState?(sl(c),Un(c),G$(c,x)):(Un(c),c.flags&=-16777217):(l=l.memoizedProps,l!==g&&sl(c),Un(c),p1(c,_,l,g,p)),null;case 27:if(mr(c),p=tt.current,_=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==g&&sl(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Un(c),null}l=Pe.current,Df(c)?CR(c):(l=rM(_,g,p),c.stateNode=l,sl(c))}return Un(c),null;case 5:if(mr(c),_=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==g&&sl(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Un(c),null}if(x=Pe.current,Df(c))CR(c);else{var R=xy(tt.current);switch(x){case 1:x=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=R.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?x.multiple=!0:g.size&&(x.size=g.size);break;default:x=typeof g.is=="string"?R.createElement(_,{is:g.is}):R.createElement(_)}}x[vn]=c,x[xn]=g;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=x;e:switch(gi(x,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&sl(c)}}return Un(c),p1(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,p),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==g&&sl(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(l=tt.current,Df(c)){if(l=c.stateNode,p=c.memoizedProps,g=null,_=di,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}l[vn]=c,l=!!(l.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||X2(l.nodeValue,p)),l||nu(c,!0)}else l=xy(l).createTextNode(g),l[vn]=c,c.stateNode=l}return Un(c),null;case 31:if(p=c.memoizedState,l===null||l.memoizedState!==null){if(g=Df(c),p!==null){if(l===null){if(!g)throw Error(r(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[vn]=c}else Oc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),l=!1}else p=xS(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return c.flags&256?(Qs(c),c):(Qs(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Un(c),null;case 13:if(g=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=Df(c),g!==null&&g.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[vn]=c}else Oc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),_=!1}else _=xS(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(Qs(c),c):(Qs(c),null)}return Qs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=g!==null,l=l!==null&&l.memoizedState!==null,p&&(g=c.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),x=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==_&&(g.flags|=2048)),p!==l&&p&&(c.child.flags|=8192),uy(c,c.updateQueue),Un(c),null);case 4:return qe(),l===null&&Q1(c.stateNode.containerInfo),Un(c),null;case 10:return tl(c.type),Un(c),null;case 19:if(ne(br),g=c.memoizedState,g===null)return Un(c),null;if(_=(c.flags&128)!==0,x=g.rendering,x===null)if(_)Np(g,!1);else{if(cr!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(x=GO(l),x!==null){for(c.flags|=128,Np(g,!1),l=x.updateQueue,c.updateQueue=l,uy(c,l),c.subtreeFlags=0,l=p,p=c.child;p!==null;)xR(p,l),p=p.sibling;return ge(br,br.current&1|2),Kt&&Jo(c,g.treeForkCount),c.child}l=l.sibling}g.tail!==null&&at()>py&&(c.flags|=128,_=!0,Np(g,!1),c.lanes=4194304)}else{if(!_)if(l=GO(x),l!==null){if(c.flags|=128,_=!0,l=l.updateQueue,c.updateQueue=l,uy(c,l),Np(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Kt)return Un(c),null}else 2*at()-g.renderingStartTime>py&&p!==536870912&&(c.flags|=128,_=!0,Np(g,!1),c.lanes=4194304);g.isBackwards?(x.sibling=c.child,c.child=x):(l=g.last,l!==null?l.sibling=x:c.child=x,g.last=x)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=at(),l.sibling=null,p=br.current,ge(br,_?p&1|2:p&1),Kt&&Jo(c,g.treeForkCount),l):(Un(c),null);case 22:case 23:return Qs(c),NS(),g=c.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(p&536870912)!==0&&(c.flags&128)===0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),p=c.updateQueue,p!==null&&uy(c,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048),l!==null&&ne(bc),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),tl(Ir),Un(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function UX(l,c){switch(wS(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return tl(Ir),qe(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return mr(c),null;case 31:if(c.memoizedState!==null){if(Qs(c),c.alternate===null)throw Error(r(340));Oc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(Qs(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Oc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return ne(br),null;case 4:return qe(),null;case 10:return tl(c.type),null;case 22:case 23:return Qs(c),NS(),l!==null&&ne(bc),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return tl(Ir),null;case 25:return null;default:return null}}function K$(l,c){switch(wS(c),c.tag){case 3:tl(Ir),qe();break;case 26:case 27:case 5:mr(c);break;case 4:qe();break;case 31:c.memoizedState!==null&&Qs(c);break;case 13:Qs(c);break;case 19:ne(br);break;case 10:tl(c.type);break;case 22:case 23:Qs(c),NS(),l!==null&&ne(bc);break;case 24:tl(Ir)}}function Lp(l,c){try{var p=c.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var _=g.next;p=_;do{if((p.tag&l)===l){g=void 0;var x=p.create,R=p.inst;g=x(),R.destroy=g}p=p.next}while(p!==_)}}catch(B){mn(c,c.return,B)}}function uu(l,c,p){try{var g=c.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var x=_.next;g=x;do{if((g.tag&l)===l){var R=g.inst,B=R.destroy;if(B!==void 0){R.destroy=void 0,_=c;var Y=p,me=B;try{me()}catch(Ce){mn(_,Y,Ce)}}}g=g.next}while(g!==x)}}catch(Ce){mn(c,c.return,Ce)}}function H$(l){var c=l.updateQueue;if(c!==null){var p=l.stateNode;try{ZR(c,p)}catch(g){mn(l,l.return,g)}}}function J$(l,c,p){p.props=kc(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(g){mn(l,c,g)}}function jp(l,c){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof p=="function"?l.refCleanup=p(g):p.current=g}}catch(_){mn(l,c,_)}}function So(l,c){var p=l.ref,g=l.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(_){mn(l,c,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){mn(l,c,_)}else p.current=null}function e2(l){var c=l.type,p=l.memoizedProps,g=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(_){mn(l,l.return,_)}}function m1(l,c,p){try{var g=l.stateNode;f7(g,l.type,p,c),g[xn]=c}catch(_){mn(l,l.return,_)}}function t2(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&gu(l.type)||l.tag===4}function g1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||t2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&gu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function O1(l,c,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(l),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=cs));else if(g!==4&&(g===27&&gu(l.type)&&(p=l.stateNode,c=null),l=l.child,l!==null))for(O1(l,c,p),l=l.sibling;l!==null;)O1(l,c,p),l=l.sibling}function cy(l,c,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?p.insertBefore(l,c):p.appendChild(l);else if(g!==4&&(g===27&&gu(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(cy(l,c,p),l=l.sibling;l!==null;)cy(l,c,p),l=l.sibling}function n2(l){var c=l.stateNode,p=l.memoizedProps;try{for(var g=l.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);gi(c,g,p),c[vn]=l,c[xn]=p}catch(x){mn(l,l.return,x)}}var al=!1,Nr=!1,y1=!1,r2=typeof WeakSet=="function"?WeakSet:Set,ii=null;function qX(l,c){if(l=l.containerInfo,j1=Ry,l=Z(l),V(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var _=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var R=0,B=-1,Y=-1,me=0,Ce=0,Ie=l,be=null;t:for(;;){for(var ke;Ie!==p||_!==0&&Ie.nodeType!==3||(B=R+_),Ie!==x||g!==0&&Ie.nodeType!==3||(Y=R+g),Ie.nodeType===3&&(R+=Ie.nodeValue.length),(ke=Ie.firstChild)!==null;)be=Ie,Ie=ke;for(;;){if(Ie===l)break t;if(be===p&&++me===_&&(B=R),be===x&&++Ce===g&&(Y=R),(ke=Ie.nextSibling)!==null)break;Ie=be,be=Ie.parentNode}Ie=ke}p=B===-1||Y===-1?null:{start:B,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(B1={focusedElem:l,selectionRange:p},Ry=!1,ii=c;ii!==null;)if(c=ii,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,ii=l;else for(;ii!==null;){switch(c=ii,x=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)_=l[p],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&x!==null){l=void 0,p=c,_=x.memoizedProps,x=x.memoizedState,g=p.stateNode;try{var lt=kc(p.type,_);l=g.getSnapshotBeforeUpdate(lt,x),g.__reactInternalSnapshotBeforeUpdate=l}catch(xt){mn(p,p.return,xt)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,p=l.nodeType,p===9)U1(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":U1(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,ii=l;break}ii=c.return}}function i2(l,c,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:ll(l,p),g&4&&Lp(5,p);break;case 1:if(ll(l,p),g&4)if(l=p.stateNode,c===null)try{l.componentDidMount()}catch(R){mn(p,p.return,R)}else{var _=kc(p.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(_,c,l.__reactInternalSnapshotBeforeUpdate)}catch(R){mn(p,p.return,R)}}g&64&&H$(p),g&512&&jp(p,p.return);break;case 3:if(ll(l,p),g&64&&(l=p.updateQueue,l!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{ZR(l,c)}catch(R){mn(p,p.return,R)}}break;case 27:c===null&&g&4&&n2(p);case 26:case 5:ll(l,p),c===null&&g&4&&e2(p),g&512&&jp(p,p.return);break;case 12:ll(l,p);break;case 31:ll(l,p),g&4&&o2(l,p);break;case 13:ll(l,p),g&4&&l2(l,p),g&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=JX.bind(null,p),v7(l,p))));break;case 22:if(g=p.memoizedState!==null||al,!g){c=c!==null&&c.memoizedState!==null||Nr,_=al;var x=Nr;al=g,(Nr=c)&&!x?ul(l,p,(p.subtreeFlags&8772)!==0):ll(l,p),al=_,Nr=x}break;case 30:break;default:ll(l,p)}}function s2(l){var c=l.alternate;c!==null&&(l.alternate=null,s2(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Ma(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Xn=null,ps=!1;function ol(l,c,p){for(p=p.child;p!==null;)a2(l,c,p),p=p.sibling}function a2(l,c,p){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Gn,p)}catch{}switch(p.tag){case 26:Nr||So(p,c),ol(l,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Nr||So(p,c);var g=Xn,_=ps;gu(p.type)&&(Xn=p.stateNode,ps=!1),ol(l,c,p),Yp(p.stateNode),Xn=g,ps=_;break;case 5:Nr||So(p,c);case 6:if(g=Xn,_=ps,Xn=null,ol(l,c,p),Xn=g,ps=_,Xn!==null)if(ps)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(p.stateNode)}catch(x){mn(p,c,x)}else try{Xn.removeChild(p.stateNode)}catch(x){mn(p,c,x)}break;case 18:Xn!==null&&(ps?(l=Xn,H2(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),nh(l)):H2(Xn,p.stateNode));break;case 4:g=Xn,_=ps,Xn=p.stateNode.containerInfo,ps=!0,ol(l,c,p),Xn=g,ps=_;break;case 0:case 11:case 14:case 15:uu(2,p,c),Nr||uu(4,p,c),ol(l,c,p);break;case 1:Nr||(So(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"&&J$(p,c,g)),ol(l,c,p);break;case 21:ol(l,c,p);break;case 22:Nr=(g=Nr)||p.memoizedState!==null,ol(l,c,p),Nr=g;break;default:ol(l,c,p)}}function o2(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{nh(l)}catch(p){mn(c,c.return,p)}}}function l2(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{nh(l)}catch(p){mn(c,c.return,p)}}function VX(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new r2),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new r2),c;default:throw Error(r(435,l.tag))}}function fy(l,c){var p=VX(l);c.forEach(function(g){if(!p.has(g)){p.add(g);var _=e7.bind(null,l,g);g.then(_,_)}})}function ms(l,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var _=p[g],x=l,R=c,B=R;e:for(;B!==null;){switch(B.tag){case 27:if(gu(B.type)){Xn=B.stateNode,ps=!1;break e}break;case 5:Xn=B.stateNode,ps=!1;break e;case 3:case 4:Xn=B.stateNode.containerInfo,ps=!0;break e}B=B.return}if(Xn===null)throw Error(r(160));a2(x,R,_),Xn=null,ps=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)u2(c,l),c=c.sibling}var Na=null;function u2(l,c){var p=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ms(c,l),gs(l),g&4&&(uu(3,l,l.return),Lp(3,l),uu(5,l,l.return));break;case 1:ms(c,l),gs(l),g&512&&(Nr||p===null||So(p,p.return)),g&64&&al&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var _=Na;if(ms(c,l),gs(l),g&512&&(Nr||p===null||So(p,p.return)),g&4){var x=p!==null?p.memoizedState:null;if(g=l.memoizedState,p===null)if(g===null)if(l.stateNode===null){e:{g=l.type,p=l.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":x=_.getElementsByTagName("title")[0],(!x||x[aa]||x[vn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(g),_.head.insertBefore(x,_.querySelector("head > title"))),gi(x,g,p),x[vn]=l,hn(x),g=x;break e;case"link":var R=uM("link","href",_).get(g+(p.href||""));if(R){for(var B=0;B<R.length;B++)if(x=R[B],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){R.splice(B,1);break t}}x=_.createElement(g),gi(x,g,p),_.head.appendChild(x);break;case"meta":if(R=uM("meta","content",_).get(g+(p.content||""))){for(B=0;B<R.length;B++)if(x=R[B],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){R.splice(B,1);break t}}x=_.createElement(g),gi(x,g,p),_.head.appendChild(x);break;default:throw Error(r(468,g))}x[vn]=l,hn(x),g=x}l.stateNode=g}else cM(_,l.type,l.stateNode);else l.stateNode=lM(_,g,l.memoizedProps);else x!==g?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,g===null?cM(_,l.type,l.stateNode):lM(_,g,l.memoizedProps)):g===null&&l.stateNode!==null&&m1(l,l.memoizedProps,p.memoizedProps)}break;case 27:ms(c,l),gs(l),g&512&&(Nr||p===null||So(p,p.return)),p!==null&&g&4&&m1(l,l.memoizedProps,p.memoizedProps);break;case 5:if(ms(c,l),gs(l),g&512&&(Nr||p===null||So(p,p.return)),l.flags&32){_=l.stateNode;try{Rt(_,"")}catch(lt){mn(l,l.return,lt)}}g&4&&l.stateNode!=null&&(_=l.memoizedProps,m1(l,_,p!==null?p.memoizedProps:_)),g&1024&&(y1=!0);break;case 6:if(ms(c,l),gs(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,p=l.stateNode;try{p.nodeValue=g}catch(lt){mn(l,l.return,lt)}}break;case 3:if(Ey=null,_=Na,Na=ky(c.containerInfo),ms(c,l),Na=_,gs(l),g&4&&p!==null&&p.memoizedState.isDehydrated)try{nh(c.containerInfo)}catch(lt){mn(l,l.return,lt)}y1&&(y1=!1,c2(l));break;case 4:g=Na,Na=ky(l.stateNode.containerInfo),ms(c,l),gs(l),Na=g;break;case 12:ms(c,l),gs(l);break;case 31:ms(c,l),gs(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fy(l,g)));break;case 13:ms(c,l),gs(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(dy=at()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fy(l,g)));break;case 22:_=l.memoizedState!==null;var Y=p!==null&&p.memoizedState!==null,me=al,Ce=Nr;if(al=me||_,Nr=Ce||Y,ms(c,l),Nr=Ce,al=me,gs(l),g&8192)e:for(c=l.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(p===null||Y||al||Nr||Tc(l)),p=null,c=l;;){if(c.tag===5||c.tag===26){if(p===null){Y=p=c;try{if(x=Y.stateNode,_)R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{B=Y.stateNode;var Ie=Y.memoizedProps.style,be=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;B.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(lt){mn(Y,Y.return,lt)}}}else if(c.tag===6){if(p===null){Y=c;try{Y.stateNode.nodeValue=_?"":Y.memoizedProps}catch(lt){mn(Y,Y.return,lt)}}}else if(c.tag===18){if(p===null){Y=c;try{var ke=Y.stateNode;_?J2(ke,!0):J2(Y.stateNode,!1)}catch(lt){mn(Y,Y.return,lt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=l.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,fy(l,p))));break;case 19:ms(c,l),gs(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fy(l,g)));break;case 30:break;case 21:break;default:ms(c,l),gs(l)}}function gs(l){var c=l.flags;if(c&2){try{for(var p,g=l.return;g!==null;){if(t2(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,x=g1(l);cy(l,x,_);break;case 5:var R=p.stateNode;p.flags&32&&(Rt(R,""),p.flags&=-33);var B=g1(l);cy(l,B,R);break;case 3:case 4:var Y=p.stateNode.containerInfo,me=g1(l);O1(l,me,Y);break;default:throw Error(r(161))}}catch(Ce){mn(l,l.return,Ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function c2(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;c2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function ll(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)i2(l,c.alternate,c),c=c.sibling}function Tc(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:uu(4,c,c.return),Tc(c);break;case 1:So(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&J$(c,c.return,p),Tc(c);break;case 27:Yp(c.stateNode);case 26:case 5:So(c,c.return),Tc(c);break;case 22:c.memoizedState===null&&Tc(c);break;case 30:Tc(c);break;default:Tc(c)}l=l.sibling}}function ul(l,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,_=l,x=c,R=x.flags;switch(x.tag){case 0:case 11:case 15:ul(_,x,p),Lp(4,x);break;case 1:if(ul(_,x,p),g=x,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(me){mn(g,g.return,me)}if(g=x,_=g.updateQueue,_!==null){var B=g.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)zR(Y[_],B)}catch(me){mn(g,g.return,me)}}p&&R&64&&H$(x),jp(x,x.return);break;case 27:n2(x);case 26:case 5:ul(_,x,p),p&&g===null&&R&4&&e2(x),jp(x,x.return);break;case 12:ul(_,x,p);break;case 31:ul(_,x,p),p&&R&4&&o2(_,x);break;case 13:ul(_,x,p),p&&R&4&&l2(_,x);break;case 22:x.memoizedState===null&&ul(_,x,p),jp(x,x.return);break;case 30:break;default:ul(_,x,p)}c=c.sibling}}function v1(l,c){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&kp(p))}function b1(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&kp(l))}function La(l,c,p,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)f2(l,c,p,g),c=c.sibling}function f2(l,c,p,g){var _=c.flags;switch(c.tag){case 0:case 11:case 15:La(l,c,p,g),_&2048&&Lp(9,c);break;case 1:La(l,c,p,g);break;case 3:La(l,c,p,g),_&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&kp(l)));break;case 12:if(_&2048){La(l,c,p,g),l=c.stateNode;try{var x=c.memoizedProps,R=x.id,B=x.onPostCommit;typeof B=="function"&&B(R,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Y){mn(c,c.return,Y)}}else La(l,c,p,g);break;case 31:La(l,c,p,g);break;case 13:La(l,c,p,g);break;case 23:break;case 22:x=c.stateNode,R=c.alternate,c.memoizedState!==null?x._visibility&2?La(l,c,p,g):Bp(l,c):x._visibility&2?La(l,c,p,g):(x._visibility|=2,Vf(l,c,p,g,(c.subtreeFlags&10256)!==0||!1)),_&2048&&v1(R,c);break;case 24:La(l,c,p,g),_&2048&&b1(c.alternate,c);break;default:La(l,c,p,g)}}function Vf(l,c,p,g,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=l,R=c,B=p,Y=g,me=R.flags;switch(R.tag){case 0:case 11:case 15:Vf(x,R,B,Y,_),Lp(8,R);break;case 23:break;case 22:var Ce=R.stateNode;R.memoizedState!==null?Ce._visibility&2?Vf(x,R,B,Y,_):Bp(x,R):(Ce._visibility|=2,Vf(x,R,B,Y,_)),_&&me&2048&&v1(R.alternate,R);break;case 24:Vf(x,R,B,Y,_),_&&me&2048&&b1(R.alternate,R);break;default:Vf(x,R,B,Y,_)}c=c.sibling}}function Bp(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=l,g=c,_=g.flags;switch(g.tag){case 22:Bp(p,g),_&2048&&v1(g.alternate,g);break;case 24:Bp(p,g),_&2048&&b1(g.alternate,g);break;default:Bp(p,g)}c=c.sibling}}var zp=8192;function Xf(l,c,p){if(l.subtreeFlags&zp)for(l=l.child;l!==null;)h2(l,c,p),l=l.sibling}function h2(l,c,p){switch(l.tag){case 26:Xf(l,c,p),l.flags&zp&&l.memoizedState!==null&&R7(p,Na,l.memoizedState,l.memoizedProps);break;case 5:Xf(l,c,p);break;case 3:case 4:var g=Na;Na=ky(l.stateNode.containerInfo),Xf(l,c,p),Na=g;break;case 22:l.memoizedState===null&&(g=l.alternate,g!==null&&g.memoizedState!==null?(g=zp,zp=16777216,Xf(l,c,p),zp=g):Xf(l,c,p));break;default:Xf(l,c,p)}}function d2(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Zp(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];ii=g,m2(g,l)}d2(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)p2(l),l=l.sibling}function p2(l){switch(l.tag){case 0:case 11:case 15:Zp(l),l.flags&2048&&uu(9,l,l.return);break;case 3:Zp(l);break;case 12:Zp(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,hy(l)):Zp(l);break;default:Zp(l)}}function hy(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];ii=g,m2(g,l)}d2(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:uu(8,c,c.return),hy(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,hy(c));break;default:hy(c)}l=l.sibling}}function m2(l,c){for(;ii!==null;){var p=ii;switch(p.tag){case 0:case 11:case 15:uu(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:kp(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,ii=g;else e:for(p=l;ii!==null;){g=ii;var _=g.sibling,x=g.return;if(s2(g),g===p){ii=null;break e}if(_!==null){_.return=x,ii=_;break e}ii=x}}}var XX={getCacheForType:function(l){var c=pi(Ir),p=c.data.get(l);return p===void 0&&(p=l(),c.data.set(l,p)),p},cacheSignal:function(){return pi(Ir).controller.signal}},FX=typeof WeakMap=="function"?WeakMap:Map,an=0,kn=null,Ft=null,Wt=0,pn=0,Ns=null,cu=!1,Ff=!1,_1=!1,cl=0,cr=0,fu=0,Ec=0,w1=0,Ls=0,Yf=0,Up=null,Os=null,S1=!1,dy=0,g2=0,py=1/0,my=null,hu=null,Gr=0,du=null,Wf=null,fl=0,x1=0,k1=null,O2=null,qp=0,T1=null;function js(){return(an&2)!==0&&Wt!==0?Wt&-Wt:G.T!==null?$1():ui()}function y2(){if(Ls===0)if((Wt&536870912)===0||Kt){var l=li;li<<=1,(li&3932160)===0&&(li=262144),Ls=l}else Ls=536870912;return l=Ds.current,l!==null&&(l.flags|=32),Ls}function ys(l,c,p){(l===kn&&(pn===2||pn===9)||l.cancelPendingCommit!==null)&&(Gf(l,0),pu(l,Wt,Ls,!1)),As(l,p),((an&2)===0||l!==kn)&&(l===kn&&((an&2)===0&&(Ec|=p),cr===4&&pu(l,Wt,Ls,!1)),xo(l))}function v2(l,c,p){if((an&6)!==0)throw Error(r(327));var g=!p&&(c&127)===0&&(c&l.expiredLanes)===0||Es(l,c),_=g?GX(l,c):A1(l,c,!0),x=g;do{if(_===0){Ff&&!g&&pu(l,c,0,!1);break}else{if(p=l.current.alternate,x&&!YX(p)){_=A1(l,c,!1),x=!1;continue}if(_===2){if(x=c,l.errorRecoveryDisabledLanes&x)var R=0;else R=l.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var B=l;_=Up;var Y=B.current.memoizedState.isDehydrated;if(Y&&(Gf(B,R).flags|=256),R=A1(B,R,!1),R!==2){if(_1&&!Y){B.errorRecoveryDisabledLanes|=x,Ec|=x,_=4;break e}x=Os,Os=_,x!==null&&(Os===null?Os=x:Os.push.apply(Os,x))}_=R}if(x=!1,_!==2)continue}}if(_===1){Gf(l,0),pu(l,c,0,!0);break}e:{switch(g=l,x=_,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:pu(g,c,Ls,!cu);break e;case 2:Os=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(_=dy+300-at(),10<_)){if(pu(g,c,Ls,!cu),Ei(g,0,!0)!==0)break e;fl=c,g.timeoutHandle=G2(b2.bind(null,g,p,Os,my,S1,c,Ls,Ec,Yf,cu,x,"Throttled",-0,0),_);break e}b2(g,p,Os,my,S1,c,Ls,Ec,Yf,cu,x,null,-0,0)}}break}while(!0);xo(l)}function b2(l,c,p,g,_,x,R,B,Y,me,Ce,Ie,be,ke){if(l.timeoutHandle=-1,Ie=c.subtreeFlags,Ie&8192||(Ie&16785408)===16785408){Ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cs},h2(c,x,Ie);var lt=(x&62914560)===x?dy-at():(x&4194048)===x?g2-at():0;if(lt=$7(Ie,lt),lt!==null){fl=x,l.cancelPendingCommit=lt(A2.bind(null,l,c,x,p,g,_,R,B,Y,Ce,Ie,null,be,ke)),pu(l,x,R,!me);return}}A2(l,c,x,p,g,_,R,B,Y)}function YX(l){for(var c=l;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var _=p[g],x=_.getSnapshot;_=_.value;try{if(!S(x(),_))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pu(l,c,p,g){c&=~w1,c&=~Ec,l.suspendedLanes|=c,l.pingedLanes&=~c,g&&(l.warmLanes|=c),g=l.expirationTimes;for(var _=c;0<_;){var x=31-de(_),R=1<<x;g[x]=-1,_&=~R}p!==0&&sn(l,p,c)}function gy(){return(an&6)===0?(Vp(0),!1):!0}function E1(){if(Ft!==null){if(pn===0)var l=Ft.return;else l=Ft,el=yc=null,US(l),Bf=null,Ep=0,l=Ft;for(;l!==null;)K$(l.alternate,l),l=l.return;Ft=null}}function Gf(l,c){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,p7(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),fl=0,E1(),kn=l,Ft=p=Ho(l.current,null),Wt=c,pn=0,Ns=null,cu=!1,Ff=Es(l,c),_1=!1,Yf=Ls=w1=Ec=fu=cr=0,Os=Up=null,S1=!1,(c&8)!==0&&(c|=c&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=c;0<g;){var _=31-de(g),x=1<<_;c|=l[_],g&=~x}return cl=c,yr(),p}function _2(l,c){Lt=null,G.H=Dp,c===jf||c===VO?(c=NR(),pn=3):c===RS?(c=NR(),pn=4):pn=c===s1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ns=c,Ft===null&&(cr=1,sy(l,oa(c,l.current)))}function w2(){var l=Ds.current;return l===null?!0:(Wt&4194048)===Wt?fa===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?l===fa:!1}function S2(){var l=G.H;return G.H=Dp,l===null?Dp:l}function x2(){var l=G.A;return G.A=XX,l}function Oy(){cr=4,cu||(Wt&4194048)!==Wt&&Ds.current!==null||(Ff=!0),(fu&134217727)===0&&(Ec&134217727)===0||kn===null||pu(kn,Wt,Ls,!1)}function A1(l,c,p){var g=an;an|=2;var _=S2(),x=x2();(kn!==l||Wt!==c)&&(my=null,Gf(l,c)),c=!1;var R=cr;e:do try{if(pn!==0&&Ft!==null){var B=Ft,Y=Ns;switch(pn){case 8:E1(),R=6;break e;case 3:case 2:case 9:case 6:Ds.current===null&&(c=!0);var me=pn;if(pn=0,Ns=null,Kf(l,B,Y,me),p&&Ff){R=0;break e}break;default:me=pn,pn=0,Ns=null,Kf(l,B,Y,me)}}WX(),R=cr;break}catch(Ce){_2(l,Ce)}while(!0);return c&&l.shellSuspendCounter++,el=yc=null,an=g,G.H=_,G.A=x,Ft===null&&(kn=null,Wt=0,yr()),R}function WX(){for(;Ft!==null;)k2(Ft)}function GX(l,c){var p=an;an|=2;var g=S2(),_=x2();kn!==l||Wt!==c?(my=null,py=at()+500,Gf(l,c)):Ff=Es(l,c);e:do try{if(pn!==0&&Ft!==null){c=Ft;var x=Ns;t:switch(pn){case 1:pn=0,Ns=null,Kf(l,c,x,1);break;case 2:case 9:if(DR(x)){pn=0,Ns=null,T2(c);break}c=function(){pn!==2&&pn!==9||kn!==l||(pn=7),xo(l)},x.then(c,c);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:DR(x)?(pn=0,Ns=null,T2(c)):(pn=0,Ns=null,Kf(l,c,x,7));break;case 5:var R=null;switch(Ft.tag){case 26:R=Ft.memoizedState;case 5:case 27:var B=Ft;if(R?fM(R):B.stateNode.complete){pn=0,Ns=null;var Y=B.sibling;if(Y!==null)Ft=Y;else{var me=B.return;me!==null?(Ft=me,yy(me)):Ft=null}break t}}pn=0,Ns=null,Kf(l,c,x,5);break;case 6:pn=0,Ns=null,Kf(l,c,x,6);break;case 8:E1(),cr=6;break e;default:throw Error(r(462))}}KX();break}catch(Ce){_2(l,Ce)}while(!0);return el=yc=null,G.H=g,G.A=_,an=p,Ft!==null?0:(kn=null,Wt=0,yr(),cr)}function KX(){for(;Ft!==null&&!Ze();)k2(Ft)}function k2(l){var c=W$(l.alternate,l,cl);l.memoizedProps=l.pendingProps,c===null?yy(l):Ft=c}function T2(l){var c=l,p=c.alternate;switch(c.tag){case 15:case 0:c=U$(p,c,c.pendingProps,c.type,void 0,Wt);break;case 11:c=U$(p,c,c.pendingProps,c.type.render,c.ref,Wt);break;case 5:US(c);default:K$(p,c),c=Ft=xR(c,cl),c=W$(p,c,cl)}l.memoizedProps=l.pendingProps,c===null?yy(l):Ft=c}function Kf(l,c,p,g){el=yc=null,US(c),Bf=null,Ep=0;var _=c.return;try{if(jX(l,_,c,p,Wt)){cr=1,sy(l,oa(p,l.current)),Ft=null;return}}catch(x){if(_!==null)throw Ft=_,x;cr=1,sy(l,oa(p,l.current)),Ft=null;return}c.flags&32768?(Kt||g===1?l=!0:Ff||(Wt&536870912)!==0?l=!1:(cu=l=!0,(g===2||g===9||g===3||g===6)&&(g=Ds.current,g!==null&&g.tag===13&&(g.flags|=16384))),E2(c,l)):yy(c)}function yy(l){var c=l;do{if((c.flags&32768)!==0){E2(c,cu);return}l=c.return;var p=ZX(c.alternate,c,cl);if(p!==null){Ft=p;return}if(c=c.sibling,c!==null){Ft=c;return}Ft=c=l}while(c!==null);cr===0&&(cr=5)}function E2(l,c){do{var p=UX(l.alternate,l);if(p!==null){p.flags&=32767,Ft=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(l=l.sibling,l!==null)){Ft=l;return}Ft=l=p}while(l!==null);cr=6,Ft=null}function A2(l,c,p,g,_,x,R,B,Y){l.cancelPendingCommit=null;do vy();while(Gr!==0);if((an&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=Ct,so(l,p,x,R,B,Y),l===kn&&(Ft=kn=null,Wt=0),Wf=c,du=l,fl=p,x1=x,k1=_,O2=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,t7(Pn,function(){return M2(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,_=ye.p,ye.p=2,R=an,an|=4;try{qX(l,c,p)}finally{an=R,ye.p=_,G.T=g}}Gr=1,C2(),P2(),R2()}}function C2(){if(Gr===1){Gr=0;var l=du,c=Wf,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var g=ye.p;ye.p=2;var _=an;an|=4;try{u2(c,l);var x=B1,R=Z(l.containerInfo),B=x.focusedElem,Y=x.selectionRange;if(R!==B&&B&&B.ownerDocument&&L(B.ownerDocument.documentElement,B)){if(Y!==null&&V(B)){var me=Y.start,Ce=Y.end;if(Ce===void 0&&(Ce=me),"selectionStart"in B)B.selectionStart=me,B.selectionEnd=Math.min(Ce,B.value.length);else{var Ie=B.ownerDocument||document,be=Ie&&Ie.defaultView||window;if(be.getSelection){var ke=be.getSelection(),lt=B.textContent.length,xt=Math.min(Y.start,lt),wn=Y.end===void 0?xt:Math.min(Y.end,lt);!ke.extend&&xt>wn&&(R=wn,wn=xt,xt=R);var ce=D(B,xt),H=D(B,wn);if(ce&&H&&(ke.rangeCount!==1||ke.anchorNode!==ce.node||ke.anchorOffset!==ce.offset||ke.focusNode!==H.node||ke.focusOffset!==H.offset)){var pe=Ie.createRange();pe.setStart(ce.node,ce.offset),ke.removeAllRanges(),xt>wn?(ke.addRange(pe),ke.extend(H.node,H.offset)):(pe.setEnd(H.node,H.offset),ke.addRange(pe))}}}}for(Ie=[],ke=B;ke=ke.parentNode;)ke.nodeType===1&&Ie.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Ie.length;B++){var $e=Ie[B];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Ry=!!j1,B1=j1=null}finally{an=_,ye.p=g,G.T=p}}l.current=c,Gr=2}}function P2(){if(Gr===2){Gr=0;var l=du,c=Wf,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var g=ye.p;ye.p=2;var _=an;an|=4;try{i2(l,c.alternate,c)}finally{an=_,ye.p=g,G.T=p}}Gr=3}}function R2(){if(Gr===4||Gr===3){Gr=0,ft();var l=du,c=Wf,p=fl,g=O2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Gr=5:(Gr=0,Wf=du=null,$2(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(hu=null),is(p),c=c.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Gn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=G.T,_=ye.p,ye.p=2,G.T=null;try{for(var x=l.onRecoverableError,R=0;R<g.length;R++){var B=g[R];x(B.value,{componentStack:B.stack})}}finally{G.T=c,ye.p=_}}(fl&3)!==0&&vy(),xo(l),_=l.pendingLanes,(p&261930)!==0&&(_&42)!==0?l===T1?qp++:(qp=0,T1=l):qp=0,Vp(0)}}function $2(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,kp(c)))}function vy(){return C2(),P2(),R2(),M2()}function M2(){if(Gr!==5)return!1;var l=du,c=x1;x1=0;var p=is(fl),g=G.T,_=ye.p;try{ye.p=32>p?32:p,G.T=null,p=k1,k1=null;var x=du,R=fl;if(Gr=0,Wf=du=null,fl=0,(an&6)!==0)throw Error(r(331));var B=an;if(an|=4,p2(x.current),f2(x,x.current,R,p),an=B,Vp(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Gn,x)}catch{}return!0}finally{ye.p=_,G.T=g,$2(l,c)}}function I2(l,c,p){c=oa(p,c),c=i1(l.stateNode,c,2),l=au(l,c,2),l!==null&&(As(l,2),xo(l))}function mn(l,c,p){if(l.tag===3)I2(l,l,p);else for(;c!==null;){if(c.tag===3){I2(c,l,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(hu===null||!hu.has(g))){l=oa(p,l),p=D$(2),g=au(c,p,2),g!==null&&(Q$(p,g,c,l),As(g,2),xo(g));break}}c=c.return}}function C1(l,c,p){var g=l.pingCache;if(g===null){g=l.pingCache=new FX;var _=new Set;g.set(c,_)}else _=g.get(c),_===void 0&&(_=new Set,g.set(c,_));_.has(p)||(_1=!0,_.add(p),l=HX.bind(null,l,c,p),c.then(l,l))}function HX(l,c,p){var g=l.pingCache;g!==null&&g.delete(c),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,kn===l&&(Wt&p)===p&&(cr===4||cr===3&&(Wt&62914560)===Wt&&300>at()-dy?(an&2)===0&&Gf(l,0):w1|=p,Yf===Wt&&(Yf=0)),xo(l)}function D2(l,c){c===0&&(c=Qi()),l=er(l,c),l!==null&&(As(l,c),xo(l))}function JX(l){var c=l.memoizedState,p=0;c!==null&&(p=c.retryLane),D2(l,p)}function e7(l,c){var p=0;switch(l.tag){case 31:case 13:var g=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),D2(l,p)}function t7(l,c){return Ue(l,c)}var by=null,Hf=null,P1=!1,_y=!1,R1=!1,mu=0;function xo(l){l!==Hf&&l.next===null&&(Hf===null?by=Hf=l:Hf=Hf.next=l),_y=!0,P1||(P1=!0,r7())}function Vp(l,c){if(!R1&&_y){R1=!0;do for(var p=!1,g=by;g!==null;){if(l!==0){var _=g.pendingLanes;if(_===0)var x=0;else{var R=g.suspendedLanes,B=g.pingedLanes;x=(1<<31-de(42|l)+1)-1,x&=_&~(R&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,j2(g,x))}else x=Wt,x=Ei(g,g===kn?x:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(x&3)===0||Es(g,x)||(p=!0,j2(g,x));g=g.next}while(p);R1=!1}}function n7(){Q2()}function Q2(){_y=P1=!1;var l=0;mu!==0&&d7()&&(l=mu);for(var c=at(),p=null,g=by;g!==null;){var _=g.next,x=N2(g,c);x===0?(g.next=null,p===null?by=_:p.next=_,_===null&&(Hf=p)):(p=g,(l!==0||(x&3)!==0)&&(_y=!0)),g=_}Gr!==0&&Gr!==5||Vp(l),mu!==0&&(mu=0)}function N2(l,c){for(var p=l.suspendedLanes,g=l.pingedLanes,_=l.expirationTimes,x=l.pendingLanes&-62914561;0<x;){var R=31-de(x),B=1<<R,Y=_[R];Y===-1?((B&p)===0||(B&g)!==0)&&(_[R]=Xo(B,c)):Y<=c&&(l.expiredLanes|=B),x&=~B}if(c=kn,p=Wt,p=Ei(l,l===c?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,p===0||l===c&&(pn===2||pn===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&Ne(g),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Es(l,p)){if(c=p&-p,c===l.callbackPriority)return c;switch(g!==null&&Ne(g),is(p)){case 2:case 8:p=un;break;case 32:p=Pn;break;case 268435456:p=Rn;break;default:p=Pn}return g=L2.bind(null,l),p=Ue(p,g),l.callbackPriority=c,l.callbackNode=p,c}return g!==null&&g!==null&&Ne(g),l.callbackPriority=2,l.callbackNode=null,2}function L2(l,c){if(Gr!==0&&Gr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(vy()&&l.callbackNode!==p)return null;var g=Wt;return g=Ei(l,l===kn?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(v2(l,g,c),N2(l,at()),l.callbackNode!=null&&l.callbackNode===p?L2.bind(null,l):null)}function j2(l,c){if(vy())return null;v2(l,c,!0)}function r7(){m7(function(){(an&6)!==0?Ue(Mt,n7):Q2()})}function $1(){if(mu===0){var l=Nf;l===0&&(l=Vr,Vr<<=1,(Vr&261888)===0&&(Vr=256)),mu=l}return mu}function B2(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:zi(""+l)}function z2(l,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,l.id&&p.setAttribute("form",l.id),c.parentNode.insertBefore(p,c),l=new FormData(l),p.parentNode.removeChild(p),l}function i7(l,c,p,g,_){if(c==="submit"&&p&&p.stateNode===_){var x=B2((_[xn]||null).action),R=g.submitter;R&&(c=(c=R[xn]||null)?B2(c.formAction):R.getAttribute("formAction"),c!==null&&(x=c,R=null));var B=new wt("action","action",null,g,_);l.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(mu!==0){var Y=R?z2(_,R):new FormData(_);HS(p,{pending:!0,data:Y,method:_.method,action:x},null,Y)}}else typeof x=="function"&&(B.preventDefault(),Y=R?z2(_,R):new FormData(_),HS(p,{pending:!0,data:Y,method:_.method,action:x},x,Y))},currentTarget:_}]})}}for(var M1=0;M1<st.length;M1++){var I1=st[M1],s7=I1.toLowerCase(),a7=I1[0].toUpperCase()+I1.slice(1);_t(s7,"on"+a7)}_t(xe,"onAnimationEnd"),_t(Re,"onAnimationIteration"),_t(Ve,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(He,"onTransitionRun"),_t(Fe,"onTransitionStart"),_t(We,"onTransitionCancel"),_t(Je,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xp));function Z2(l,c){c=(c&4)!==0;for(var p=0;p<l.length;p++){var g=l[p],_=g.event;g=g.listeners;e:{var x=void 0;if(c)for(var R=g.length-1;0<=R;R--){var B=g[R],Y=B.instance,me=B.currentTarget;if(B=B.listener,Y!==x&&_.isPropagationStopped())break e;x=B,_.currentTarget=me;try{x(_)}catch(Ce){Qt(Ce)}_.currentTarget=null,x=Y}else for(R=0;R<g.length;R++){if(B=g[R],Y=B.instance,me=B.currentTarget,B=B.listener,Y!==x&&_.isPropagationStopped())break e;x=B,_.currentTarget=me;try{x(_)}catch(Ce){Qt(Ce)}_.currentTarget=null,x=Y}}}}function Yt(l,c){var p=c[ci];p===void 0&&(p=c[ci]=new Set);var g=l+"__bubble";p.has(g)||(U2(c,l,2,!1),p.add(g))}function D1(l,c,p){var g=0;c&&(g|=4),U2(p,l,g,c)}var wy="_reactListening"+Math.random().toString(36).slice(2);function Q1(l){if(!l[wy]){l[wy]=!0,ti.forEach(function(p){p!=="selectionchange"&&(o7.has(p)||D1(p,!1,l),D1(p,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[wy]||(c[wy]=!0,D1("selectionchange",!1,c))}}function U2(l,c,p,g){switch(yM(c)){case 2:var _=D7;break;case 8:_=Q7;break;default:_=K1}p=_.bind(null,c,p,l),_=void 0,!po||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),g?_!==void 0?l.addEventListener(c,p,{capture:!0,passive:_}):l.addEventListener(c,p,!0):_!==void 0?l.addEventListener(c,p,{passive:_}):l.addEventListener(c,p,!1)}function N1(l,c,p,g,_){var x=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var B=g.stateNode.containerInfo;if(B===_)break;if(R===4)for(R=g.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;B!==null;){if(R=Vt(B),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){g=x=R;continue e}B=B.parentNode}}g=g.return}Ms(function(){var me=x,Ce=zn(p),Ie=[];e:{var be=Ge.get(l);if(be!==void 0){var ke=wt,lt=l;switch(l){case"keypress":if(U(p)===0)break e;case"keydown":case"keyup":ke=$O;break;case"focusin":lt="focus",ke=Ai;break;case"focusout":lt="blur",ke=Ai;break;case"beforeblur":case"afterblur":ke=Ai;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Wr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=up;break;case xe:case Re:case Ve:ke=Wo;break;case Je:ke=Af;break;case"scroll":case"scrollend":ke=or;break;case"wheel":ke=MO;break;case"copy":case"cut":case"paste":ke=Oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Ef;break;case"toggle":case"beforetoggle":ke=hp}var xt=(c&4)!==0,wn=!xt&&(l==="scroll"||l==="scrollend"),ce=xt?be!==null?be+"Capture":null:be;xt=[];for(var H=me,pe;H!==null;){var $e=H;if(pe=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||pe===null||ce===null||($e=ho(H,ce),$e!=null&&xt.push(Fp(H,$e,pe))),wn)break;H=H.return}0<xt.length&&(be=new ke(be,lt,null,p,Ce),Ie.push({event:be,listeners:xt}))}}if((c&7)===0){e:{if(be=l==="mouseover"||l==="pointerover",ke=l==="mouseout"||l==="pointerout",be&&p!==fs&&(lt=p.relatedTarget||p.fromElement)&&(Vt(lt)||lt[Ni]))break e;if((ke||be)&&(be=Ce.window===Ce?Ce:(be=Ce.ownerDocument)?be.defaultView||be.parentWindow:window,ke?(lt=p.relatedTarget||p.toElement,ke=me,lt=lt?Vt(lt):null,lt!==null&&(wn=s(lt),xt=lt.tag,lt!==wn||xt!==5&&xt!==27&&xt!==6)&&(lt=null)):(ke=null,lt=me),ke!==lt)){if(xt=lr,$e="onMouseLeave",ce="onMouseEnter",H="mouse",(l==="pointerout"||l==="pointerover")&&(xt=Ef,$e="onPointerLeave",ce="onPointerEnter",H="pointer"),wn=ke==null?be:Qe(ke),pe=lt==null?be:Qe(lt),be=new xt($e,H+"leave",ke,p,Ce),be.target=wn,be.relatedTarget=pe,$e=null,Vt(Ce)===me&&(xt=new xt(ce,H+"enter",lt,p,Ce),xt.target=pe,xt.relatedTarget=wn,$e=xt),wn=$e,ke&&lt)t:{for(xt=l7,ce=ke,H=lt,pe=0,$e=ce;$e;$e=xt($e))pe++;$e=0;for(var vt=H;vt;vt=xt(vt))$e++;for(;0<pe-$e;)ce=xt(ce),pe--;for(;0<$e-pe;)H=xt(H),$e--;for(;pe--;){if(ce===H||H!==null&&ce===H.alternate){xt=ce;break t}ce=xt(ce),H=xt(H)}xt=null}else xt=null;ke!==null&&q2(Ie,be,ke,xt,!1),lt!==null&&wn!==null&&q2(Ie,wn,lt,xt,!0)}}e:{if(be=me?Qe(me):window,ke=be.nodeName&&be.nodeName.toLowerCase(),ke==="select"||ke==="input"&&be.type==="file")var tn=Vn;else if(vp(be))if(mc)tn=jO;else{tn=Kl;var pt=wp}else ke=be.nodeName,!ke||ke.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&Xr(me.elementType)&&(tn=Vn):tn=vo;if(tn&&(tn=tn(l,me))){LO(Ie,tn,p,Ce);break e}pt&&pt(l,be,me),l==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&Bi(be,"number",be.value)}switch(pt=me?Qe(me):window,l){case"focusin":(vp(pt)||pt.contentEditable==="true")&&(te=pt,le=me,F=null);break;case"focusout":F=le=te=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,ee(Ie,p,Ce);break;case"selectionchange":if(J)break;case"keydown":case"keyup":ee(Ie,p,Ce)}var Zt;if(dp)e:{switch(l){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Gl?gp(l,p)&&(Gt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Gt="onCompositionStart");Gt&&(IO&&p.locale!=="ko"&&(Gl||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Gl&&(Zt=cc()):(Zi=Ce,Da="value"in Zi?Zi.value:Zi.textContent,Gl=!0)),pt=Sy(me,Gt),0<pt.length&&(Gt=new kf(Gt,l,null,p,Ce),Ie.push({event:Gt,listeners:pt}),Zt?Gt.data=Zt:(Zt=Op(p),Zt!==null&&(Gt.data=Zt)))),(Zt=pp?QO(l,p):yp(l,p))&&(Gt=Sy(me,"onBeforeInput"),0<Gt.length&&(pt=new kf("onBeforeInput","beforeinput",null,p,Ce),Ie.push({event:pt,listeners:Gt}),pt.data=Zt)),i7(Ie,l,me,p,Ce)}Z2(Ie,c)})}function Fp(l,c,p){return{instance:l,listener:c,currentTarget:p}}function Sy(l,c){for(var p=c+"Capture",g=[];l!==null;){var _=l,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=ho(l,p),_!=null&&g.unshift(Fp(l,_,x)),_=ho(l,c),_!=null&&g.push(Fp(l,_,x))),l.tag===3)return g;l=l.return}return[]}function l7(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function q2(l,c,p,g,_){for(var x=c._reactName,R=[];p!==null&&p!==g;){var B=p,Y=B.alternate,me=B.stateNode;if(B=B.tag,Y!==null&&Y===g)break;B!==5&&B!==26&&B!==27||me===null||(Y=me,_?(me=ho(p,x),me!=null&&R.unshift(Fp(p,me,Y))):_||(me=ho(p,x),me!=null&&R.push(Fp(p,me,Y)))),p=p.return}R.length!==0&&l.push({event:c,listeners:R})}var u7=/\r\n?/g,c7=/\u0000|\uFFFD/g;function V2(l){return(typeof l=="string"?l:""+l).replace(u7,`
`).replace(c7,"")}function X2(l,c){return c=V2(c),V2(l)===c}function _n(l,c,p,g,_,x){switch(p){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Rt(l,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Rt(l,""+g);break;case"className":ji(l,"class",g);break;case"tabIndex":ji(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(l,p,g);break;case"style":$s(l,g,x);break;case"data":if(c!=="object"){ji(l,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||p!=="href")){l.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=zi(""+g),l.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&_n(l,c,"name",_.name,_,null),_n(l,c,"formEncType",_.formEncType,_,null),_n(l,c,"formMethod",_.formMethod,_,null),_n(l,c,"formTarget",_.formTarget,_,null)):(_n(l,c,"encType",_.encType,_,null),_n(l,c,"method",_.method,_,null),_n(l,c,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=zi(""+g),l.setAttribute(p,g);break;case"onClick":g!=null&&(l.onclick=cs);break;case"onScroll":g!=null&&Yt("scroll",l);break;case"onScrollEnd":g!=null&&Yt("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}p=zi(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""+g):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":g===!0?l.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,g):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(p,g):l.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(p):l.setAttribute(p,g);break;case"popover":Yt("beforetoggle",l),Yt("toggle",l),ls(l,"popover",g);break;case"xlinkActuate":Or(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Or(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Or(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Or(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Or(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Or(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Or(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Or(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Or(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ls(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=co.get(p)||p,ls(l,p,g))}}function L1(l,c,p,g,_,x){switch(p){case"style":$s(l,g,x);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof g=="string"?Rt(l,g):(typeof g=="number"||typeof g=="bigint")&&Rt(l,""+g);break;case"onScroll":g!=null&&Yt("scroll",l);break;case"onScrollEnd":g!=null&&Yt("scrollend",l);break;case"onClick":g!=null&&(l.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),c=p.slice(2,_?p.length-7:void 0),x=l[xn]||null,x=x!=null?x[p]:null,typeof x=="function"&&l.removeEventListener(c,x,_),typeof g=="function")){typeof x!="function"&&x!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(c,g,_);break e}p in l?l[p]=g:g===!0?l.setAttribute(p,""):ls(l,p,g)}}}function gi(l,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",l),Yt("load",l);var g=!1,_=!1,x;for(x in p)if(p.hasOwnProperty(x)){var R=p[x];if(R!=null)switch(x){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:_n(l,c,x,R,p,null)}}_&&_n(l,c,"srcSet",p.srcSet,p,null),g&&_n(l,c,"src",p.src,p,null);return;case"input":Yt("invalid",l);var B=x=R=_=null,Y=null,me=null;for(g in p)if(p.hasOwnProperty(g)){var Ce=p[g];if(Ce!=null)switch(g){case"name":_=Ce;break;case"type":R=Ce;break;case"checked":Y=Ce;break;case"defaultChecked":me=Ce;break;case"value":x=Ce;break;case"defaultValue":B=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,c));break;default:_n(l,c,g,Ce,p,null)}}Xl(l,x,B,Y,me,R,_,!1);return;case"select":Yt("invalid",l),g=R=x=null;for(_ in p)if(p.hasOwnProperty(_)&&(B=p[_],B!=null))switch(_){case"value":x=B;break;case"defaultValue":R=B;break;case"multiple":g=B;default:_n(l,c,_,B,p,null)}c=x,p=R,l.multiple=!!g,c!=null?us(l,!!g,c,!1):p!=null&&us(l,!!g,p,!0);return;case"textarea":Yt("invalid",l),x=_=g=null;for(R in p)if(p.hasOwnProperty(R)&&(B=p[R],B!=null))switch(R){case"value":g=B;break;case"defaultValue":_=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:_n(l,c,R,B,p,null)}Yo(l,g,_,x);return;case"option":for(Y in p)p.hasOwnProperty(Y)&&(g=p[Y],g!=null)&&(Y==="selected"?l.selected=g&&typeof g!="function"&&typeof g!="symbol":_n(l,c,Y,g,p,null));return;case"dialog":Yt("beforetoggle",l),Yt("toggle",l),Yt("cancel",l),Yt("close",l);break;case"iframe":case"object":Yt("load",l);break;case"video":case"audio":for(g=0;g<Xp.length;g++)Yt(Xp[g],l);break;case"image":Yt("error",l),Yt("load",l);break;case"details":Yt("toggle",l);break;case"embed":case"source":case"link":Yt("error",l),Yt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in p)if(p.hasOwnProperty(me)&&(g=p[me],g!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:_n(l,c,me,g,p,null)}return;default:if(Xr(c)){for(Ce in p)p.hasOwnProperty(Ce)&&(g=p[Ce],g!==void 0&&L1(l,c,Ce,g,p,void 0));return}}for(B in p)p.hasOwnProperty(B)&&(g=p[B],g!=null&&_n(l,c,B,g,p,null))}function f7(l,c,p,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,R=null,B=null,Y=null,me=null,Ce=null;for(ke in p){var Ie=p[ke];if(p.hasOwnProperty(ke)&&Ie!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":Y=Ie;default:g.hasOwnProperty(ke)||_n(l,c,ke,null,g,Ie)}}for(var be in g){var ke=g[be];if(Ie=p[be],g.hasOwnProperty(be)&&(ke!=null||Ie!=null))switch(be){case"type":x=ke;break;case"name":_=ke;break;case"checked":me=ke;break;case"defaultChecked":Ce=ke;break;case"value":R=ke;break;case"defaultValue":B=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:ke!==Ie&&_n(l,c,be,ke,g,Ie)}}uo(l,R,B,Y,me,Ce,x,_);return;case"select":ke=R=B=be=null;for(x in p)if(Y=p[x],p.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":ke=Y;default:g.hasOwnProperty(x)||_n(l,c,x,null,g,Y)}for(_ in g)if(x=g[_],Y=p[_],g.hasOwnProperty(_)&&(x!=null||Y!=null))switch(_){case"value":be=x;break;case"defaultValue":B=x;break;case"multiple":R=x;default:x!==Y&&_n(l,c,_,x,g,Y)}c=B,p=R,g=ke,be!=null?us(l,!!p,be,!1):!!g!=!!p&&(c!=null?us(l,!!p,c,!0):us(l,!!p,p?[]:"",!1));return;case"textarea":ke=be=null;for(B in p)if(_=p[B],p.hasOwnProperty(B)&&_!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:_n(l,c,B,null,g,_)}for(R in g)if(_=g[R],x=p[R],g.hasOwnProperty(R)&&(_!=null||x!=null))switch(R){case"value":be=_;break;case"defaultValue":ke=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==x&&_n(l,c,R,_,g,x)}Fl(l,be,ke);return;case"option":for(var lt in p)be=p[lt],p.hasOwnProperty(lt)&&be!=null&&!g.hasOwnProperty(lt)&&(lt==="selected"?l.selected=!1:_n(l,c,lt,null,g,be));for(Y in g)be=g[Y],ke=p[Y],g.hasOwnProperty(Y)&&be!==ke&&(be!=null||ke!=null)&&(Y==="selected"?l.selected=be&&typeof be!="function"&&typeof be!="symbol":_n(l,c,Y,be,g,ke));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in p)be=p[xt],p.hasOwnProperty(xt)&&be!=null&&!g.hasOwnProperty(xt)&&_n(l,c,xt,null,g,be);for(me in g)if(be=g[me],ke=p[me],g.hasOwnProperty(me)&&be!==ke&&(be!=null||ke!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:_n(l,c,me,be,g,ke)}return;default:if(Xr(c)){for(var wn in p)be=p[wn],p.hasOwnProperty(wn)&&be!==void 0&&!g.hasOwnProperty(wn)&&L1(l,c,wn,void 0,g,be);for(Ce in g)be=g[Ce],ke=p[Ce],!g.hasOwnProperty(Ce)||be===ke||be===void 0&&ke===void 0||L1(l,c,Ce,be,g,ke);return}}for(var ce in p)be=p[ce],p.hasOwnProperty(ce)&&be!=null&&!g.hasOwnProperty(ce)&&_n(l,c,ce,null,g,be);for(Ie in g)be=g[Ie],ke=p[Ie],!g.hasOwnProperty(Ie)||be===ke||be==null&&ke==null||_n(l,c,Ie,be,g,ke)}function F2(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h7(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,p=performance.getEntriesByType("resource"),g=0;g<p.length;g++){var _=p[g],x=_.transferSize,R=_.initiatorType,B=_.duration;if(x&&B&&F2(R)){for(R=0,B=_.responseEnd,g+=1;g<p.length;g++){var Y=p[g],me=Y.startTime;if(me>B)break;var Ce=Y.transferSize,Ie=Y.initiatorType;Ce&&F2(Ie)&&(Y=Y.responseEnd,R+=Ce*(Y<B?1:(B-me)/(Y-me)))}if(--g,c+=8*(x+R)/(_.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var j1=null,B1=null;function xy(l){return l.nodeType===9?l:l.ownerDocument}function Y2(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W2(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function z1(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Z1=null;function d7(){var l=window.event;return l&&l.type==="popstate"?l===Z1?!1:(Z1=l,!0):(Z1=null,!1)}var G2=typeof setTimeout=="function"?setTimeout:void 0,p7=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,m7=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(l){return K2.resolve(null).then(l).catch(g7)}:G2;function g7(l){setTimeout(function(){throw l})}function gu(l){return l==="head"}function H2(l,c){var p=c,g=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"||p==="/&"){if(g===0){l.removeChild(_),nh(c);return}g--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")g++;else if(p==="html")Yp(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,Yp(p);for(var x=p.firstChild;x;){var R=x.nextSibling,B=x.nodeName;x[aa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=R}}else p==="body"&&Yp(l.ownerDocument.body);p=_}while(p);nh(c)}function J2(l,c){var p=l;l=0;do{var g=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),g&&g.nodeType===8)if(p=g.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=g}while(p)}function U1(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":U1(p),Ma(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function O7(l,c,p,g){for(;l.nodeType===1;){var _=p;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[aa])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(x=l.getAttribute("rel"),x==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(x!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(x=l.getAttribute("src"),(x!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===x)return l}else return l;if(l=ha(l.nextSibling),l===null)break}return null}function y7(l,c,p){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ha(l.nextSibling),l===null))return null;return l}function eM(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=ha(l.nextSibling),l===null))return null;return l}function q1(l){return l.data==="$?"||l.data==="$~"}function V1(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function v7(l,c){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||p.readyState!=="loading")c();else{var g=function(){c(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function ha(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var X1=null;function tM(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(c===0)return ha(l.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}l=l.nextSibling}return null}function nM(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return l;c--}else p!=="/$"&&p!=="/&"||c++}l=l.previousSibling}return null}function rM(l,c,p){switch(c=xy(p),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Yp(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);Ma(l)}var da=new Map,iM=new Set;function ky(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var hl=ye.d;ye.d={f:b7,r:_7,D:w7,C:S7,L:x7,m:k7,X:E7,S:T7,M:A7};function b7(){var l=hl.f(),c=gy();return l||c}function _7(l){var c=Bn(l);c!==null&&c.tag===5&&c.type==="form"?_$(c):hl.r(l)}var Jf=typeof document>"u"?null:document;function sM(l,c,p){var g=Jf;if(g&&typeof c=="string"&&c){var _=fi(c);_='link[rel="'+l+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),iM.has(_)||(iM.add(_),l={rel:l,crossOrigin:p,href:c},g.querySelector(_)===null&&(c=g.createElement("link"),gi(c,"link",l),hn(c),g.head.appendChild(c)))}}function w7(l){hl.D(l),sM("dns-prefetch",l,null)}function S7(l,c){hl.C(l,c),sM("preconnect",l,c)}function x7(l,c,p){hl.L(l,c,p);var g=Jf;if(g&&l&&c){var _='link[rel="preload"][as="'+fi(c)+'"]';c==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+fi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+fi(p.imageSizes)+'"]')):_+='[href="'+fi(l)+'"]';var x=_;switch(c){case"style":x=eh(l);break;case"script":x=th(l)}da.has(x)||(l=d({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:l,as:c},p),da.set(x,l),g.querySelector(_)!==null||c==="style"&&g.querySelector(Wp(x))||c==="script"&&g.querySelector(Gp(x))||(c=g.createElement("link"),gi(c,"link",l),hn(c),g.head.appendChild(c)))}}function k7(l,c){hl.m(l,c);var p=Jf;if(p&&l){var g=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+fi(g)+'"][href="'+fi(l)+'"]',x=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=th(l)}if(!da.has(x)&&(l=d({rel:"modulepreload",href:l},c),da.set(x,l),p.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Gp(x)))return}g=p.createElement("link"),gi(g,"link",l),hn(g),p.head.appendChild(g)}}}function T7(l,c,p){hl.S(l,c,p);var g=Jf;if(g&&l){var _=Cs(g).hoistableStyles,x=eh(l);c=c||"default";var R=_.get(x);if(!R){var B={loading:0,preload:null};if(R=g.querySelector(Wp(x)))B.loading=5;else{l=d({rel:"stylesheet",href:l,"data-precedence":c},p),(p=da.get(x))&&F1(l,p);var Y=R=g.createElement("link");hn(Y),gi(Y,"link",l),Y._p=new Promise(function(me,Ce){Y.onload=me,Y.onerror=Ce}),Y.addEventListener("load",function(){B.loading|=1}),Y.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Ty(R,c,g)}R={type:"stylesheet",instance:R,count:1,state:B},_.set(x,R)}}}function E7(l,c){hl.X(l,c);var p=Jf;if(p&&l){var g=Cs(p).hoistableScripts,_=th(l),x=g.get(_);x||(x=p.querySelector(Gp(_)),x||(l=d({src:l,async:!0},c),(c=da.get(_))&&Y1(l,c),x=p.createElement("script"),hn(x),gi(x,"link",l),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(_,x))}}function A7(l,c){hl.M(l,c);var p=Jf;if(p&&l){var g=Cs(p).hoistableScripts,_=th(l),x=g.get(_);x||(x=p.querySelector(Gp(_)),x||(l=d({src:l,async:!0,type:"module"},c),(c=da.get(_))&&Y1(l,c),x=p.createElement("script"),hn(x),gi(x,"link",l),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(_,x))}}function aM(l,c,p,g){var _=(_=tt.current)?ky(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=eh(p.href),p=Cs(_).hoistableStyles,g=p.get(c),g||(g={type:"style",instance:null,count:0,state:null},p.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=eh(p.href);var x=Cs(_).hoistableStyles,R=x.get(l);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(l,R),(x=_.querySelector(Wp(l)))&&!x._p&&(R.instance=x,R.state.loading=5),da.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},da.set(l,p),x||C7(_,l,p,R.state))),c&&g===null)throw Error(r(528,""));return R}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=th(p),p=Cs(_).hoistableScripts,g=p.get(c),g||(g={type:"script",instance:null,count:0,state:null},p.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function eh(l){return'href="'+fi(l)+'"'}function Wp(l){return'link[rel="stylesheet"]['+l+"]"}function oM(l){return d({},l,{"data-precedence":l.precedence,precedence:null})}function C7(l,c,p,g){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=l.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),gi(c,"link",p),hn(c),l.head.appendChild(c))}function th(l){return'[src="'+fi(l)+'"]'}function Gp(l){return"script[async]"+l}function lM(l,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var g=l.querySelector('style[data-href~="'+fi(p.href)+'"]');if(g)return c.instance=g,hn(g),g;var _=d({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),hn(g),gi(g,"style",_),Ty(g,p.precedence,l),c.instance=g;case"stylesheet":_=eh(p.href);var x=l.querySelector(Wp(_));if(x)return c.state.loading|=4,c.instance=x,hn(x),x;g=oM(p),(_=da.get(_))&&F1(g,_),x=(l.ownerDocument||l).createElement("link"),hn(x);var R=x;return R._p=new Promise(function(B,Y){R.onload=B,R.onerror=Y}),gi(x,"link",g),c.state.loading|=4,Ty(x,p.precedence,l),c.instance=x;case"script":return x=th(p.src),(_=l.querySelector(Gp(x)))?(c.instance=_,hn(_),_):(g=p,(_=da.get(x))&&(g=d({},p),Y1(g,_)),l=l.ownerDocument||l,_=l.createElement("script"),hn(_),gi(_,"link",g),l.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Ty(g,p.precedence,l));return c.instance}function Ty(l,c,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,x=_,R=0;R<g.length;R++){var B=g[R];if(B.dataset.precedence===c)x=B;else if(x!==_)break}x?x.parentNode.insertBefore(l,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(l,c.firstChild))}function F1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function Y1(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var Ey=null;function uM(l,c,p){if(Ey===null){var g=new Map,_=Ey=new Map;_.set(p,g)}else _=Ey,g=_.get(p),g||(g=new Map,_.set(p,g));if(g.has(l))return g;for(g.set(l,null),p=p.getElementsByTagName(l),_=0;_<p.length;_++){var x=p[_];if(!(x[aa]||x[vn]||l==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var R=x.getAttribute(c)||"";R=l+R;var B=g.get(R);B?B.push(x):g.set(R,[x])}}return g}function cM(l,c,p){l=l.ownerDocument||l,l.head.insertBefore(p,c==="title"?l.querySelector("head > title"):null)}function P7(l,c,p){if(p===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(l=c.disabled,typeof c.precedence=="string"&&l==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function fM(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function R7(l,c,p,g){if(p.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var _=eh(g.href),x=c.querySelector(Wp(_));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=Ay.bind(l),c.then(l,l)),p.state.loading|=4,p.instance=x,hn(x);return}x=c.ownerDocument||c,g=oM(g),(_=da.get(_))&&F1(g,_),x=x.createElement("link"),hn(x);var R=x;R._p=new Promise(function(B,Y){R.onload=B,R.onerror=Y}),gi(x,"link",g),p.instance=x}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Ay.bind(l),c.addEventListener("load",p),c.addEventListener("error",p))}}var W1=0;function $7(l,c){return l.stylesheets&&l.count===0&&Py(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var g=setTimeout(function(){if(l.stylesheets&&Py(l,l.stylesheets),l.unsuspend){var x=l.unsuspend;l.unsuspend=null,x()}},6e4+c);0<l.imgBytes&&W1===0&&(W1=62500*h7());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Py(l,l.stylesheets),l.unsuspend)){var x=l.unsuspend;l.unsuspend=null,x()}},(l.imgBytes>W1?50:800)+c);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function Ay(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Py(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Cy=null;function Py(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Cy=new Map,c.forEach(M7,l),Cy=null,Ay.call(l))}function M7(l,c){if(!(c.state.loading&4)){var p=Cy.get(l);if(p)var g=p.get(null);else{p=new Map,Cy.set(l,p);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var R=_[x];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(p.set(R.dataset.precedence,R),g=R)}g&&p.set(null,g)}_=c.instance,R=_.getAttribute("data-precedence"),x=p.get(R)||g,x===g&&p.set(null,_),p.set(R,_),this.count++,g=Ay.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),x?x.parentNode.insertBefore(_,x.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),c.state.loading|=4}}var Kp={$$typeof:A,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function I7(l,c,p,g,_,x,R,B,Y){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function hM(l,c,p,g,_,x,R,B,Y,me,Ce,Ie){return l=new I7(l,c,p,R,Y,me,Ce,Ie,B),c=1,x===!0&&(c|=24),x=Is(3,null,null,c),l.current=x,x.stateNode=l,c=AS(),c.refCount++,l.pooledCache=c,c.refCount++,x.memoizedState={element:g,isDehydrated:p,cache:c},$S(x),l}function dM(l){return l?(l=$f,l):$f}function pM(l,c,p,g,_,x){_=dM(_),g.context===null?g.context=_:g.pendingContext=_,g=su(c),g.payload={element:p},x=x===void 0?null:x,x!==null&&(g.callback=x),p=au(l,g,c),p!==null&&(ys(p,l,c),Cp(p,l,c))}function mM(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<c?p:c}}function G1(l,c){mM(l,c),(l=l.alternate)&&mM(l,c)}function gM(l){if(l.tag===13||l.tag===31){var c=er(l,67108864);c!==null&&ys(c,l,67108864),G1(l,67108864)}}function OM(l){if(l.tag===13||l.tag===31){var c=js();c=rs(c);var p=er(l,c);p!==null&&ys(p,l,c),G1(l,c)}}var Ry=!0;function D7(l,c,p,g){var _=G.T;G.T=null;var x=ye.p;try{ye.p=2,K1(l,c,p,g)}finally{ye.p=x,G.T=_}}function Q7(l,c,p,g){var _=G.T;G.T=null;var x=ye.p;try{ye.p=8,K1(l,c,p,g)}finally{ye.p=x,G.T=_}}function K1(l,c,p,g){if(Ry){var _=H1(g);if(_===null)N1(l,c,g,$y,p),vM(l,g);else if(L7(_,l,c,p,g))g.stopPropagation();else if(vM(l,g),c&4&&-1<N7.indexOf(l)){for(;_!==null;){var x=Bn(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var R=Ti(x.pendingLanes);if(R!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;R;){var Y=1<<31-de(R);B.entanglements[1]|=Y,R&=~Y}xo(x),(an&6)===0&&(py=at()+500,Vp(0))}}break;case 31:case 13:B=er(x,2),B!==null&&ys(B,x,2),gy(),G1(x,2)}if(x=H1(g),x===null&&N1(l,c,g,$y,p),x===_)break;_=x}_!==null&&g.stopPropagation()}else N1(l,c,g,null,p)}}function H1(l){return l=zn(l),J1(l)}var $y=null;function J1(l){if($y=null,l=Vt(l),l!==null){var c=s(l);if(c===null)l=null;else{var p=c.tag;if(p===13){if(l=a(c),l!==null)return l;l=null}else if(p===31){if(l=o(c),l!==null)return l;l=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return $y=l,null}function yM(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case Mt:return 2;case un:return 8;case Pn:case ar:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var ex=!1,Ou=null,yu=null,vu=null,Hp=new Map,Jp=new Map,bu=[],N7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vM(l,c){switch(l){case"focusin":case"focusout":Ou=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Hp.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jp.delete(c.pointerId)}}function em(l,c,p,g,_,x){return l===null||l.nativeEvent!==x?(l={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:x,targetContainers:[_]},c!==null&&(c=Bn(c),c!==null&&gM(c)),l):(l.eventSystemFlags|=g,c=l.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),l)}function L7(l,c,p,g,_){switch(c){case"focusin":return Ou=em(Ou,l,c,p,g,_),!0;case"dragenter":return yu=em(yu,l,c,p,g,_),!0;case"mouseover":return vu=em(vu,l,c,p,g,_),!0;case"pointerover":var x=_.pointerId;return Hp.set(x,em(Hp.get(x)||null,l,c,p,g,_)),!0;case"gotpointercapture":return x=_.pointerId,Jp.set(x,em(Jp.get(x)||null,l,c,p,g,_)),!0}return!1}function bM(l){var c=Vt(l.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){l.blockedOn=c,Ul(l.priority,function(){OM(p)});return}}else if(c===31){if(c=o(p),c!==null){l.blockedOn=c,Ul(l.priority,function(){OM(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function My(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var p=H1(l.nativeEvent);if(p===null){p=l.nativeEvent;var g=new p.constructor(p.type,p);fs=g,p.target.dispatchEvent(g),fs=null}else return c=Bn(p),c!==null&&gM(c),l.blockedOn=p,!1;c.shift()}return!0}function _M(l,c,p){My(l)&&p.delete(c)}function j7(){ex=!1,Ou!==null&&My(Ou)&&(Ou=null),yu!==null&&My(yu)&&(yu=null),vu!==null&&My(vu)&&(vu=null),Hp.forEach(_M),Jp.forEach(_M)}function Iy(l,c){l.blockedOn===c&&(l.blockedOn=null,ex||(ex=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,j7)))}var Dy=null;function wM(l){Dy!==l&&(Dy=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dy===l&&(Dy=null);for(var c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],_=l[c+2];if(typeof g!="function"){if(J1(g||p)===null)continue;break}var x=Bn(p);x!==null&&(l.splice(c,3),c-=3,HS(x,{pending:!0,data:_,method:p.method,action:g},g,_))}}))}function nh(l){function c(Y){return Iy(Y,l)}Ou!==null&&Iy(Ou,l),yu!==null&&Iy(yu,l),vu!==null&&Iy(vu,l),Hp.forEach(c),Jp.forEach(c);for(var p=0;p<bu.length;p++){var g=bu[p];g.blockedOn===l&&(g.blockedOn=null)}for(;0<bu.length&&(p=bu[0],p.blockedOn===null);)bM(p),p.blockedOn===null&&bu.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var _=p[g],x=p[g+1],R=_[xn]||null;if(typeof x=="function")R||wM(p);else if(R){var B=null;if(x&&x.hasAttribute("formAction")){if(_=x,R=x[xn]||null)B=R.formAction;else if(J1(_)!==null)continue}else B=R.action;typeof B=="function"?p[g+1]=B:(p.splice(g,3),g-=3),wM(p)}}}function SM(){function l(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(R){return _=R})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),g||setTimeout(p,20)}function p(){if(!g&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){g=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function tx(l){this._internalRoot=l}Qy.prototype.render=tx.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,g=js();pM(p,g,l,c,null,null)},Qy.prototype.unmount=tx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;pM(l.current,2,null,l,null,null),gy(),c[Ni]=null}};function Qy(l){this._internalRoot=l}Qy.prototype.unstable_scheduleHydration=function(l){if(l){var c=ui();l={blockedOn:null,target:l,priority:c};for(var p=0;p<bu.length&&c!==0&&c<bu[p].priority;p++);bu.splice(p,0,l),p===0&&bM(l)}};var xM=e.version;if(xM!=="19.2.3")throw Error(r(527,xM,"19.2.3"));ye.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(c),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var B7={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{Gn=Ny.inject(B7),Jt=Ny}catch{}}return nm.createRoot=function(l,c){if(!i(l))throw Error(r(299));var p=!1,g="",_=R$,x=$$,R=M$;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=hM(l,1,!1,null,null,p,g,null,_,x,R,SM),l[Ni]=c.current,Q1(l),new tx(c)},nm.hydrateRoot=function(l,c,p){if(!i(l))throw Error(r(299));var g=!1,_="",x=R$,R=$$,B=M$,Y=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(R=p.onCaughtError),p.onRecoverableError!==void 0&&(B=p.onRecoverableError),p.formState!==void 0&&(Y=p.formState)),c=hM(l,1,!0,c,p??null,g,_,Y,x,R,B,SM),c.context=dM(null),p=c.current,g=js(),g=rs(g),_=su(g),_.callback=null,au(p,_,g),p=g,c.current.lanes=p,As(c,p),xo(c),l[Ni]=c.current,Q1(l),new Qy(c)},nm.version="19.2.3",nm}var IM;function G7(){if(IM)return ix.exports;IM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ix.exports=W7(),ix.exports}var K7=G7();const o3={stack:[]};function H7(t,e){switch(e.type){case"PUSH_LAYER":return{...t,stack:[...t.stack,e.layer]};case"POP_LAYER":return t.stack.length===0?t:{...t,stack:t.stack.slice(0,-1)};case"GO_BACK":return t.stack.length===0?t:{...t,stack:t.stack.slice(0,-1)};case"RESET_TO_TODAY":return o3;case"RESTORE_STATE":return e.state;default:return t}}const rm={pushLayer:t=>({type:"PUSH_LAYER",layer:t}),popLayer:()=>({type:"POP_LAYER"}),goBack:()=>({type:"GO_BACK"}),resetToToday:()=>({type:"RESET_TO_TODAY"}),restoreState:t=>({type:"RESTORE_STATE",state:t})};function J7(){const[t,e]=$.useReducer(H7,o3);$.useEffect(()=>{const a=()=>{e(rm.goBack())};return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[]);const n=$.useCallback(a=>{e(rm.pushLayer(a)),window.history.pushState({},"")},[]),r=$.useCallback(()=>{e(rm.popLayer())},[]),i=$.useCallback(()=>{e(rm.goBack())},[]),s=$.useCallback(()=>{e(rm.resetToToday())},[]);return{state:t,actions:{pushLayer:n,popLayer:r,goBack:i,resetToToday:s}}}const RA=$.createContext(null);function eF({children:t}){const e=J7(),[n,r]=$.useState(!1),i=$.useCallback(()=>{r(s=>!s)},[]);return M.jsx(RA.Provider,{value:{state:e.state,readerMode:n,actions:{...e.actions,setReaderMode:r,toggleReaderMode:i}},children:t})}function Vg(){const t=$.useContext(RA);if(!t)throw new Error("useNavigationState must be used within NavigationProvider");return t.state}function nc(){const t=$.useContext(RA);if(!t)throw new Error("useNavigationActions must be used within NavigationProvider");return t.actions}const yi=[];for(let t=0;t<256;++t)yi.push((t+256).toString(16).slice(1));function tF(t,e=0){return(yi[t[e+0]]+yi[t[e+1]]+yi[t[e+2]]+yi[t[e+3]]+"-"+yi[t[e+4]]+yi[t[e+5]]+"-"+yi[t[e+6]]+yi[t[e+7]]+"-"+yi[t[e+8]]+yi[t[e+9]]+"-"+yi[t[e+10]]+yi[t[e+11]]+yi[t[e+12]]+yi[t[e+13]]+yi[t[e+14]]+yi[t[e+15]]).toLowerCase()}let lx;const nF=new Uint8Array(16);function rF(){if(!lx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lx=crypto.getRandomValues.bind(crypto)}return lx(nF)}const iF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),DM={randomUUID:iF};function sF(t,e,n){t=t||{};const r=t.random??t.rng?.()??rF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tF(r)}function _l(t,e,n){return DM.randomUUID&&!t?DM.randomUUID():sF(t)}var yw=a3();const aF=Ow(yw);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function oF(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lF(t){var e=oF(t,"string");return Wm(e)=="symbol"?e:e+""}function uF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lF(r.key),r)}}function rc(t,e,n){return e&&uF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cF(t){return t[t.length-1]}function $A(t){return Array.isArray(t)?t.slice(0):[t]}function fF(t,e){t=t.slice(0);for(var n=[];t.length;){var r=t.splice(0,e);n.push(r)}return n}function Jb(t){return Array.isArray(t)}function ux(t,e){var n=0,r=-1;for(var i of t){r=r+1;var s=e(i,r);if(s)n=n+1;else break}return n}function of(t,e){var n=e.length;if(n!==0){var r=t.length;t.length=r+e.length;for(var i=0;i<n;++i)t[r+i]=e[i]}}function hF(t){return t.filter(function(e,n,r){return r.indexOf(e)===n})}function zu(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r==="-")return parseInt(e,10);e+=r}throw new Error("malformatted revision: "+t)}function El(t,e){var n=e?zu(e._rev)+1:1;return n+"-"+t}function dF(t){var e=t.split("."),n=e.length;return n===1?r=>r[t]:r=>{for(var i=r,s=0;s<n;++s){var a=e[s];if(i=i[a],typeof i>"u")return i}return i}}function Yn(t){return Object.assign({},t)}function pF(t){return Object.keys(t)[0]}function e_(t,e=!1){if(!t)return t;if(!e&&Array.isArray(t))return t.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>e_(r,e));if(typeof t=="object"&&!Array.isArray(t)){var n={};return Object.keys(t).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=e_(t[r],e)}),n}return t}function dT(t){if(!t||t===null||typeof t!="object")return t;if(Array.isArray(t)){for(var e=new Array(t.length),n=e.length;n--;)e[n]=dT(t[n]);return e}var r={};for(var i in t)r[i]=dT(t[i]);return r}var Ks=dT;function wl(t,e,n){return Object.defineProperty(t,e,{get:function(){return n}}),n}var MA=1;function zd(){return{lwt:MA}}function Ka(){return""}function mF(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function gF(t,e,n){if(e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;){var s=e[r],a=n[r];if(r++,s[t]!==a[t]||s._rev!==a._rev||s._meta.lwt!==a._meta.lwt)return!1}return!0}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gm(t,e)}function IA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gm(t,e)}function pT(t){return pT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pT(t)}function OF(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function yF(t,e,n){if(l3())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Gm(i,n.prototype),i}function t_(t){var e=typeof Map=="function"?new Map:void 0;return t_=function(r){if(r===null||!OF(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return yF(r,arguments,pT(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Gm(i,r)},t_(t)}var An={isDevMode(){return!1},deepFreezeWhenDevMode(t){return t},tunnelErrorMessage(t){return`
        RxDB Error-Code: `+t+`.
        Hint: Error messages are not included in RxDB core to reduce build size.
        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,
        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error
        `}};function vF(t){var e="";return Object.keys(t).length===0||(e+="-".repeat(20)+`
`,e+=`Parameters:
`,e+=Object.keys(t).map(n=>{var r="[object Object]";try{n==="errors"?r=t[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(t[n],function(i,s){return s===void 0?null:s},2)}catch{}return n+": "+r}).join(`
`),e+=`
`),e}function u3(t,e,n){return`
`+t+`
`+vF(n)}var bF=(function(t){function e(r,i,s={}){var a,o=u3(i,r,s);return a=t.call(this,o)||this,a.code=r,a.message=o,a.url=DA(r),a.parameters=s,a.rxdb=!0,a}IA(e,t);var n=e.prototype;return n.toString=function(){return this.message},rc(e,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])})(t_(Error)),_F=(function(t){function e(r,i,s={}){var a,o=u3(i,r,s);return a=t.call(this,o)||this,a.code=r,a.message=o,a.url=DA(r),a.parameters=s,a.rxdb=!0,a}IA(e,t);var n=e.prototype;return n.toString=function(){return this.message},rc(e,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])})(t_(TypeError));function DA(t){return"https://rxdb.info/errors.html?console=errors#"+t}function c3(t){return`
Find out more about this error here: `+DA(t)+` 
`}function ht(t,e){return new bF(t,An.tunnelErrorMessage(t)+c3(t),e)}function n_(t,e){return new _F(t,An.tunnelErrorMessage(t)+c3(t),e)}function Km(t){return t&&t.status===409?t:!1}var wF={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function f3(t){return ht("COL20",{name:wF[t.status],document:t.documentId,writeError:t})}var Ly;function SF(){if(Ly)return Ly;if(typeof crypto>"u"||typeof crypto.subtle>"u"||typeof crypto.subtle.digest!="function")throw ht("UT8",{args:{typeof_crypto:typeof crypto,typeof_crypto_subtle:typeof crypto?.subtle,typeof_crypto_subtle_digest:typeof crypto?.subtle?.digest}});return Ly=crypto.subtle.digest.bind(crypto.subtle),Ly}async function xF(t){var e=new TextEncoder().encode(t),n=await SF()("SHA-256",e),r=Array.prototype.map.call(new Uint8Array(n),i=>("00"+i.toString(16)).slice(-2)).join("");return r}var h3=xF;function kF(){return new Promise(t=>setTimeout(t,0))}function TF(t=0){return new Promise(e=>setTimeout(e,t))}function EF(t){return t&&typeof t.then=="function"?t:Promise.resolve(t)}var AF=Promise.resolve(!0),Al=Promise.resolve(!1),QA=Promise.resolve(null),Xa=Promise.resolve();function vw(t=1e4){return typeof requestIdleCallback=="function"?new Promise(e=>{requestIdleCallback(()=>e(),{timeout:t})}):TF(0)}var cx=Xa;function CF(t=void 0){return cx=cx.then(()=>vw(t)),cx}function PF(t){typeof requestIdleCallback=="function"&&requestIdleCallback(()=>{t()})}function RF(t,e){return t.reduce((n,r)=>n.then(r),Promise.resolve(e))}var $F=/\./g,QM="abcdefghijklmnopqrstuvwxyz";function Xg(t=10){for(var e="",n=0;n<t;n++)e+=QM.charAt(Math.floor(Math.random()*QM.length));return e}function d3(t){t+="";var e=t.charAt(0).toUpperCase();return e+t.substr(1)}function gm(t){for(;t.charAt(0)===".";)t=t.substr(1);for(;t.slice(-1)===".";)t=t.slice(0,-1);return t}function Hm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hm(t[r],e[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){var s=i[r];if(!Hm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}var mT=t=>{var e=typeof t;return t!==null&&(e==="object"||e==="function")},fx=new Set(["__proto__","prototype","constructor"]),MF=new Set("0123456789");function p3(t){var e=[],n="",r="start",i=!1;for(var s of t)switch(s){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=s),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=s;break}if(fx.has(n))return[];e.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=s;break}if(r==="property"){if(fx.has(n))return[];e.push(n),n=""}r="index";break}case"]":{if(r==="index"){e.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!MF.has(s))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=s}}switch(i&&(n+="\\"),r){case"property":{if(fx.has(n))return[];e.push(n);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function m3(t,e){if(typeof e!="number"&&Array.isArray(t)){var n=Number.parseInt(e,10);return Number.isInteger(n)&&t[n]===t[e]}return!1}function IF(t,e){if(m3(t,e))throw new Error("Cannot use string index")}function Zu(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!e.includes(".")&&!e.includes("["))return t[e];if(!mT(t)||typeof e!="string")return n===void 0?t:n;var r=p3(e);if(r.length===0)return n;for(var i=0;i<r.length;i++){var s=r[i];if(m3(t,s)?t=i===r.length-1?void 0:null:t=t[s],t==null){if(i!==r.length-1)return n;break}}return t===void 0?n:t}function g3(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!mT(t)||typeof e!="string")return t;for(var r=t,i=p3(e),s=0;s<i.length;s++){var a=i[s];IF(t,a),s===i.length-1?t[a]=n:mT(t[a])||(t[a]=typeof i[s+1]=="number"?[]:{}),t=t[a]}return r}function gd(t,e){var n=t.get(e);if(typeof n>"u")throw new Error("missing value from map "+e);return n}function Hs(t,e,n,r){var i=t.get(e);return typeof i>"u"&&(i=n(),t.set(e,i)),i}function Sn(t){var e=t.split("-"),n="RxDB";return e.forEach(r=>{n+=d3(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+t+`';
            addRxPlugin(`+n+`);
        `)}function DF(t){var e={name:t.name,message:t.message,rxdb:t.rxdb,parameters:t.parameters,extensions:t.extensions,code:t.code,url:t.url,stack:t.stack?t.stack.replace(/\n/g,` 
 `):void 0};return e}var hx=0;function ta(){var t=Date.now();t=t+.01,t<=hx&&(t=hx+.01);var e=parseFloat(t.toFixed(2));return hx=e,e}function zt(t,e){if(!t)throw e||(e=""),new Error("ensureNotFalsy() is falsy: "+e);return t}var Fg={bufferSize:1,refCount:!0},O3="16.21.1",dx={},QF="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93",NM=16,px=Al,LM=!1;async function y3(){return LM||(LM=!0,px=(async()=>!!(dx.premium&&typeof dx.premium=="string"&&await h3(dx.premium)===QF))()),px}var Jm={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postCloseRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],prePrepareRxQuery:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preCloseRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Ss(t,e){Jm[t].length>0&&Jm[t].forEach(n=>n(e))}async function Yg(t,e){for(var n of Jm[t])await n(e)}function Od(t,e){var n=e;n=n.replace($F,".properties."),n="properties."+n,n=gm(n);var r=Zu(t,n);return r}function NF(t,e,n){if(typeof e.primaryKey=="string")return n;var r=gf(e,n),i=n[t];if(i&&i!==r)throw ht("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:e});return n[t]=r,n}function xs(t){return typeof t=="string"?t:t.key}function LF(t){var e=xs(t.primaryKey),n=Od(t,e);return zt(n.maxLength)}function gf(t,e){if(typeof t.primaryKey=="string")return e[t.primaryKey];var n=t.primaryKey;return n.fields.map(r=>{var i=Zu(e,r);if(typeof i>"u")throw ht("DOC18",{args:{field:r,documentData:e}});return i}).join(n.separator)}function jF(t){var e=e_(t,!0);return e}function BF(t){return["_deleted",t]}function bw(t){t=Yn(t);var e=xs(t.primaryKey);t.properties=Yn(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=ZF,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var n=v3(t);of(t.required,n),t.required=t.required.filter(s=>!s.includes(".")).filter((s,a,o)=>o.indexOf(s)===a),t.version=t.version||0;var r=t.indexes.map(s=>{var a=Jb(s)?s.slice(0):[s];return a.includes(e)||a.push(e),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(BF(e)),r.push(["_meta.lwt",e]),t.internalIndexes&&t.internalIndexes.map(s=>{r.push(s)});var i=new Set;return r.filter(s=>{var a=s.join(",");return i.has(a)?!1:(i.add(a),!0)}),t.indexes=r,t}var zF=1e15,ZF={type:"object",properties:{lwt:{type:"number",minimum:MA,maximum:zF,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function v3(t){var e=Object.keys(t.properties).filter(r=>t.properties[r].final),n=xs(t.primaryKey);return e.push(n),typeof t.primaryKey!="string"&&t.primaryKey.fields.forEach(r=>e.push(r)),e}function UF(t,e){for(var n=Object.keys(t.defaultValues),r=0;r<n.length;++r){var i=n[r];(!Object.prototype.hasOwnProperty.call(e,i)||typeof e[i]>"u")&&(e[i]=t.defaultValues[i])}return e}var b3=(function(){function t(n,r){if(this.jsonSchema=n,this.hashFunction=r,this.indexes=qF(this.jsonSchema),this.primaryPath=xs(this.jsonSchema.primaryKey),!n.properties[this.primaryPath].maxLength)throw ht("SC39",{schema:n});this.finalFields=v3(this.jsonSchema)}var e=t.prototype;return e.validateChange=function(r,i){this.finalFields.forEach(s=>{if(!Hm(r[s],i[s]))throw ht("DOC9",{dataBefore:r,dataAfter:i,fieldName:s,schema:this.jsonSchema})})},e.getDocumentPrototype=function(){var r={},i=Od(this.jsonSchema,"");return Object.keys(i).forEach(s=>{var a=s;r.__defineGetter__(s,function(){if(!(!this.get||typeof this.get!="function")){var o=this.get(a);return o}}),Object.defineProperty(r,s+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,s+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,s+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),wl(this,"getDocumentPrototype",()=>r),r},e.getPrimaryOfDocumentData=function(r){return gf(this.jsonSchema,r)},rc(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,i])=>n[r]=i.default),wl(this,"defaultValues",n)}},{key:"hash",get:function(){return wl(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])})();function qF(t){return(t.indexes||[]).map(e=>Jb(e)?e:[e])}function VF(t){var e=t.version?t.version:0,n=0;return new Array(e).fill(0).map(()=>n++)}function XF(t,e,n=!0){n&&Ss("preCreateRxSchema",t);var r=bw(t);r=jF(r),An.deepFreezeWhenDevMode(r);var i=new b3(r,e);return Ss("createRxSchema",i),i}function Br(t){return typeof t=="function"}function FF(t){return Br(t?.lift)}function qo(t){return function(e){if(FF(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var gT=function(t,e){return gT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gT(t,e)};function Of(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Po=function(){return Po=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Po.apply(this,arguments)};function Zd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _3(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{f(r.next(h))}catch(d){a(d)}}function u(h){try{f(r.throw(h))}catch(d){a(d)}}function f(h){h.done?s(h.value):i(h.value).then(o,u)}f((r=r.apply(t,e||[])).next())})}function w3(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function yd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Uu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Wh(t){return this instanceof Wh?(this.v=t,this):new Wh(t)}function YF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(O){return function(y){return Promise.resolve(y).then(O,d)}}function o(O,y){r[O]&&(i[O]=function(v){return new Promise(function(w,k){s.push([O,v,w,k])>1||u(O,v)})},y&&(i[O]=y(i[O])))}function u(O,y){try{f(r[O](y))}catch(v){m(s[0][3],v)}}function f(O){O.value instanceof Wh?Promise.resolve(O.value.v).then(h,d):m(s[0][2],O)}function h(O){u("next",O)}function d(O){u("throw",O)}function m(O,y){O(y),s.shift(),s.length&&u(s[0][0],s[0][1])}}function WF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yd=="function"?yd(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,u){a=t[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(f){s({value:f,done:o})},a)}}var S3=(function(t){return t&&typeof t.length=="number"&&typeof t!="function"});function x3(t){return Br(t?.then)}function NA(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mx=NA(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function OT(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _w=(function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=yd(a),u=o.next();!u.done;u=o.next()){var f=u.value;f.remove(this)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(Br(h))try{h()}catch(v){s=v instanceof mx?v.errors:[v]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var m=yd(d),O=m.next();!O.done;O=m.next()){var y=O.value;try{jM(y)}catch(v){s=s??[],v instanceof mx?s=Uu(Uu([],lf(s)),lf(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{O&&!O.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}if(s)throw new mx(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)jM(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&OT(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&OT(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})(),k3=_w.EMPTY;function T3(t){return t instanceof _w||t&&"closed"in t&&Br(t.remove)&&Br(t.add)&&Br(t.unsubscribe)}function jM(t){Br(t)?t():t.unsubscribe()}var GF={Promise:void 0},KF={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Uu([t,e],lf(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function E3(t){KF.setTimeout(function(){throw t})}function BM(){}function kb(t){t()}var LA=(function(t){Of(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,T3(n)&&n.add(r)):r.destination=eY,r}return e.create=function(n,r,i){return new vd(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(_w),HF=(function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){jy(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){jy(r)}else jy(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){jy(n)}},t})(),vd=(function(t){Of(e,t);function e(n,r,i){var s=t.call(this)||this,a;return Br(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,s.destination=new HF(a),s}return e})(LA);function jy(t){E3(t)}function JF(t){throw t}var eY={closed:!0,next:BM,error:JF,complete:BM},jA=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Wg(t){return t}function tY(t){return t.length===0?Wg:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Js=(function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=rY(e)?e:new vd(e,n,r);return kb(function(){var a=i,o=a.operator,u=a.source;s.add(o?o.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=zM(n),new n(function(i,s){var a=new vd({next:function(o){try{e(o)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[jA]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return tY(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=zM(e),new e(function(r,i){var s;n.subscribe(function(a){return s=a},function(a){return i(a)},function(){return r(s)})})},t.create=function(e){return new t(e)},t})();function zM(t){var e;return(e=t??GF.Promise)!==null&&e!==void 0?e:Promise}function nY(t){return t&&Br(t.next)&&Br(t.error)&&Br(t.complete)}function rY(t){return t&&t instanceof LA||nY(t)&&T3(t)}function A3(t){return Br(t[jA])}function C3(t){return Symbol.asyncIterator&&Br(t?.[Symbol.asyncIterator])}function P3(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function iY(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var R3=iY();function $3(t){return Br(t?.[R3])}function M3(t){return YF(this,arguments,function(){var n,r,i,s;return w3(this,function(a){switch(a.label){case 0:n=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Wh(n.read())];case 3:return r=a.sent(),i=r.value,s=r.done,s?[4,Wh(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Wh(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function I3(t){return Br(t?.getReader)}function jl(t){if(t instanceof Js)return t;if(t!=null){if(A3(t))return sY(t);if(S3(t))return aY(t);if(x3(t))return oY(t);if(C3(t))return D3(t);if($3(t))return lY(t);if(I3(t))return uY(t)}throw P3(t)}function sY(t){return new Js(function(e){var n=t[jA]();if(Br(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aY(t){return new Js(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oY(t){return new Js(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,E3)})}function lY(t){return new Js(function(e){var n,r;try{for(var i=yd(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function D3(t){return new Js(function(e){cY(t,e).catch(function(n){return e.error(n)})})}function uY(t){return D3(M3(t))}function cY(t,e){var n,r,i,s;return _3(this,void 0,void 0,function(){var a,o;return w3(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=WF(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=u.sent(),i={error:o},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Cl(t,e,n,r,i){return new fY(t,e,n,r,i)}var fY=(function(t){Of(e,t);function e(n,r,i,s,a,o){var u=t.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=o,u._next=r?function(f){try{r(f)}catch(h){n.error(h)}}:t.prototype._next,u._error=s?function(f){try{s(f)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e})(LA),Q3={now:function(){return(Q3.delegate||Date).now()},delegate:void 0};function hY(t){return t&&Br(t.schedule)}function BA(t){return t[t.length-1]}function dY(t){return Br(BA(t))?t.pop():void 0}function Gg(t){return hY(BA(t))?t.pop():void 0}function N3(t,e){return typeof BA(t)=="number"?t.pop():e}function Nu(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}var pY=Array.isArray,mY=Object.getPrototypeOf,gY=Object.prototype,OY=Object.keys;function yY(t){if(t.length===1){var e=t[0];if(pY(e))return{args:e,keys:null};if(vY(e)){var n=OY(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}function vY(t){return t&&typeof t=="object"&&mY(t)===gY}function L3(t,e){return e===void 0&&(e=0),qo(function(n,r){n.subscribe(Cl(r,function(i){return Nu(r,t,function(){return r.next(i)},e)},function(){return Nu(r,t,function(){return r.complete()},e)},function(i){return Nu(r,t,function(){return r.error(i)},e)}))})}function j3(t,e){return e===void 0&&(e=0),qo(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function bY(t,e){return jl(t).pipe(j3(e),L3(e))}function _Y(t,e){return jl(t).pipe(j3(e),L3(e))}function wY(t,e){return new Js(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function SY(t,e){return new Js(function(n){var r;return Nu(n,e,function(){r=t[R3](),Nu(n,e,function(){var i,s,a;try{i=r.next(),s=i.value,a=i.done}catch(o){n.error(o);return}a?n.complete():n.next(s)},0,!0)}),function(){return Br(r?.return)&&r.return()}})}function B3(t,e){if(!t)throw new Error("Iterable cannot be null");return new Js(function(n){Nu(n,e,function(){var r=t[Symbol.asyncIterator]();Nu(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function xY(t,e){return B3(M3(t),e)}function kY(t,e){if(t!=null){if(A3(t))return bY(t,e);if(S3(t))return wY(t,e);if(x3(t))return _Y(t,e);if(C3(t))return B3(t,e);if($3(t))return SY(t,e);if(I3(t))return xY(t,e)}throw P3(t)}function Kg(t,e){return e?kY(t,e):jl(t)}function kr(t,e){return qo(function(n,r){var i=0;n.subscribe(Cl(r,function(s){r.next(t.call(e,s,i++))}))})}var TY=Array.isArray;function EY(t,e){return TY(e)?t.apply(void 0,Uu([],lf(e))):t(e)}function AY(t){return kr(function(e){return EY(t,e)})}function CY(t,e){return t.reduce(function(n,r,i){return n[r]=e[i],n},{})}function PY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Gg(t),r=dY(t),i=yY(t),s=i.args,a=i.keys;if(s.length===0)return Kg([],n);var o=new Js(RY(s,n,a?function(u){return CY(a,u)}:Wg));return r?o.pipe(AY(r)):o}function RY(t,e,n){return n===void 0&&(n=Wg),function(r){ZM(e,function(){for(var i=t.length,s=new Array(i),a=i,o=i,u=function(h){ZM(e,function(){var d=Kg(t[h],e),m=!1;d.subscribe(Cl(r,function(O){s[h]=O,m||(m=!0,o--),o||r.next(n(s.slice()))},function(){--a||r.complete()}))},r)},f=0;f<i;f++)u(f)},r)}}function ZM(t,e,n){t?Nu(n,t,e):e()}function $Y(t,e,n,r,i,s,a,o){var u=[],f=0,h=0,d=!1,m=function(){d&&!u.length&&!f&&e.complete()},O=function(v){return f<r?y(v):u.push(v)},y=function(v){f++;var w=!1;jl(n(v,h++)).subscribe(Cl(e,function(k){e.next(k)},function(){w=!0},void 0,function(){if(w)try{f--;for(var k=function(){var T=u.shift();a||y(T)};u.length&&f<r;)k();m()}catch(T){e.error(T)}}))};return t.subscribe(Cl(e,O,function(){d=!0,m()})),function(){}}function Pl(t,e,n){return n===void 0&&(n=1/0),Br(e)?Pl(function(r,i){return kr(function(s,a){return e(r,s,i,a)})(jl(t(r,i)))},n):(typeof e=="number"&&(n=e),qo(function(r,i){return $Y(r,i,t,n)}))}function zA(t){return t===void 0&&(t=1/0),Pl(Wg,t)}function MY(){return zA(1)}var IY=NA(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ga=(function(t){Of(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new UM(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new IY},e.prototype.next=function(n){var r=this;kb(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=yd(r.currentObservers),o=a.next();!o.done;o=a.next()){var u=o.value;u.next(n)}}catch(f){i={error:f}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;kb(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;kb(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?k3:(this.currentObservers=null,o.push(n),new _w(function(){r.currentObservers=null,OT(o,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,a=r.isStopped;i?n.error(s):a&&n.complete()},e.prototype.asObservable=function(){var n=new Js;return n.source=this,n},e.create=function(n,r){return new UM(n,r)},e})(Js),UM=(function(t){Of(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:k3},e})(ga);function qM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return MY()(Kg(t,Gg(t)))}var DY=new Js(function(t){return t.complete()});function eg(t,e){return e===void 0&&(e=Wg),t=t??QY,qo(function(n,r){var i,s=!0;n.subscribe(Cl(r,function(a){var o=e(a);(s||!t(i,o))&&(s=!1,i=o,r.next(a))}))})}function QY(t,e){return t===e}function En(t,e){return qo(function(n,r){var i=0;n.subscribe(Cl(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}var NY=NA(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function LY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Gg(t),r=N3(t,1/0);return qo(function(i,s){zA(r)(Kg(Uu([i],lf(t)),n)).subscribe(s)})}function jY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return LY.apply(void 0,Uu([],lf(t)))}var Tu=(function(t){Of(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e})(ga),BY=(function(t){Of(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Q3);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,a=r._infiniteTimeWindow,o=r._timestampProvider,u=r._windowTime;i||(s.push(n),!a&&s.push(o.now()+u)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,a=i._buffer,o=a.slice(),u=0;u<o.length&&!n.closed;u+=s?1:2)n.next(o[u]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,a=n._infiniteTimeWindow,o=(a?1:2)*r;if(r<1/0&&o<s.length&&s.splice(0,s.length-o),!a){for(var u=i.now(),f=0,h=1;h<s.length&&s[h]<=u;h+=2)f=h;f&&s.splice(0,f+1)}},e})(ga);function zY(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new ga}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,a=s===void 0?!0:s,o=t.resetOnRefCountZero,u=o===void 0?!0:o;return function(f){var h,d,m,O=0,y=!1,v=!1,w=function(){d?.unsubscribe(),d=void 0},k=function(){w(),h=m=void 0,y=v=!1},T=function(){var A=h;k(),A?.unsubscribe()};return qo(function(A,C){O++,!v&&!y&&w();var I=m=m??n();C.add(function(){O--,O===0&&!v&&!y&&(d=gx(T,u))}),I.subscribe(C),!h&&O>0&&(h=new vd({next:function(Q){return I.next(Q)},error:function(Q){v=!0,w(),d=gx(k,i,Q),I.error(Q)},complete:function(){y=!0,w(),d=gx(k,a),I.complete()}}),jl(A).subscribe(h))})(f)}}function gx(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new vd({next:function(){i.unsubscribe(),t()}});return jl(e.apply(void 0,Uu([],lf(n)))).subscribe(i)}}function Hg(t,e,n){var r,i,s,a,o=!1;return t&&typeof t=="object"?(r=t.bufferSize,a=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,o=s===void 0?!1:s,n=t.scheduler):a=t??1/0,zY({connector:function(){return new BY(a,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Gg(t);return qo(function(r,i){(n?qM(t,r,n):qM(t,r)).subscribe(i)})}function ZY(t,e){return qo(function(n,r){var i=null,s=0,a=!1,o=function(){return a&&!i&&r.complete()};n.subscribe(Cl(r,function(u){i?.unsubscribe();var f=0,h=s++;jl(t(u,h)).subscribe(i=Cl(r,function(d){return r.next(e?e(u,d,h,f++):d)},function(){i=null,o()}))},function(){a=!0,o()}))})}function z3(t){return t.documentData?t.documentData:t.previousDocumentData}function UY(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:An.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}var qY=new Map;function Z3(t){return Hs(qY,t,()=>{for(var e=new Array(t.events.length),n=t.events,r=t.collectionName,i=t.isLocal,s=An.deepFreezeWhenDevMode,a=0;a<n.length;a++){var o=n[a];e[a]={documentId:o.documentId,collectionName:r,isLocal:i,operation:o.operation,documentData:s(o.documentData),previousDocumentData:s(o.previousDocumentData)}}return e})}function Jc(t,e){return new Promise(function(n,r){var i=new vd({next:function(s){n(s),i.unsubscribe()},error:r,complete:function(){r(new NY)}});t.subscribe(i)})}function VY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Gg(t),r=N3(t,1/0),i=t;return i.length?i.length===1?jl(i[0]):zA(r)(Kg(i,n)):DY}var Gh="",Kh=Number.MIN_SAFE_INTEGER;function XY(t,e){var n=e.selector,r=t.indexes?t.indexes.slice(0):[];e.index&&(r=[e.index]);var i=!!e.sort.find(h=>Object.values(h)[0]==="desc"),s=new Set;Object.keys(n).forEach(h=>{var d=Od(t,h);d&&d.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[h],"$eq")&&s.add(h)});var a=e.sort.map(h=>Object.keys(h)[0]),o=a.filter(h=>!s.has(h)).join(","),u=-1,f;if(r.forEach(h=>{var d=!0,m=!0,O=h.map(T=>{var A=n[T],C=A?Object.keys(A):[],I={};if(!A||!C.length){var Q=m?Kh:Gh;I={startKey:Q,endKey:d?Gh:Kh,inclusiveStart:!0,inclusiveEnd:!0}}else C.forEach(N=>{if(ZA.has(N)){var j=A[N],q=GY(N,j);I=Object.assign(I,q)}});return typeof I.startKey>"u"&&(I.startKey=Kh),typeof I.endKey>"u"&&(I.endKey=Gh),typeof I.inclusiveStart>"u"&&(I.inclusiveStart=!0),typeof I.inclusiveEnd>"u"&&(I.inclusiveEnd=!0),m&&!I.inclusiveStart&&(m=!1),d&&!I.inclusiveEnd&&(d=!1),I}),y=O.map(T=>T.startKey),v=O.map(T=>T.endKey),w={index:h,startKeys:y,endKeys:v,inclusiveEnd:d,inclusiveStart:m,sortSatisfiedByIndex:!i&&o===h.filter(T=>!s.has(T)).join(","),selectorSatisfiedByIndex:WY(h,e.selector,y,v)},k=KY(t,e,w);(k>=u||e.index)&&(u=k,f=w)}),!f)throw ht("SNH",{query:e});return f}var ZA=new Set(["$eq","$gt","$gte","$lt","$lte"]),FY=new Set(["$eq","$gt","$gte"]),YY=new Set(["$eq","$lt","$lte"]);function WY(t,e,n,r){var i=Object.entries(e),s=i.find(([N,j])=>{if(!t.includes(N))return!0;var q=Object.entries(j).find(([oe,we])=>!ZA.has(oe));return q});if(s||e.$and||e.$or)return!1;var a=[],o=new Set;for(var[u,f]of Object.entries(e)){if(!t.includes(u))return!1;var h=Object.keys(f).filter(N=>FY.has(N));if(h.length>1)return!1;var d=h[0];if(d&&o.add(u),d!=="$eq"){if(a.length>0)return!1;a.push(d)}}var m=[],O=new Set;for(var[y,v]of Object.entries(e)){if(!t.includes(y))return!1;var w=Object.keys(v).filter(N=>YY.has(N));if(w.length>1)return!1;var k=w[0];if(k&&O.add(y),k!=="$eq"){if(m.length>0)return!1;m.push(k)}}var T=0;for(var A of t){for(var C of[o,O]){if(!C.has(A)&&C.size>0)return!1;C.delete(A)}var I=n[T],Q=r[T];if(I!==Q&&o.size>0&&O.size>0)return!1;T++}return!0}function GY(t,e){switch(t){case"$eq":return{startKey:e,endKey:e,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:e,inclusiveEnd:!0};case"$gte":return{startKey:e,inclusiveStart:!0};case"$lt":return{endKey:e,inclusiveEnd:!1};case"$gt":return{startKey:e,inclusiveStart:!1};default:throw new Error("SNH")}}function KY(t,e,n){var r=0,i=h=>{h>0&&(r=r+h)},s=10,a=ux(n.startKeys,h=>h!==Kh&&h!==Gh);i(a*s);var o=ux(n.startKeys,h=>h!==Gh&&h!==Kh);i(o*s);var u=ux(n.startKeys,(h,d)=>h===n.endKeys[d]);i(u*s*1.5);var f=n.sortSatisfiedByIndex?5:0;return i(f),r}class ww extends Error{}const tg=Symbol("missing"),U3=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Sw=t=>{const e=Tb(t);let n=0,r=e.length;for(;r;)n=(n<<5)-n^e.charCodeAt(--r);return n>>>0},Iu=t=>typeof t!="object"&&typeof t!="function"||t===null,q3=t=>Iu(t)||rg(t)||ef(t),V3={undefined:1,null:2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,boolean:9,date:10,regexp:11,function:12},qu=(t,e)=>{t===tg&&(t=void 0),e===tg&&(e=void 0);const[n,r]=[t,e].map(i=>V3[ng(i)]||0);return n!==r?n-r:Lu(t,e)?0:t<e?-1:t>e?1:0};class r_ extends Map{#e=Sw;#n=new Map;#t=e=>{const n=this.#e(e);return[(this.#n.get(n)||[]).find(r=>Lu(r,e)),n]};constructor(){super()}static init(e){const n=new r_;return e&&(n.#e=e),n}clear(){super.clear(),this.#n.clear()}delete(e){if(Iu(e))return super.delete(e);const[n,r]=this.#t(e);return super.delete(n)?(this.#n.set(r,this.#n.get(r).filter(i=>!Lu(i,n))),!0):!1}get(e){if(Iu(e))return super.get(e);const[n,r]=this.#t(e);return super.get(n)}has(e){if(Iu(e))return super.has(e);const[n,r]=this.#t(e);return super.has(n)}set(e,n){if(Iu(e))return super.set(e,n);const[r,i]=this.#t(e);if(super.has(r))super.set(r,n);else{super.set(e,n);const s=this.#n.get(i)||[];s.push(e),this.#n.set(i,s)}return this}get size(){return super.size}}function oi(t,e){if(!t)throw new ww(e)}const HY=Object.keys(V3).reduce((t,e)=>(t["[object "+e[0].toUpperCase()+e.substring(1)+"]"]=e,t),{});function ng(t){const e=Object.prototype.toString.call(t);return e==="[object Object]"?t?.constructor?.name?.toLowerCase()||"object":HY[e]||e.substring(8,e.length-1).toLowerCase()}const Hh=t=>typeof t=="boolean",Ha=t=>typeof t=="string",JY=t=>typeof t=="symbol",Us=t=>!isNaN(t)&&typeof t=="number",yn=Array.isArray;function es(t){if(!t)return!1;const e=Object.getPrototypeOf(t);return(e===Object.prototype||e===null)&&ng(t)==="object"}const X3=t=>!Iu(t),rg=t=>t instanceof Date,ef=t=>t instanceof RegExp,UA=t=>typeof t=="function",ea=t=>t==null,eW=(t,e=!0)=>!!t||e&&t==="",qA=t=>ea(t)||Ha(t)&&!t||yn(t)&&t.length===0||es(t)&&Object.keys(t).length===0,eO=t=>yn(t)?t:[t],bd=(t,e)=>!!t&&Object.prototype.hasOwnProperty.call(t,e),tW=t=>typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t),ig=(t,e)=>{if(ea(t)||Hh(t)||Us(t)||Ha(t))return t;if(rg(t))return new Date(t);if(ef(t))return new RegExp(t);if(tW(t)){const n=t.constructor;return new n(t)}if(e instanceof Set||(e=new Set),e.has(t))throw U3;e.add(t);try{if(yn(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ig(t[r],e);return n}if(es(t)){const n={};for(const r of Object.keys(t))n[r]=ig(t[r],e);return n}}finally{e.delete(t)}return t},VM=t=>t===tg;function yT(t,e){if(VM(t)||ea(t))return e;if(VM(e)||ea(e))return t;if(Iu(t)||Iu(e))return e;yn(t)&&yn(e)&&oi(t.length===e.length,"arrays must be of equal length to merge.");for(const n of Object.keys(e))t[n]=yT(t[n],e[n]);return t}function nW(t,e=Sw){const n=[r_.init(e),r_.init(e)];if(t.length===0)return[];if(t.some(r=>r.length===0))return[];if(t.length===1)return[...t];t[t.length-1].forEach(r=>n[0].set(r,!0));for(let r=t.length-2;r>-1;r--){if(t[r].forEach(i=>{n[0].has(i)&&n[1].set(i,!0)}),n[1].size===0)return[];n.reverse(),n[1].clear()}return Array.from(n[0].keys())}function F3(t,e=1){const n=new Array;function r(i,s){for(let a=0,o=i.length;a<o;a++)yn(i[a])&&(s>0||s<0)?r(i[a],Math.max(-1,s-1)):n.push(i[a])}return r(t,e),n}function rW(t){const e={};for(;t;){for(const n of Object.getOwnPropertyNames(t))n in e||(e[n]=t[n]);t=Object.getPrototypeOf(t)}return e}function Y3(t){for(;t;){if(Object.getOwnPropertyNames(t).includes("toString"))return t.toString!==Object.prototype.toString;t=Object.getPrototypeOf(t)}return!1}function Lu(t,e){if(t===e||Object.is(t,e))return!0;if(t===null||e===null||typeof t!=typeof e||typeof t!="object"||t.constructor!==e.constructor)return!1;if(t instanceof Date)return+t==+e;if(t instanceof RegExp)return t.toString()===e.toString();const n=t.constructor;if(n===Array||n===Object){const r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return!1;for(let s=0,a=r[s];s<r.length;a=r[++s])if(a!==i[s]||!Lu(t[a],e[a]))return!1;return!0}return Y3(t)&&t.toString()===e.toString()}const Tb=(t,e)=>{if(t===null)return"null";if(t===void 0)return"undefined";if(Ha(t)||Us(t)||Hh(t))return JSON.stringify(t);if(rg(t))return t.toISOString();if(ef(t)||JY(t)||UA(t))return t.toString();if(e instanceof Set||(e=new Set),e.has(t))throw U3;try{if(e.add(t),yn(t))return"["+t.map(r=>Tb(r,e)).join(",")+"]";if(es(t))return"{"+Object.keys(t).sort().map(i=>`${i}:${Tb(t[i],e)}`).join()+"}";const n=Y3(t)?t.toString():Tb(rW(t),e);return ng(t)+"("+n+")"}finally{e.delete(t)}};function iW(t,e){return ea(t)?null:(e=e||Sw,e(t))}function sW(t,e,n=Sw){if(t.length<1)return new Map;const r=new Map,i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=e(a,s),u=iW(o,n);if(u===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const f=r.has(u)?r.get(u).find(h=>Lu(h,o)):null;ea(f)?(i.set(o,[a]),r.has(u)?r.get(u).push(o):r.set(u,[o])):i.get(f).push(a)}}return i}function vT(t,e){return X3(t)?t[e]:void 0}function aW(t,e){if(e<1)return t;for(;e--&&t.length===1;)t=t[0];return t}function uf(t,e,n){let r=0;function i(a,o){let u=a;for(let f=0;f<o.length;f++){const h=o[f];if(/^\d+$/.exec(h)===null&&yn(u)){if(f===0&&r>0)break;r+=1;const m=o.slice(f);u=u.reduce((O,y)=>{const v=i(y,m);return v!==void 0&&O.push(v),O},[]);break}else u=vT(u,h);if(u===void 0)break}return u}const s=q3(t)?t:i(t,e.split("."));return yn(s)&&n?.unwrapArray?aW(s,r):s}function Am(t,e,n){const r=e.indexOf("."),i=r==-1?e:e.substring(0,r),s=e.substring(r+1),a=r!=-1;if(yn(t)){const f=/^\d+$/.test(i),h=f&&n?.preserveIndex?[...t]:[];if(f){const d=parseInt(i);let m=vT(t,d);a&&(m=Am(m,s,n)),n?.preserveIndex?h[d]=m:h.push(m)}else for(const d of t){const m=Am(d,e,n);n?.preserveMissing?h.push(m??tg):(m!=null||n?.preserveIndex)&&h.push(m)}return h}const o=n?.preserveKeys?{...t}:{};let u=vT(t,i);if(a&&(u=Am(u,s,n)),u!==void 0)return o[i]=u,o}function bT(t){if(yn(t))for(let e=t.length-1;e>=0;e--)t[e]===tg?t.splice(e,1):bT(t[e]);else if(es(t))for(const e in t)bd(t,e)&&bT(t[e])}const XM=/^\d+$/;function i_(t,e,n,r){const i=e.split("."),s=i[0],a=i.slice(1).join(".");if(i.length===1)(es(t)||yn(t)&&XM.test(s))&&n(t,s);else{r?.buildGraph&&ea(t[s])&&(t[s]={});const o=t[s];if(!o)return;const u=!!(i.length>1&&XM.test(i[1]));yn(o)&&r?.descendArray&&!u?o.forEach(f=>i_(f,a,n,r)):i_(o,a,n,r)}}function oW(t,e,n){i_(t,e,(r,i)=>{r[i]=UA(n)?n(r[i]):n},{buildGraph:!0})}function FM(t,e,n){i_(t,e,(r,i)=>{if(yn(r)){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(const s of r)es(s)&&delete s[i]}else es(r)&&delete r[i]},n)}const lW=/^\$[a-zA-Z0-9_]+$/;function yf(t){return lW.test(t)}function W3(t){if(q3(t))return ef(t)?{$regex:t}:{$eq:t};if(X3(t)){if(!Object.keys(t).some(yf))return{$eq:t};if(bd(t,"$regex")){const e={...t};return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}var _T=(t=>(t[t.CLONE_OFF=0]="CLONE_OFF",t[t.CLONE_INPUT=1]="CLONE_INPUT",t[t.CLONE_OUTPUT=2]="CLONE_OUTPUT",t[t.CLONE_ALL=3]="CLONE_ALL",t))(_T||{});class tf{#e;#n;#t;constructor(e,n,r){this.#e=e,this.update(n,r)}static init(e,n,r){return e instanceof tf?new tf(e.#e,e.root??n,{...e.#t,...r,variables:Object.assign({},e.#t?.variables,r?.variables)}):new tf(e,n,r)}update(e,n){this.#n=e;const r=Object.assign({},this.#t?.variables,n?.variables);return Object.keys(r).length?this.#t={...n,variables:r}:this.#t=n??{},this}getOptions(){return Object.freeze({...this.#e,context:s_.from(this.#e.context)})}get root(){return this.#n}get local(){return this.#t}get idKey(){return this.#e.idKey}get collation(){return this.#e?.collation}get processingMode(){return this.#e?.processingMode||0}get useStrictMode(){return this.#e?.useStrictMode}get scriptEnabled(){return this.#e?.scriptEnabled}get useGlobalContext(){return this.#e?.useGlobalContext}get hashFunction(){return this.#e?.hashFunction}get collectionResolver(){return this.#e?.collectionResolver}get jsonSchemaValidator(){return this.#e?.jsonSchemaValidator}get variables(){return this.#e?.variables}get context(){return this.#e?.context}}function uW(t){return t instanceof tf?t.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0,...t,context:t?.context?s_.from(t?.context):s_.init()})}let s_=class wT{#e=new Map;constructor(){}static init(){return new wT}static from(e){const n=wT.init();return ea(e)||e.#e.forEach((r,i)=>n.addOperators(i,r)),n}addOperators(e,n){this.#e.has(e)||this.#e.set(e,{});for(const[r,i]of Object.entries(n))this.getOperator(e,r)||(this.#e.get(e)[r]=i);return this}getOperator(e,n){return(this.#e.get(e)??{})[n]??null}addAccumulatorOps(e){return this.addOperators("accumulator",e)}addExpressionOps(e){return this.addOperators("expression",e)}addQueryOps(e){return this.addOperators("query",e)}addPipelineOps(e){return this.addOperators("pipeline",e)}addProjectionOps(e){return this.addOperators("projection",e)}addWindowOps(e){return this.addOperators("window",e)}};const Dc=s_.init();function YM(t,e){for(const[n,r]of Object.entries(e)){oi(UA(r)&&yf(n),`'${n}' is not a valid operator`);const i=sg(t,n,null);oi(!i||r===i,`${n} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":Dc.addAccumulatorOps(e);break;case"expression":Dc.addExpressionOps(e);break;case"pipeline":Dc.addPipelineOps(e);break;case"projection":Dc.addProjectionOps(e);break;case"query":Dc.addQueryOps(e);break;case"window":Dc.addWindowOps(e);break}}function sg(t,e,n){const{context:r,useGlobalContext:i}=n||{},s=r?r.getOperator(t,e):null;return!s&&i?Dc.getOperator(t,e):s}function Ah(t,e,n,r){const i=tf.init(r,t);return n&&yf(n)?G3(t,e,n,i):a_(t,e,i)}const cW=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function a_(t,e,n){if(Ha(e)&&e.length>0&&e[0]==="$"){if(fW.includes(e))return e;let r=n.root;const i=e.split(".");if(cW.includes(i[0])){switch(i[0]){case"$$ROOT":break;case"$$CURRENT":r=t;break;case"$$REMOVE":r=void 0;break;case"$$NOW":r=new Date;break}e=e.slice(i[0].length+1)}else if(i[0].slice(0,2)==="$$"){r=Object.assign({},n.variables,{this:t},n?.local?.variables);const s=i[0].slice(2);oi(bd(r,s),`Use of undefined variable: ${s}`),e=e.slice(2)}else e=e.slice(1);return e===""?r:uf(r,e)}if(yn(e))return e.map(r=>a_(t,r,n));if(es(e)){const r={},i=Object.entries(e);for(const[s,a]of i){if(yf(s))return oi(i.length==1,"expression must have single operator."),G3(t,a,s,n);r[s]=a_(t,a,n)}return r}return e}function G3(t,e,n,r){const i=sg("expression",n,r);if(i)return i(t,e,r);const s=sg("accumulator",n,r);return oi(!!s,`accumulator '${n}' is not registered.`),yn(t)||(t=a_(t,e,r),e=null),oi(yn(t),`arguments must resolve to array for ${n}.`),s(t,e,r)}const fW=["$$KEEP","$$PRUNE","$$DESCEND"];function ag(t){return t instanceof WM?t:new WM(t)}function hW(...t){let e=0;return ag(()=>{for(;e<t.length;){const n=t[e].next();if(!n.done)return n;e++}return{done:!0}})}function dW(t){return!!t&&typeof t=="object"&&t?.next instanceof Function}function pW(t,e){const n=t.slice(e+1);t.splice(e),Array.prototype.push.apply(t,n)}const ST=new Error;function mW(t,e,n){let r=!1,i=-1,s=0;return function(a){try{e:for(;!r;){let o=t();i++;let u=-1;const f=e.length;let h=!1;for(;++u<f;){const d=e[u];switch(d.action){case 0:o=d.func(o,i);break;case 1:if(!d.func(o,i))continue e;break;case 2:--d.count,d.count||(h=!0);break;case 3:--d.count,d.count||pW(e,u);continue e;default:break e}}if(r=h,a)n[s++]=o;else return{value:o,done:!1}}}catch(o){if(o!==ST)throw o}return r=!0,{done:r}}}let WM=class{constructor(e){this.#e=[],this.#n=[],this.isDone=!1;let n;if(e instanceof Function&&(e={next:e}),dW(e)){const r=e;n=()=>{const i=r.next();if(i.done)throw ST;return i.value}}else if(yn(e)){const r=e,i=r.length;let s=0;n=()=>{if(s<i)return r[s++];throw ST}}else if(!(e instanceof Function))throw new ww("Lazy must be initialized with an array, generator, or function.");this.#t=mW(n,this.#e,this.#n)}#e;#n;#t;push(e,n){return typeof n=="function"?this.#e.push({action:e,func:n}):typeof n=="number"&&this.#e.push({action:e,count:n}),this}next(){return this.#t()}map(e){return this.push(0,e)}filter(e){return this.push(1,e)}take(e){return e>0?this.push(2,e):this}drop(e){return e>0?this.push(3,e):this}transform(e){const n=this;let r;return ag(()=>(r||(r=ag(e(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.#t(!0).done),this.#n}each(e){for(;;){const n=this.next();if(n.done)break;if(e(n.value)===!1)return!1}return!0}reduce(e,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=e(n,r.value),r=this.next();return n}size(){return this.reduce((e,n)=>++e,0)}[Symbol.iterator](){return this}};const gW=(t,e,n)=>t.take(e),K3=(t,e,n)=>qA(e)?t:(J3(e,n),t.map(H3(e,tf.init(n))));function H3(t,e,n=!0){const r=e.idKey,i=Object.keys(t),s=new Array,a=new Array,o={};for(const O of i){const y=t[O];if(Us(y)||Hh(y))y?a.push(O):s.push(O);else if(yn(y))o[O]=v=>y.map(w=>Ah(v,w,null,e.update(v))??null);else if(es(y)){const v=Object.keys(y),w=v.length==1?v[0]:"",k=sg("projection",w,e);k?w==="$slice"&&!eO(y[w]).every(Us)?o[O]=A=>Ah(A,y,O,e.update(A)):o[O]=A=>k(A,y[w],O,e.update(A)):yf(w)?o[O]=T=>Ah(T,y[w],w,e):(J3(y,e),o[O]=T=>{if(!bd(T,O))return Ah(T,y,null,e);n&&e.update(T);const A=uf(T,O),C=H3(y,e,!1);return yn(A)?A.map(C):es(A)?C(A):C(T)})}else o[O]=Ha(y)&&y[0]==="$"?v=>Ah(v,y,O,e):v=>y}const u=Object.keys(o),f=s.includes(r);if(n&&f&&s.length===1&&!a.length&&!u.length)return O=>{const y={...O};return delete y[r],y};const d=n&&!f&&!a.includes(r),m={preserveMissing:!0};return O=>{const y={};if(s.length&&!a.length){yT(y,O);for(const v of s)FM(y,v,{descendArray:!0})}for(const v of a){const w=Am(O,v,m)??{};yT(y,w)}a.length&&bT(y);for(const v of u){const w=o[v](O);w===void 0?FM(y,v,{descendArray:!0}):oW(y,v,w)}return d&&bd(O,r)&&(y[r]=uf(O,r)),y}}function J3(t,e){let n=!1,r=!1;for(const[i,s]of Object.entries(t))oi(!i.startsWith("$"),"Field names may not start with '$'."),oi(!i.endsWith(".$"),"Positional projection operator '$' is not supported."),i!==e?.idKey&&(s===0||s===!1?n=!0:(s===1||s===!0)&&(r=!0),oi(!(n&&r),"Projection cannot have a mix of inclusion and exclusion."))}const OW=(t,e,n)=>t.drop(e),e5=(t,e,n)=>{if(qA(e)||!es(e))return t;let r=qu;const i=n.collation;return es(i)&&Ha(i.locale)&&(r=vW(i)),t.transform(s=>{const a=Object.keys(e);for(const o of a.reverse()){const u=sW(s,d=>uf(d,o),n.hashFunction),f=Array.from(u.keys()).sort(r);e[o]===-1&&f.reverse();let h=0;for(const d of f)for(const m of u.get(d))s[h++]=m;oi(h==s.length,"bug: counter must match collection size.")}return s})},yW={1:"base",2:"accent",3:"variant"};function vW(t){const e={sensitivity:yW[t.strength||3],caseFirst:t.caseFirst==="off"?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:t.alternate==="shifted"};(t.caseLevel||!1)===!0&&(e.sensitivity==="base"&&(e.sensitivity="case"),e.sensitivity==="accent"&&(e.sensitivity="variant"));const n=new Intl.Collator(t.locale,e);return(r,i)=>{if(!Ha(r)||!Ha(i))return qu(r,i);const s=n.compare(r,i);return s<0?-1:s>0?1:0}}const bW={$sort:e5,$skip:OW,$limit:gW};class _W{#e;#n;#t;#i;#a={};#r=null;#s=[];constructor(e,n,r,i){this.#e=e,this.#n=n,this.#t=r,this.#i=i}fetch(){if(this.#r)return this.#r;this.#r=ag(this.#e).filter(this.#n);const e=this.#i.processingMode;e&_T.CLONE_INPUT&&this.#r.map(ig);for(const n of["$sort","$skip","$limit"])bd(this.#a,n)&&(this.#r=bW[n](this.#r,this.#a[n],this.#i));return Object.keys(this.#t).length&&(this.#r=K3(this.#r,this.#t,this.#i)),e&_T.CLONE_OUTPUT&&this.#r.map(ig),this.#r}fetchAll(){const e=ag([...this.#s]);return this.#s=[],hW(e,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(e){return this.#a.$skip=e,this}limit(e){return this.#a.$limit=e,this}sort(e){return this.#a.$sort=e,this}collation(e){return this.#i={...this.#i,collation:e},this}next(){if(this.#s.length>0)return this.#s.pop();const e=this.fetch().next();if(!e.done)return e.value}hasNext(){if(this.#s.length>0)return!0;const e=this.fetch().next();return e.done?!1:(this.#s.push(e.value),!0)}map(e){return this.all().map(e)}forEach(e){this.all().forEach(e)}[Symbol.iterator](){return this.fetchAll()}}const wW=new Set(Array.from(["$and","$or","$nor","$expr","$jsonSchema"]));class tO{#e;#n;#t;constructor(e,n){this.#t=ig(e),this.#n=uW(n),this.#e=[],this.compile()}compile(){oi(es(this.#t),`query criteria must be an object: ${JSON.stringify(this.#t)}`);const e={};for(const[n,r]of Object.entries(this.#t)){if(n==="$where")oi(this.#n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(e,{field:n,expr:r});else if(wW.has(n))this.processOperator(n,n,r);else{oi(!yf(n),`unknown top level operator: ${n}`);for(const[i,s]of Object.entries(W3(r)))this.processOperator(n,i,s)}e.field&&this.processOperator(e.field,e.field,e.expr)}}processOperator(e,n,r){const i=sg("query",n,this.#n);oi(!!i,`unknown query operator ${n}`),this.#e.push(i(e,r,this.#n))}test(e){return this.#e.every(n=>n(e))}find(e,n){return new _W(e,r=>this.test(r),n||{},this.#n)}remove(e){return e.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}}const SW=["monday","mon","tuesday","tue","wednesday","wed","thursday","thu","friday","fri","saturday","sat","sunday","sun"];new Set(SW);function na(t){return(n,r,i)=>{const s={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return o=>{const u=uf(o,n,s);return t(u,r,{...i,depth:a})}}}function t5(t,e,n){return Lu(t,e)||ea(t)&&ea(e)?!0:yn(t)?t.some(r=>Lu(r,e))||F3(t,n?.depth).some(r=>Lu(r,e)):!1}function xW(t,e,n){return!t5(t,e,n)}function n5(t,e,n){return ea(t)?e.some(r=>r===null):nW([eO(t),e],n?.hashFunction).length>0}function kW(t,e,n){return!n5(t,e,n)}function TW(t,e,n){return xw(t,e,(r,i)=>qu(r,i)<0)}function EW(t,e,n){return xw(t,e,(r,i)=>qu(r,i)<=0)}function AW(t,e,n){return xw(t,e,(r,i)=>qu(r,i)>0)}function CW(t,e,n){return xw(t,e,(r,i)=>qu(r,i)>=0)}function PW(t,e,n){return eO(t).some(r=>e.length===2&&r%e[0]===e[1])}function RW(t,e,n){const r=eO(t),i=s=>Ha(s)&&eW(e.exec(s),n?.useStrictMode);return r.some(i)||F3(r,1).some(i)}function $W(t,e,n){return Array.isArray(t)&&t.length===e}function MW(t){return yf(t)&&["$and","$or","$nor"].indexOf(t)===-1}function IW(t,e,n){if(yn(t)&&!qA(t)){let r=a=>a,i=e;Object.keys(e).every(MW)&&(i={temp:e},r=a=>({temp:a}));const s=new tO(i,n);for(let a=0,o=t.length;a<o;a++)if(s.test(r(t[a])))return!0}return!1}const GM=t=>t===null,DW={array:yn,boolean:Hh,bool:Hh,date:rg,number:Us,int:Us,long:Us,double:Us,decimal:Us,null:GM,object:es,regexp:ef,regex:ef,string:Ha,undefined:ea,function:t=>{throw new ww("unsupported type key `function`.")},1:Us,2:Ha,3:es,4:yn,6:ea,8:Hh,9:rg,10:GM,11:ef,16:Us,18:Us,19:Us};function KM(t,e,n){const r=DW[e];return r?r(t):!1}function QW(t,e,n){return yn(e)?e.findIndex(r=>KM(t,r))>=0:KM(t,e)}function xw(t,e,n){return eO(t).some(r=>ng(r)===ng(e)&&n(r,e))}const HM=(t,e)=>{const n={};return t.split("").forEach((r,i)=>n[r]=e*(i+1)),n};({...HM("ABCDEFGHIKLM",1),...HM("NOPQRSTUVWXY",-1)});const JM={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function ra(t,e=JM){const n=Object.assign({},JM,e),r=new Set(Object.keys(n));return(i,s,a)=>{const o=Ah(i,s,null,a);if(r.has(`${o}`)){const u=n[`${o}`];if(u instanceof Error)throw new ww(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return u}return t(o)}}ra(Math.acos,{Infinity:1/0,0:new Error});ra(Math.acosh,{Infinity:1/0,0:new Error});ra(Math.asin);ra(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});ra(Math.atan);ra(Math.atanh,{1:1/0,"-1":-1/0});ra(Math.cos);ra(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const NW=Math.PI/180;ra(t=>t*NW,{Infinity:1/0,"-Infinity":1/0});const LW=180/Math.PI;ra(t=>t*LW,{Infinity:1/0,"-Infinity":-1/0});ra(Math.sin);ra(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});ra(Math.tan);const jW=(t,e,n)=>{oi(yn(e),"Invalid expression: $and expects value to be an Array.");const r=e.map(i=>new tO(i,n));return i=>r.every(s=>s.test(i))},r5=(t,e,n)=>{oi(yn(e),"Invalid expression. $or expects value to be an Array");const r=e.map(i=>new tO(i,n));return i=>r.some(s=>s.test(i))},BW=(t,e,n)=>{oi(yn(e),"Invalid expression. $nor expects value to be an array.");const r=r5("$or",e,n);return i=>!r(i)},zW=(t,e,n)=>{const r={};r[t]=W3(e);const i=new tO(r,n);return s=>!i.test(s)},ZW=na(t5),UW=na(AW),qW=na(CW),VW=na(n5),XW=na(TW),FW=na(EW),YW=na(xW),WW=na(kW),GW=na(PW),KW=na(RW),HW=na(IW),JW=na($W),eG=(t,e,n)=>{const r=t.includes("."),i=!!e;return!r||t.match(/\.\d+$/)?s=>uf(s,t)!==void 0===i:s=>{const a=Am(s,t,{preserveIndex:!0}),o=uf(a,t.substring(0,t.lastIndexOf(".")));return yn(o)?o.some(u=>u!==void 0)===i:o!==void 0===i}},tG=na(QW);var eI=!1;function nG(t){return eI||(YM("pipeline",{$sort:e5,$project:K3}),YM("query",{$and:jW,$eq:ZW,$elemMatch:HW,$exists:eG,$gt:UW,$gte:qW,$in:VW,$lt:XW,$lte:FW,$ne:YW,$nin:WW,$mod:GW,$nor:BW,$not:zW,$or:r5,$regex:KW,$size:JW,$type:tG}),eI=!0),new tO(t)}function Jh(t,e){var n=xs(t.primaryKey);e=Yn(e);var r=Ks(e);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([d,m])=>{(typeof m!="object"||m===null)&&(r.selector[d]={$eq:m})})):r.selector={},r.index){var i=$A(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var h=r.sort.find(d=>pF(d)===n);h||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(d=>({[d]:"asc"}));else{if(t.indexes){var s=new Set;Object.entries(r.selector).forEach(([d,m])=>{var O=!1;typeof m=="object"&&m!==null?O=!!Object.keys(m).find(y=>ZA.has(y)):O=!0,O&&s.add(d)});var a=-1,o;t.indexes.forEach(d=>{var m=Jb(d)?d:[d],O=m.findIndex(y=>!s.has(y));O>0&&O>a&&(a=O,o=m)}),o&&(r.sort=o.map(d=>({[d]:"asc"})))}if(!r.sort)if(t.indexes&&t.indexes.length>0){var u=t.indexes[0],f=Jb(u)?u:[u];r.sort=f.map(d=>({[d]:"asc"}))}else r.sort=[{[n]:"asc"}]}return r}function i5(t,e){if(!e.sort)throw ht("SNH",{query:e});var n=[];e.sort.forEach(i=>{var s=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:s,direction:a,getValueFn:dF(s)})});var r=(i,s)=>{for(var a=0;a<n.length;++a){var o=n[a],u=o.getValueFn(i),f=o.getValueFn(s);if(u!==f){var h=o.direction==="asc"?qu(u,f):qu(f,u);return h}}};return r}function VA(t,e){if(!e.sort)throw ht("SNH",{query:e});var n=nG(e.selector),r=i=>n.test(i);return r}async function im(t,e){var n=await t.exec();if(!n)return null;if(Array.isArray(n))return Promise.all(n.map(i=>e(i)));if(n instanceof Map)return Promise.all([...n.values()].map(i=>e(i)));var r=await e(n);return r}function kw(t,e){if(!e.sort)throw ht("SNH",{query:e});var n=XY(t,e);return{query:e,queryPlan:n}}var rG="_rxdb_internal";async function nO(t,e){var n=await t.findDocumentsById([e],!1),r=n[0];if(r)return r}async function og(t,e,n){var r=await t.bulkWrite([e],n);if(r.error.length>0){var i=r.error[0];throw i}else{var s=xs(t.schema.primaryKey),a=ka(s,[e],r),o=a[0];return o}}function iG(t,e){var n=nO(t,e),r=t.changeStream().pipe(kr(i=>i.events.find(s=>s.documentId===e)),En(i=>!!i),kr(i=>Promise.resolve(zt(i).documentData)),Jg(n),ZY(i=>i),En(i=>!!i));return r}function lg(t){return Object.assign({},...t.filter(e=>!!e))}function o_(t,e,n,r){if(r)throw r.status===409?ht("CONFLICT",{collection:t.name,id:e,writeError:r,data:n}):r.status===422?ht("VD2",{collection:t.name,id:e,writeError:r,data:n}):r}function sG(t,e,n,r,i,s,a){for(var o=!!t.schema.attachments,u=[],f=[],h=[],d=Xg(10),m={id:d,events:[],checkpoint:null,context:i},O=m.events,y=[],v=[],w=[],k=n.size>0,T,A=r.length,C=function(){var Q=r[I],N=Q.document,j=Q.previous,q=N[e],oe=N._deleted,we=j&&j._deleted,K=void 0;k&&(K=n.get(q));var Ae;if(K){var G=K._rev;if(!j||j&&G!==j._rev){var ye={isError:!0,status:409,documentId:q,writeRow:Q,documentInDb:K};return h.push(ye),1}var Se=o?Ox(Q):Q;o&&(oe?j&&Object.keys(j._attachments).forEach(ge=>{v.push({documentId:q,attachmentId:ge,digest:zt(j)._attachments[ge].digest})}):(Object.entries(N._attachments).find(([ge,Pe])=>{var De=j?j._attachments[ge]:void 0;return!De&&!Pe.data&&(Ae={documentId:q,documentInDb:K,isError:!0,status:510,writeRow:Q,attachmentId:ge}),!0}),Ae||Object.entries(N._attachments).forEach(([ge,Pe])=>{var De=j?j._attachments[ge]:void 0;if(!De)y.push({documentId:q,attachmentId:ge,attachmentData:Pe,digest:Pe.digest});else{var tt=Se.document._attachments[ge].digest;Pe.data&&De.digest!==tt&&w.push({documentId:q,attachmentId:ge,attachmentData:Pe,digest:Pe.digest})}}))),Ae?h.push(Ae):(o?f.push(Ox(Se)):f.push(Se),T=Se);var Te=null,he=null,z=null;if(we&&!oe)z="INSERT",Te=o?Mo(N):N;else if(j&&!we&&!oe)z="UPDATE",Te=o?Mo(N):N,he=j;else if(oe)z="DELETE",Te=zt(N),he=j;else throw ht("SNH",{args:{writeRow:Q}});var ne={documentId:q,documentData:Te,previousDocumentData:he,operation:z};O.push(ne)}else{var Ee=!!oe;if(o&&Object.entries(N._attachments).forEach(([ge,Pe])=>{Pe.data?y.push({documentId:q,attachmentId:ge,attachmentData:Pe,digest:Pe.digest}):(Ae={documentId:q,isError:!0,status:510,writeRow:Q,attachmentId:ge},h.push(Ae))}),Ae||(o?u.push(Ox(Q)):u.push(Q),T=Q),!Ee){var Be={documentId:q,operation:"INSERT",documentData:o?Mo(N):N,previousDocumentData:o&&j?Mo(j):j};O.push(Be)}}},I=0;I<A;I++)C();return{bulkInsertDocs:u,bulkUpdateDocs:f,newestRow:T,errors:h,eventBulk:m,attachmentsAdd:y,attachmentsRemove:v,attachmentsUpdate:w}}function Ox(t){return{previous:t.previous,document:Mo(t.document)}}function aG(t){return atob(t).length}function oG(t){var e=t.data;if(!e)return t;var n={length:aG(e),digest:t.digest,type:t.type};return n}function Mo(t){if(!t._attachments||Object.keys(t._attachments).length===0)return t;var e=Yn(t);return e._attachments={},Object.entries(t._attachments).forEach(([n,r])=>{e._attachments[n]=oG(r)}),e}function rO(t){return Object.assign({},t,{_meta:Yn(t._meta)})}function XA(t,e,n){An.deepFreezeWhenDevMode(n);var r=xs(e.schema.primaryKey),i={originalStorageInstance:e,schema:e.schema,internals:e.internals,collectionName:e.collectionName,databaseName:e.databaseName,options:e.options,async bulkWrite(s,a){for(var o=t.token,u=new Array(s.length),f=ta(),h=0;h<s.length;h++){var d=s[h],m=rO(d.document);m._meta.lwt=f;var O=d.previous;m._rev=El(o,O),u[h]={document:m,previous:O}}Ss("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:u});var y=await t.lockedRun(()=>e.bulkWrite(u,a)),v={error:[]};a5.set(v,u);var w=y.error.length===0?[]:y.error.filter(Q=>Q.status===409&&!Q.writeRow.previous&&!Q.writeRow.document._deleted&&zt(Q.documentInDb)._deleted?!0:(v.error.push(Q),!1));if(w.length>0){var k=new Set,T=w.map(Q=>(k.add(Q.documentId),{previous:Q.documentInDb,document:Object.assign({},Q.writeRow.document,{_rev:El(t.token,Q.documentInDb)})})),A=await t.lockedRun(()=>e.bulkWrite(T,a));of(v.error,A.error);var C=ka(r,u,v,k),I=ka(r,T,A);return of(C,I),v}return v},query(s){return t.lockedRun(()=>e.query(s))},count(s){return t.lockedRun(()=>e.count(s))},findDocumentsById(s,a){return t.lockedRun(()=>e.findDocumentsById(s,a))},getAttachmentData(s,a,o){return t.lockedRun(()=>e.getAttachmentData(s,a,o))},getChangedDocumentsSince:e.getChangedDocumentsSince?(s,a)=>t.lockedRun(()=>e.getChangedDocumentsSince(zt(s),a)):void 0,cleanup(s){return t.lockedRun(()=>e.cleanup(s))},remove(){return t.storageInstances.delete(i),t.lockedRun(()=>e.remove())},close(){return t.storageInstances.delete(i),t.lockedRun(()=>e.close())},changeStream(){return e.changeStream()}};return t.storageInstances.add(i),i}function lG(t){if(t.schema.keyCompression)throw ht("UT5",{args:{params:t}});if(xT(t.schema))throw ht("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw ht("UT7",{args:{params:t}})}function xT(t){return!!(t.encrypted&&t.encrypted.length>0||t.attachments&&t.attachments.encrypted)}function uG(t,e,n){var r=xs(t.schema.primaryKey),i=n?n.lwt:MA,s=n?n.id:"";return Jh(t.schema,{selector:{$or:[{"_meta.lwt":{$gt:i}},{"_meta.lwt":{$eq:i},[r]:{$gt:n?s:""}}],"_meta.lwt":{$gte:i}},sort:[{"_meta.lwt":"asc"},{[r]:"asc"}],skip:0,limit:e})}async function s5(t,e,n){if(t.getChangedDocumentsSince)return t.getChangedDocumentsSince(e,n);var r=xs(t.schema.primaryKey),i=kw(t.schema,uG(t,e,n)),s=await t.query(i),a=s.documents,o=cF(a);return{documents:a,checkpoint:o?{id:o[r],lwt:o._meta.lwt}:n||{id:"",lwt:0}}}var a5=new WeakMap,cG=new WeakMap;function ka(t,e,n,r){return Hs(cG,n,()=>{var i=[],s=a5.get(n);if(s||(s=e),n.error.length>0||r){for(var a=r||new Set,o=0;o<n.error.length;o++){var u=n.error[o];a.add(u.documentId)}for(var f=0;f<s.length;f++){var h=s[f].document;a.has(h[t])||i.push(Mo(h))}}else{i.length=e.length-n.error.length;for(var d=0;d<s.length;d++){var m=s[d].document;i[d]=Mo(m)}}return i})}var o5=(function(){function t(n,r,i,s){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=s}var e=t.prototype;return e.addWrite=function(r,i){var s=r[this.primaryPath],a=Hs(this.queueByDocId,s,()=>[]),o=new Promise((u,f)=>{var h={lastKnownDocumentState:r,modifier:i,resolve:u,reject:f};zt(a).push(h),this.triggerRun()});return o},e.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,o])=>{var u=fG(o.map(d=>d.lastKnownDocumentState)),f=u;for(var h of o)try{f=await h.modifier(Ks(f))}catch(d){h.reject(d),h.reject=()=>{},h.resolve=()=>{}}try{await this.preWrite(f,u)}catch(d){o.forEach(m=>m.reject(d));return}r.push({previous:u,document:f})}));var s=r.length>0?await this.storageInstance.bulkWrite(r,"incremental-write"):{error:[]};return await Promise.all(ka(this.primaryPath,r,s).map(a=>{var o=a[this.primaryPath];this.postWrite(a);var u=gd(i,o);u.forEach(f=>f.resolve(a))})),s.error.forEach(a=>{var o=a.documentId,u=gd(i,o),f=Km(a);if(f){var h=Hs(this.queueByDocId,o,()=>[]);u.reverse().forEach(m=>{m.lastKnownDocumentState=zt(f.documentInDb),zt(h).unshift(m)})}else{var d=f3(a);u.forEach(m=>m.reject(d))}}),this.isRunning=!1,this.triggerRun()}},t})();function tI(t){var e=async n=>{var r=mF(n);r._deleted=n._deleted;var i=await t(r),s=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof s._deleted>"u"&&(s._deleted=!1),s};return e}function fG(t){var e=t[0],n=zu(e._rev);return t.forEach(r=>{var i=zu(r._rev);i>n&&(e=r,n=i)}),e}var Tw={get primaryPath(){var t=this;if(t.isInstanceOfRxDocument)return t.collection.schema.primaryPath},get primary(){var t=this;if(t.isInstanceOfRxDocument)return t._data[t.primaryPath]},get revision(){var t=this;if(t.isInstanceOfRxDocument)return t._data._rev},get deleted$(){var t=this;if(t.isInstanceOfRxDocument)return t.$.pipe(kr(e=>e._data._deleted))},get deleted$$(){var t=this,e=t.collection.database.getReactivityFactory();return e.fromObservable(t.deleted$,t.getLatest().deleted,t.collection.database)},get deleted(){var t=this;if(t.isInstanceOfRxDocument)return t._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){var t=this,e=this.primary;return t.collection.eventBulks$.pipe(En(n=>!n.isLocal),kr(n=>n.events.find(r=>r.documentId===e)),En(n=>!!n),kr(n=>z3(zt(n))),Jg(t.collection._docCache.getLatestDocumentData(e)),eg((n,r)=>n._rev===r._rev),kr(n=>this.collection._docCache.getCachedRxDocument(n)),Hg(Fg))},get $$(){var t=this,e=t.collection.database.getReactivityFactory();return e.fromObservable(t.$,t.getLatest()._data,t.collection.database)},get$(t){if(An.isDevMode()){if(t.includes(".item."))throw ht("DOC1",{path:t});if(t===this.primaryPath)throw ht("DOC2");if(this.collection.schema.finalFields.includes(t))throw ht("DOC3",{path:t});var e=Od(this.collection.schema.jsonSchema,t);if(!e)throw ht("DOC4",{path:t})}return this.$.pipe(kr(n=>Zu(n,t)),eg())},get$$(t){var e=this.get$(t),n=this.collection.database.getReactivityFactory();return n.fromObservable(e,this.getLatest().get(t),this.collection.database)},populate(t){var e=Od(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return QA;if(!e)throw ht("DOC5",{path:t});if(!e.ref)throw ht("DOC6",{path:t,schemaObj:e});var r=this.collection.database.collections[e.ref];if(!r)throw ht("DOC7",{ref:e.ref,path:t,schemaObj:e});return e.type==="array"?r.findByIds(n).exec().then(i=>{var s=i.values();return Array.from(s)}):r.findOne(n).exec()},get(t){return c5(this,t)},toJSON(t=!1){if(t)return An.deepFreezeWhenDevMode(this._data);var e=Yn(this._data);return delete e._rev,delete e._attachments,delete e._deleted,delete e._meta,An.deepFreezeWhenDevMode(e)},toMutableJSON(t=!1){return Ks(this.toJSON(t))},update(t){throw Sn("update")},incrementalUpdate(t){throw Sn("update")},updateCRDT(t){throw Sn("crdt")},putAttachment(){throw Sn("attachments")},putAttachmentBase64(){throw Sn("attachments")},getAttachment(){throw Sn("attachments")},allAttachments(){throw Sn("attachments")},get allAttachments$(){throw Sn("attachments")},async modify(t,e){var n=this._data,r=await tI(t)(n);return this._saveData(r,n)},incrementalModify(t,e){return this.collection.incrementalWriteQueue.addWrite(this._data,tI(t)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(t){var e=this._data,n=Ks(e);return Object.entries(t).forEach(([r,i])=>{n[r]=i}),this._saveData(n,e)},incrementalPatch(t){return this.incrementalModify(e=>(Object.entries(t).forEach(([n,r])=>{e[n]=r}),e))},async _saveData(t,e){if(t=Yn(t),this._data._deleted)throw ht("DOC11",{id:this.primary,document:this});await u5(this.collection,t,e);var n=[{previous:e,document:t}],r=await this.collection.storageInstance.bulkWrite(n,"rx-document-save-data"),i=r.error[0];return o_(this.collection,this.primary,t,i),await this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument(ka(this.collection.schema.primaryPath,n,r)[0])},async remove(){if(this.deleted)return Promise.reject(ht("DOC13",{document:this,id:this.primary}));var t=await this.collection.bulkRemove([this]);if(t.error.length>0){var e=t.error[0];o_(this.collection,this.primary,this._data,e)}return t.success[0]},incrementalRemove(){return this.incrementalModify(async t=>(await this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t)).then(async t=>(await this.collection._runHooks("post","remove",t._data,t),t))},close(){throw ht("DOC14")}};function l5(t=Tw){var e=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return e.prototype=t,e}function hG(t,e,n){var r=new t(e,n);return Ss("createRxDocument",r),r}function u5(t,e,n){return e._meta=Object.assign({},n._meta,e._meta),An.isDevMode()&&t.schema.validateChange(n,e),t._runHooks("pre","save",e,n)}function c5(t,e){return Hs(t._propertyCache,e,()=>{var n=Zu(t._data,e);if(typeof n!="object"||n===null||Array.isArray(n))return An.deepFreezeWhenDevMode(n);var r=new Proxy(Yn(n),{get(i,s){if(typeof s!="string")return i[s];var a=s.charAt(s.length-1);if(a==="$")if(s.endsWith("$$")){var o=s.slice(0,-2);return t.get$$(gm(e+"."+o))}else{var u=s.slice(0,-1);return t.get$(gm(e+"."+u))}else if(a==="_"){var f=s.slice(0,-1);return t.populate(gm(e+"."+f))}else{var h=i[s];return typeof h=="number"||typeof h=="string"||typeof h=="boolean"?h:c5(t,gm(e+"."+s))}}});return r})}function FA(t){return t[t.length-1]}function dG(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function nI(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!dG(t)||typeof e!="string")return t;const r=e.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){const s=r[i];if(pG(t,s)?t=i===r.length-1?void 0:null:t=t[s],t==null){if(i!==r.length-1)return n;break}}return t===void 0?n:t}function pG(t,e){if(typeof e!="number"&&Array.isArray(t)){const n=Number.parseInt(e,10);return Number.isInteger(n)&&t[n]===t[e]}return!1}const f5=t=>!!t.queryParams.limit,mG=t=>t.queryParams.limit===1,gG=t=>!!(t.queryParams.skip&&t.queryParams.skip>0),OG=t=>t.changeEvent.operation==="DELETE",yG=t=>t.changeEvent.operation==="INSERT",vG=t=>t.changeEvent.operation==="UPDATE",bG=t=>f5(t)&&t.previousResults.length>=t.queryParams.limit,_G=t=>{const e=t.queryParams.sortFields,n=t.changeEvent.previous,r=t.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let i=0;i<e.length;i++){const s=e[i],a=nI(n,s),o=nI(r,s);if(a!==o)return!0}return!1},wG=t=>{const e=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(e);{const n=t.queryParams.primaryKey,r=t.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e)return!0;return!1}},SG=t=>{const e=t.previousResults[0];return!!(e&&e[t.queryParams.primaryKey]===t.changeEvent.id)},xG=t=>{const e=FA(t.previousResults);return!!(e&&e[t.queryParams.primaryKey]===t.changeEvent.id)},kG=t=>{const e=t.changeEvent.previous;if(!e)return!1;const n=t.previousResults[0];return n?n[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,n)<0:!1},TG=t=>{const e=t.changeEvent.previous;if(!e)return!1;const n=FA(t.previousResults);return n?n[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,n)>0:!1},EG=t=>{const e=t.changeEvent.doc;if(!e)return!1;const n=t.previousResults[0];return n?n[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,n)<0:!1},AG=t=>{const e=t.changeEvent.doc;if(!e)return!1;const n=FA(t.previousResults);return n?n[t.queryParams.primaryKey]===t.changeEvent.id?!0:t.queryParams.sortComparator(e,n)>0:!1},CG=t=>{const e=t.changeEvent.previous;return e?t.queryParams.queryMatcher(e):!1},PG=t=>{const e=t.changeEvent.doc;return e?t.queryParams.queryMatcher(e):!1},RG=t=>t.previousResults.length===0,$G={0:yG,1:vG,2:OG,3:f5,4:mG,5:gG,6:RG,7:bG,8:SG,9:xG,10:_G,11:wG,12:kG,13:TG,14:EG,15:AG,16:CG,17:PG};function MG(t,e,n,r){var i=t.length,s=i-1,a=0;if(i===0)return t.push(e),0;for(var o;r<=s;)a=r+(s-r>>1),o=t[a],n(o,e)<=0?r=a+1:s=a-1;return n(o,e)<=0&&a++,t.splice(a,0,e),a}const IG=t=>{},YA=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},WA=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},GA=t=>{const e=t.previousResults.shift();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},KA=t=>{const e=t.previousResults.pop();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},DG=t=>{GA(t),WA(t)},QG=t=>{KA(t),YA(t)},NG=t=>{GA(t),YA(t)},LG=t=>{KA(t),WA(t)},h5=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);const e=t.queryParams.primaryKey,n=t.previousResults;for(let r=0;r<n.length;r++)if(n[r][e]===t.changeEvent.id){n.splice(r,1);break}},jG=t=>{const e=t.changeEvent.doc,n=t.queryParams.primaryKey,r=t.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t.changeEvent.id){r[i]=e,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,e);break}},BG=t=>{const e={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(e),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(e._id,e))},d5=t=>{const e=t.changeEvent.id,n=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(e))return;t.keyDocumentMap.set(e,n)}else if(t.previousResults.find(i=>i[t.queryParams.primaryKey]===e))return;MG(t.previousResults,n,t.queryParams.sortComparator,0)},zG=t=>{h5(t),d5(t)},ZG=t=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},UG=t=>{throw new Error("Action unknownAction should never be called")},qG=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],VG={doNothing:IG,insertFirst:YA,insertLast:WA,removeFirstItem:GA,removeLastItem:KA,removeFirstInsertLast:DG,removeLastInsertFirst:QG,removeFirstInsertFirst:NG,removeLastInsertLast:LG,removeExisting:h5,replaceExisting:jG,alwaysWrong:BG,insertAtSortPosition:d5,removeExistingAndInsertAtSortPosition:zG,runFullQueryAgain:ZG,unknownAction:UG},XG=40;function yx(t){return t.charCodeAt(0)-XG}function FG(t){return t?"1":"0"}function rI(t,e){const n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(t.substring(r,r+e));return n}function YG(t){const e=new Map,r=2+parseInt(t.charAt(0)+t.charAt(1),10)*2,i=t.substring(2,r),s=rI(i,2);for(let v=0;v<s.length;v++){const w=s[v],k=w.charAt(0),T=yx(w.charAt(1));e.set(k,T)}const a=t.substring(r,t.length-3),o=rI(a,4);for(let v=0;v<o.length;v++){const w=o[v],k=w.charAt(0),T=w.charAt(1),A=w.charAt(2),C=yx(w.charAt(3));if(!e.has(T))throw new Error("missing node with id "+T);if(!e.has(A))throw new Error("missing node with id "+A);const I=e.get(T),Q=e.get(A),N={l:C,0:I,1:Q};e.set(k,N)}const u=t.slice(-3),f=u.charAt(0),h=u.charAt(1),d=yx(u.charAt(2)),m=e.get(f),O=e.get(h);return{l:d,0:m,1:O}}function WG(t,e,n){let r=t,i=t.l;for(;;){const s=e[i](n),a=FG(s);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}const GG="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.";let vx;function KG(){return vx||(vx=YG(GG)),vx}const HG=t=>WG(KG(),$G,t);function JG(t){const e=HG(t);return qG[e]}function eK(t,e,n,r,i){const s=VG[t];return s({queryParams:e,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}function tK(t,e){return!e.sort||e.sort.length===0?[t]:e.sort.map(n=>Object.keys(n)[0])}var nK=new WeakMap;function rK(t){return Hs(nK,t,()=>{var e=t.collection,n=Jh(e.storageInstance.schema,Ks(t.mangoQuery)),r=e.schema.primaryPath,i=i5(e.schema.jsonSchema,n),s=(f,h)=>{var d={docA:f,docB:h};return i(d.docA,d.docB)},a=VA(e.schema.jsonSchema,n),o=f=>{var h={doc:f};return a(h.doc)},u={primaryKey:t.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:tK(r,n),sortComparator:s,queryMatcher:o};return u})}function iK(t,e){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};for(var n=rK(t),r=zt(t._result).docsData.slice(0),i=zt(t._result).docsDataMap,s=!1,a=[],o=0;o<e.length;o++){var u=e[o],f=UY(u);f&&a.push(f)}var h=a.find(d=>{var m={queryParams:n,changeEvent:d,previousResults:r,keyDocumentMap:i},O=JG(m);if(O==="runFullQueryAgain")return!0;if(O!=="doNothing")return s=!0,eK(O,n,d,r,i),!1});return h?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:s,newResults:r}}var sK=(function(){function t(){this._map=new Map}var e=t.prototype;return e.getByQuery=function(r){var i=r.toString(),s=Hs(this._map,i,()=>r);return s},t})();function aK(){return new sK}function iI(t,e){e.uncached=!0;var n=e.toString();t._map.delete(n)}function oK(t){return t.refCount$.observers.length}var lK=100,uK=30*1e3,cK=(t,e)=>(n,r)=>{if(!(r._map.size<t)){var i=ta()-e,s=[],a=Array.from(r._map.values());for(var o of a)if(!(oK(o)>0)){if(o._lastEnsureEqual===0&&o._creationTime<i){iI(r,o);continue}s.push(o)}var u=s.length-t;if(!(u<=0)){var f=s.sort((d,m)=>d._lastEnsureEqual-m._lastEnsureEqual),h=f.slice(0,u);h.forEach(d=>iI(r,d))}}},p5=cK(lK,uK),bx=new WeakSet;function fK(t){bx.has(t)||(bx.add(t),kF().then(()=>CF(200)).then(()=>{t.closed||t.cacheReplacementPolicy(t,t._queryCache),bx.delete(t)}))}var m5=(function(){function t(n,r,i){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(s=>{var a=s.docId,o=this.cacheItemByDocId.get(a);o&&(o[0].delete(s.revisionHeight+s.lwt+""),o[0].size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(s=>{this.tasks.add(()=>{for(var a=this.cacheItemByDocId,o=0;o<s.length;o++){var u=s[o],f=a.get(u.documentId);if(f){var h=u.documentData;h||(h=u.previousDocumentData),f[1]=h}}}),this.tasks.size<=1&&vw().then(()=>{this.processTasks()})})}var e=t.prototype;return e.processTasks=function(){if(this.tasks.size!==0){var r=Array.from(this.tasks);r.forEach(i=>i()),this.tasks.clear()}},e.getLatestDocumentData=function(r){this.processTasks();var i=gd(this.cacheItemByDocId,r);return i[1]},e.getLatestDocumentDataIfExists=function(r){this.processTasks();var i=this.cacheItemByDocId.get(r);if(i)return i[1]},rc(t,[{key:"getCachedRxDocuments",get:function(){var n=sI(this);return wl(this,"getCachedRxDocuments",n)}},{key:"getCachedRxDocument",get:function(){var n=sI(this);return wl(this,"getCachedRxDocument",r=>n([r])[0])}}])})();function sI(t){var e=t.primaryPath,n=t.cacheItemByDocId,r=t.registry,i=An.deepFreezeWhenDevMode,s=t.documentCreator,a=o=>{for(var u=new Array(o.length),f=[],h=0;h<o.length;h++){var d=o[h],m=d[e],O=zu(d._rev),y=void 0,v=void 0,w=n.get(m);w?(y=w[0],v=y.get(O+d._meta.lwt+"")):(y=new Map,w=[y,d],n.set(m,w));var k=v?v.deref():void 0;k||(d=i(d),k=s(d),y.set(O+d._meta.lwt+"",dK(k)),r&&f.push(k)),u[h]=k}return f.length>0&&r&&(t.tasks.add(()=>{for(var T=0;T<f.length;T++){var A=f[T];r.register(A,{docId:A.primary,revisionHeight:zu(A.revision),lwt:A._data._meta.lwt})}}),t.tasks.size<=1&&vw().then(()=>{t.processTasks()})),u};return a}function kT(t,e){var n=t.getCachedRxDocuments;return n(e)}var hK=typeof WeakRef=="function",dK=hK?pK:mK;function pK(t){return new WeakRef(t)}function mK(t){return{deref(){return t}}}var aI=(function(){function t(n,r,i){this.time=ta(),this.query=n,this.count=i,this.documents=kT(this.query.collection._docCache,r)}var e=t.prototype;return e.getValue=function(r){var i=this.query.op;if(i==="count")return this.count;if(i==="findOne"){var s=this.documents.length===0?null:this.documents[0];if(!s&&r)throw ht("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:i});return s}else return i==="findByIds"?this.docsMap:this.documents.slice(0)},rc(t,[{key:"docsData",get:function(){return wl(this,"docsData",this.documents.map(n=>n._data))}},{key:"docsDataMap",get:function(){var n=new Map;return this.documents.forEach(r=>{n.set(r.primary,r._data)}),wl(this,"docsDataMap",n)}},{key:"docsMap",get:function(){for(var n=new Map,r=this.documents,i=0;i<r.length;i++){var s=r[i];n.set(s.primary,s)}return wl(this,"docsMap",n)}}])})(),gK=0,OK=function(){return++gK},g5=(function(){function t(n,r,i,s={}){this.id=OK(),this._execOverDatabaseCount=0,this._creationTime=ta(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Tu(null),this._result=null,this._latestChangeEvent=-1,this._ensureEqualQueue=Al,this.op=n,this.mangoQuery=r,this.collection=i,this.other=s,r||(this.mangoQuery=Eb()),this.isFindOneByIdQuery=wK(this.collection.schema.primaryPath,r)}var e=t.prototype;return e._setResultData=function(r){if(typeof r>"u")throw ht("QU18",{database:this.collection.database.name,collection:this.collection.name});if(typeof r=="number"){this._result=new aI(this,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var i=new aI(this,r,r.length);this._result=i},e._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this.op==="count"){var r=this.getPreparedQuery(),i=await this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw ht("QU14",{collection:this.collection,queryObj:this.mangoQuery});return{result:i.count,counter:this.collection._changeEventBuffer.getCounter()}}if(this.op==="findByIds"){var s=zt(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,o=[];if(s.forEach(h=>{var d=this.collection._docCache.getLatestDocumentDataIfExists(h);if(d){if(!d._deleted){var m=this.collection._docCache.getCachedRxDocument(d);a.set(h,m)}}else o.push(h)}),o.length>0){var u=await this.collection.storageInstance.findDocumentsById(o,!1);u.forEach(h=>{var d=this.collection._docCache.getCachedRxDocument(h);a.set(d.primary,d)})}return{result:a,counter:this.collection._changeEventBuffer.getCounter()}}var f=await _K(this);return{result:f.docs,counter:f.counter}},e.exec=async function(r){if(r&&this.op!=="findOne")throw ht("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});await oI(this);var i=zt(this._result);return i.getValue(r)},e.toString=function(){var r=e_({op:this.op,query:Jh(this.collection.schema.jsonSchema,this.mangoQuery),other:this.other},!0),i=JSON.stringify(r);return this.toString=()=>i,i},e.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Jh(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Ss("prePrepareQuery",r);var i=kw(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},e.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},e.remove=async function(){var r=await this.exec();if(Array.isArray(r)){var i=await this.collection.bulkRemove(r);if(i.error.length>0)throw f3(i.error[0]);return i.success}else return r.remove()},e.incrementalRemove=function(){return im(this.asRxQuery,r=>r.incrementalRemove())},e.update=function(r){throw Sn("update")},e.patch=function(r){return im(this.asRxQuery,i=>i.patch(r))},e.incrementalPatch=function(r){return im(this.asRxQuery,i=>i.incrementalPatch(r))},e.modify=function(r){return im(this.asRxQuery,i=>i.modify(r))},e.incrementalModify=function(r){return im(this.asRxQuery,i=>i.incrementalModify(r))},e.where=function(r){throw Sn("query-builder")},e.sort=function(r){throw Sn("query-builder")},e.skip=function(r){throw Sn("query-builder")},e.limit=function(r){throw Sn("query-builder")},rc(t,[{key:"$",get:function(){if(!this._$){var n=this.collection.eventBulks$.pipe(En(r=>!r.isLocal),Jg(null),Pl(()=>oI(this)),kr(()=>this._result),Hg(Fg),eg((r,i)=>!!(r&&r.time===zt(i).time)),En(r=>!!r),kr(r=>zt(r).getValue()));this._$=VY(n,this.refCount$.pipe(En(()=>!1)))}return this._$}},{key:"$$",get:function(){var n=this.collection.database.getReactivityFactory();return n.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=Jh(this.collection.schema.jsonSchema,this.mangoQuery);return wl(this,"queryMatcher",VA(n,r))}},{key:"asRxQuery",get:function(){return this}}])})();function Eb(){return{selector:{}}}function yK(t){return t.collection._queryCache.getByQuery(t)}function sm(t,e,n,r){Ss("preCreateRxQuery",{op:t,queryObj:e,collection:n,other:r});var i=new g5(t,e,n,r);return i=yK(i),fK(n),i}function vK(t){var e=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=e}async function oI(t){return t.collection.awaitBeforeReads.size>0&&await Promise.all(Array.from(t.collection.awaitBeforeReads).map(e=>e())),t._ensureEqualQueue=t._ensureEqualQueue.then(()=>bK(t)),t._ensureEqualQueue}function bK(t){if(t._lastEnsureEqual=ta(),t.collection.database.closed||vK(t))return Al;var e=!1,n=!1;if(t._latestChangeEvent===-1&&(n=!0),!n){var r=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(r===null)n=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var i=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(t.op==="count"){var s=zt(t._result).count,a=s;i.forEach(u=>{var f=u.previousDocumentData&&t.doesDocumentDataMatch(u.previousDocumentData),h=t.doesDocumentDataMatch(u.documentData);!f&&h&&a++,f&&!h&&a--}),a!==s&&(e=!0,t._setResultData(a))}else{var o=iK(t,i);o.runFullQueryAgain?n=!0:o.changed&&(e=!0,t._setResultData(o.newResults))}}}return n?t._execOverDatabase().then(u=>{var f=u.result;return t._latestChangeEvent=u.counter,typeof f=="number"?((!t._result||f!==t._result.count)&&(e=!0,t._setResultData(f)),e):((!t._result||!gF(t.collection.schema.primaryPath,f,t._result.docsData))&&(e=!0,t._setResultData(f)),e)}):Promise.resolve(e)}async function _K(t){var e=[],n=t.collection;if(t.isFindOneByIdQuery)if(Array.isArray(t.isFindOneByIdQuery)){var r=t.isFindOneByIdQuery;if(r=r.filter(h=>{var d=t.collection._docCache.getLatestDocumentDataIfExists(h);return d?(d._deleted||e.push(d),!1):!0}),r.length>0){var i=await n.storageInstance.findDocumentsById(r,!1);of(e,i)}}else{var s=t.isFindOneByIdQuery,a=t.collection._docCache.getLatestDocumentDataIfExists(s);if(!a){var o=await n.storageInstance.findDocumentsById([s],!1);o[0]&&(a=o[0])}a&&!a._deleted&&e.push(a)}else{var u=t.getPreparedQuery(),f=await n.storageInstance.query(u);e=f.documents}return{docs:e,counter:n._changeEventBuffer.getCounter()}}function wK(t,e){if(!e.skip&&e.selector&&Object.keys(e.selector).length===1&&e.selector[t]){var n=e.selector[t];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var nf="collection",HA="storage-token",Ab="rx-migration-status",SK="rx-pipeline-checkpoint",xK="RxInternalDocument",JA=bw({version:0,title:xK,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[nf,HA,Ab,SK,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function _d(t,e){return gf(JA,{key:t,context:e})}async function O5(t){var e=kw(t.schema,{selector:{context:nf,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=await t.query(e),r=n.documents;return r}var y5="storageToken",kK=_d(y5,HA);async function TK(t){var e=Xg(10),n=t.password?await t.hashFunction(JSON.stringify(t.password)):void 0,r={id:kK,context:HA,key:y5,data:{rxdbVersion:t.rxdbVersion,token:e,instanceToken:t.token,passwordHash:n},_deleted:!1,_meta:zd(),_rev:Ka(),_attachments:{}},i=[{document:r}],s=await t.internalStore.bulkWrite(i,"internal-add-storage-token");if(!s.error[0])return ka("id",i,s)[0];var a=zt(s.error[0]);if(a.isError&&Km(a)){var o=a;if(!EK(o.documentInDb.data.rxdbVersion,t.rxdbVersion))throw ht("DM5",{args:{database:t.name,databaseStateVersion:o.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(n&&n!==o.documentInDb.data.passwordHash)throw ht("DB1",{passwordHash:n,existingPasswordHash:o.documentInDb.data.passwordHash});var u=o.documentInDb;return zt(u)}throw a}function EK(t,e){if(!t)return!1;var n=t.split(".")[0],r=e.split(".")[0];return n==="15"&&r==="16"?!0:n===r}async function AK(t,e,n){if(t.schema.version!==n.version)throw ht("SNH",{schema:n,version:t.schema.version,name:t.name,collection:t,args:{storageCollectionName:e}});for(var r=TT(t.name,t.schema.jsonSchema),i=_d(r,nf);;){var s=await nO(t.database.internalStore,i),a=Ks(zt(s)),o=a.data.connectedStorages.find(u=>u.collectionName===e&&u.schema.version===n.version);if(o)return;a.data.connectedStorages.push({collectionName:e,schema:n});try{await og(t.database.internalStore,{previous:zt(s),document:a},"add-connected-storage-to-collection")}catch(u){if(!Km(u))throw u}}}function TT(t,e){return t+"-"+e.version}function By(t,e){return e=Yn(e),e=UF(t,e),typeof t.jsonSchema.primaryKey!="string"&&(e=NF(t.primaryPath,t.jsonSchema,e)),e._meta=zd(),Object.prototype.hasOwnProperty.call(e,"_deleted")||(e._deleted=!1),Object.prototype.hasOwnProperty.call(e,"_attachments")||(e._attachments={}),Object.prototype.hasOwnProperty.call(e,"_rev")||(e._rev=Ka()),e}async function CK(t,e){e.multiInstance=t.multiInstance;var n=await t.storage.createStorageInstance(e);return n}async function v5(t,e,n,r,i,s,a,o){var u=await O5(e),f=u.filter(O=>O.data.name===i),h=[];f.forEach(O=>{h.push({collectionName:O.data.name,schema:O.data.schema,isCollection:!0}),O.data.connectedStorages.forEach(y=>h.push({collectionName:y.collectionName,isCollection:!1,schema:y.schema}))});var d=new Set;if(h=h.filter(O=>{var y=O.collectionName+"||"+O.schema.version;return d.has(y)?!1:(d.add(y),!0)}),await Promise.all(h.map(async O=>{var y=await t.createStorageInstance({collectionName:O.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:s,options:{},schema:O.schema,password:a,devMode:An.isDevMode()});await y.remove(),O.isCollection&&await Yg("postRemoveRxCollection",{storage:t,databaseName:r,collectionName:i})})),o){var m=f.map(O=>{var y=rO(O);return y._deleted=!0,y._meta.lwt=ta(),y._rev=El(n,O),{previous:O,document:y}});await e.bulkWrite(m,"rx-database-remove-collection-all")}}function pa(t){if(t.closed)throw ht("COL21",{collection:t.name,version:t.schema.version})}var PK=(function(){function t(n){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=n,this.subs.push(this.collection.eventBulks$.pipe(En(r=>!r.isLocal)).subscribe(r=>{this.tasks.add(()=>this._handleChangeEvents(r.events)),this.tasks.size<=1&&vw().then(()=>{this.processTasks()})}))}var e=t.prototype;return e.processTasks=function(){if(this.tasks.size!==0){var r=Array.from(this.tasks);r.forEach(i=>i()),this.tasks.clear()}},e._handleChangeEvents=function(r){var i=this.counter;this.counter=this.counter+r.length,r.length>this.limit?this.buffer=r.slice(r.length*-1):(of(this.buffer,r),this.buffer=this.buffer.slice(this.limit*-1));for(var s=i+1,a=this.eventCounterMap,o=0;o<r.length;o++){var u=r[o];a.set(u,s+o)}},e.getCounter=function(){return this.processTasks(),this.counter},e.getBuffer=function(){return this.processTasks(),this.buffer},e.getArrayIndexByPointer=function(r){this.processTasks();var i=this.buffer[0],s=this.eventCounterMap.get(i);if(r<s)return null;var a=r-s;return a},e.getFrom=function(r){this.processTasks();var i=[],s=this.getArrayIndexByPointer(r);if(s===null)return null;for(;;){var a=this.buffer[s];if(s++,a)i.push(a);else return i}},e.runFrom=function(r,i){this.processTasks();var s=this.getFrom(r);if(s===null)throw new Error("out of bounds");s.forEach(a=>i(a))},e.reduceByLastOfDoc=function(r){return this.processTasks(),r.slice(0)},e.close=function(){this.tasks.clear(),this.subs.forEach(r=>r.unsubscribe())},t})();function RK(t){return new PK(t)}var $K=new WeakMap;function MK(t){var e=t.schema.getDocumentPrototype(),n=QK(t),r=Tw,i={};return[e,n,r].forEach(s=>{var a=Object.getOwnPropertyNames(s);a.forEach(o=>{var u=Object.getOwnPropertyDescriptor(s,o),f=!0;(o.startsWith("_")||o.endsWith("_")||o.startsWith("$")||o.endsWith("$"))&&(f=!1),typeof u.value=="function"?Object.defineProperty(i,o,{get(){return u.value.bind(this)},enumerable:f,configurable:!1}):(u.enumerable=f,u.configurable=!1,u.writable&&(u.writable=!1),Object.defineProperty(i,o,u))})}),i}function IK(t){return Hs($K,t,()=>l5(MK(t)))}function DK(t,e,n){var r=hG(e,t,An.deepFreezeWhenDevMode(n));return t._runHooksSync("post","create",n,r),Ss("postCreateRxDocument",r),r}function QK(t){var e={};return Object.entries(t.methods).forEach(([n,r])=>{e[n]=r}),e}var l_={isEqual(t,e,n){t=lI(t),e=lI(e);var r=Hm(Mo(t),Mo(e));return r},resolve(t){return t.realMasterState}};function lI(t){return t._attachments||(t=Yn(t),t._attachments={}),t}var b5=["pre","post"],_5=["insert","save","remove","create"],uI=!1,Ch=new Set,w5=(function(){function t(n,r,i,s,a={},o={},u={},f={},h={},d=p5,m={},O=l_){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=aK(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.eventBulks$={},this.onClose=[],this.closed=!1,this.onRemove=[],this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=s,this.instanceCreationOptions=a,this.migrationStrategies=o,this.methods=u,this.attachments=f,this.options=h,this.cacheReplacementPolicy=d,this.statics=m,this.conflictHandler=O,NK(this.asRxCollection),n&&(this.eventBulks$=n.eventBulks$.pipe(En(y=>y.collectionName===this.name))),this.database&&Ch.add(this)}var e=t.prototype;return e.prepare=async function(){if(!await y3()){for(var r=0;r<10&&Ch.size>NM;)r++,await this.promiseWait(30);if(Ch.size>NM)throw ht("COL23",{database:this.database.name,collection:this.name,args:{existing:Array.from(Ch.values()).map(u=>({db:u.database?u.database.name:"",c:u.name}))}})}this.storageInstance=XA(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new o5(this.storageInstance,this.schema.primaryPath,(u,f)=>u5(this,u,f),u=>this._runHooks("post","save",u)),this.$=this.eventBulks$.pipe(Pl(u=>Z3(u))),this.checkpoint$=this.eventBulks$.pipe(kr(u=>u.checkpoint)),this._changeEventBuffer=RK(this.asRxCollection);var i;this._docCache=new m5(this.schema.primaryPath,this.eventBulks$.pipe(En(u=>!u.isLocal),kr(u=>u.events)),u=>(i||(i=IK(this.asRxCollection)),DK(this.asRxCollection,i,u)));var s=this.database.internalStore.changeStream().pipe(En(u=>{var f=this.name+"-"+this.schema.version,h=u.events.find(d=>d.documentData.context==="collection"&&d.documentData.key===f&&d.operation==="DELETE");return!!h})).subscribe(async()=>{await this.close(),await Promise.all(this.onRemove.map(u=>u()))});this._subs.push(s);var a=await this.database.storageToken,o=this.storageInstance.changeStream().subscribe(u=>{var f={id:u.id,isLocal:!1,internal:!1,collectionName:this.name,storageToken:a,events:u.events,databaseToken:this.database.token,checkpoint:u.checkpoint,context:u.context};this.database.$emit(f)});return this._subs.push(o),Xa},e.cleanup=function(r){throw pa(this),Sn("cleanup")},e.migrationNeeded=function(){throw Sn("migration-schema")},e.getMigrationState=function(){throw Sn("migration-schema")},e.startMigration=function(r=10){return pa(this),this.getMigrationState().startMigration(r)},e.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},e.insert=async function(r){pa(this);var i=await this.bulkInsert([r]),s=i.error[0];o_(this,r[this.schema.primaryPath],r,s);var a=zt(i.success[0]);return a},e.insertIfNotExists=async function(r){var i=await this.bulkInsert([r]);if(i.error.length>0){var s=i.error[0];if(s.status===409){var a=s.documentInDb;return kT(this._docCache,[a])[0]}else throw s}return i.success[0]},e.bulkInsert=async function(r){if(pa(this),r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,s=new Set,a;if(this.hasHooks("pre","insert"))a=await Promise.all(r.map(w=>{var k=By(this.schema,w);return this._runHooks("pre","insert",k).then(()=>(s.add(k[i]),{document:k}))}));else{a=new Array(r.length);for(var o=this.schema,u=0;u<r.length;u++){var f=r[u],h=By(o,f);s.add(h[i]),a[u]={document:h}}}if(s.size!==r.length)throw ht("COL22",{collection:this.name,args:{documents:r}});var d=await this.storageInstance.bulkWrite(a,"rx-collection-bulk-insert"),m,O=this,y={get success(){if(!m){var w=ka(O.schema.primaryPath,a,d);m=kT(O._docCache,w)}return m},error:d.error};if(this.hasHooks("post","insert")){var v=new Map;a.forEach(w=>{var k=w.document;v.set(k[i],k)}),await Promise.all(y.success.map(w=>this._runHooks("post","insert",v.get(w.primary),w)))}return y},e.bulkRemove=async function(r){pa(this);var i=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var s;typeof r[0]=="string"?s=await this.findByIds(r).exec():(s=new Map,r.forEach(O=>s.set(O.primary,O)));var a=[],o=new Map;Array.from(s.values()).forEach(O=>{var y=O.toMutableJSON(!0);a.push(y),o.set(O.primary,y)}),await Promise.all(a.map(O=>{var y=O[this.schema.primaryPath];return this._runHooks("pre","remove",O,s.get(y))}));var u=a.map(O=>{var y=Yn(O);return y._deleted=!0,{previous:O,document:y}}),f=await this.storageInstance.bulkWrite(u,"rx-collection-bulk-remove"),h=ka(this.schema.primaryPath,u,f),d=[],m=h.map(O=>{var y=O[i],v=this._docCache.getCachedRxDocument(O);return d.push(v),y});return await Promise.all(m.map(O=>this._runHooks("post","remove",o.get(O),s.get(O)))),{success:d,error:f.error}},e.bulkUpsert=async function(r){pa(this);var i=[],s=new Map;r.forEach(f=>{var h=By(this.schema,f),d=h[this.schema.primaryPath];if(!d)throw ht("COL3",{primaryPath:this.schema.primaryPath,data:h,schema:this.schema.jsonSchema});s.set(d,h),i.push(h)});var a=await this.bulkInsert(i),o=a.success.slice(0),u=[];return await Promise.all(a.error.map(async f=>{if(f.status!==409)u.push(f);else{var h=f.documentId,d=gd(s,h),m=zt(f.documentInDb),O=this._docCache.getCachedRxDocuments([m])[0],y=await O.incrementalModify(()=>d);o.push(y)}})),{error:u,success:o}},e.upsert=async function(r){pa(this);var i=await this.bulkUpsert([r]);return o_(this.asRxCollection,r[this.schema.primaryPath],r,i.error[0]),i.success[0]},e.incrementalUpsert=function(r){pa(this);var i=By(this.schema,r),s=i[this.schema.primaryPath];if(!s)throw ht("COL4",{data:r});var a=this._incrementalUpsertQueues.get(s);return a||(a=Xa),a=a.then(()=>jK(this,s,i)).then(o=>o.inserted?o.doc:LK(o.doc,i)),this._incrementalUpsertQueues.set(s,a),a},e.find=function(r){pa(this),Ss("prePrepareRxQuery",{op:"find",queryObj:r,collection:this}),r||(r=Eb());var i=sm("find",r,this);return i},e.findOne=function(r){pa(this),Ss("prePrepareRxQuery",{op:"findOne",queryObj:r,collection:this});var i;if(typeof r=="string")i=sm("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Eb()),r.limit)throw ht("QU6");r=Yn(r),r.limit=1,i=sm("findOne",r,this)}return i},e.count=function(r){pa(this),r||(r=Eb());var i=sm("count",r,this);return i},e.findByIds=function(r){pa(this);var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},s=sm("findByIds",i,this);return s},e.exportJSON=function(){throw Sn("json-dump")},e.importJSON=function(r){throw Sn("json-dump")},e.insertCRDT=function(r){throw Sn("crdt")},e.addPipeline=function(r){throw Sn("pipeline")},e.addHook=function(r,i,s,a=!1){if(typeof s!="function")throw n_("COL7",{key:i,when:r});if(!b5.includes(r))throw n_("COL8",{key:i,when:r});if(!_5.includes(i))throw ht("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw ht("COL10",{when:r,key:i,parallel:a});var o=s.bind(this),u=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][u].push(o)},e.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},e.hasHooks=function(r,i){if(!this.hooks[i]||!this.hooks[i][r])return!1;var s=this.getHooks(r,i);return s?s.series.length>0||s.parallel.length>0:!1},e._runHooks=function(r,i,s,a){var o=this.getHooks(r,i);if(!o)return Xa;var u=o.series.map(f=>()=>f(s,a));return RF(u).then(()=>Promise.all(o.parallel.map(f=>f(s,a))))},e._runHooksSync=function(r,i,s,a){if(this.hasHooks(r,i)){var o=this.getHooks(r,i);o&&o.series.forEach(u=>u(s,a))}},e.promiseWait=function(r){var i=new Promise(s=>{var a=setTimeout(()=>{this.timeouts.delete(a),s()},r);this.timeouts.add(a)});return i},e.close=async function(){return this.closed?Al:(Ch.delete(this),await Promise.all(this.onClose.map(r=>r())),this.closed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.close(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],Yg("postCloseRxCollection",this).then(()=>!0))))},e.remove=async function(){await this.close(),await Promise.all(this.onRemove.map(r=>r())),await v5(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.multiInstance,this.database.password,this.database.hashFunction)},rc(t,[{key:"insert$",get:function(){return this.$.pipe(En(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(En(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(En(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])})();function NK(t){if(!uI){uI=!0;var e=Object.getPrototypeOf(t);_5.forEach(n=>{b5.map(r=>{var i=r+d3(n);e[i]=function(s,a){return this.addHook(r,n,s,a)}})})}}function LK(t,e){return t.incrementalModify(n=>e)}function jK(t,e,n){var r=t._docCache.getLatestDocumentDataIfExists(e);return r?Promise.resolve({doc:t._docCache.getCachedRxDocuments([r])[0],inserted:!1}):t.findOne(e).exec().then(i=>i?{doc:i,inserted:!1}:t.insert(n).then(s=>({doc:s,inserted:!0})))}async function BK({database:t,name:e,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:s=!0,statics:a={},methods:o={},attachments:u={},options:f={},localDocuments:h=!1,cacheReplacementPolicy:d=p5,conflictHandler:m=l_}){var O={databaseInstanceToken:t.token,databaseName:t.name,collectionName:e,schema:n.jsonSchema,options:r,multiInstance:t.multiInstance,password:t.password,devMode:An.isDevMode()};Ss("preCreateRxStorageInstance",O);var y=await CK(t,O),v=new w5(t,e,n,y,r,i,o,u,f,d,a,m);try{await v.prepare(),Object.entries(a).forEach(([w,k])=>{Object.defineProperty(v,w,{get:()=>k.bind(v)})}),Ss("createRxCollection",{collection:v,creator:{name:e,schema:n,storageInstance:y,instanceCreationOptions:r,migrationStrategies:i,methods:o,attachments:u,options:f,cacheReplacementPolicy:d,localDocuments:h,statics:a}}),s&&v.schema.version!==0&&await v.migratePromise()}catch(w){throw Ch.delete(v),await y.close(),w}return v}var S5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=e||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};S5.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,ET(this)},wrapCall:function(e){var n=this;this._qC++;var r;try{r=e()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(e){var n=this;e=e||{};var r,i=new Promise(function(o){return r=o}),s=function(){_x(n,i),r()};if(i._manRes=s,e.timeout){var a=setTimeout(function(){i._manRes()},e.timeout);i._timeoutObj=a}return this._iC.add(i),ET(this),i},cancelIdlePromise:function(e){_x(this,e)},requestIdleCallback:function(e,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return e()}),r},cancelIdleCallback:function(e){var n=this._hPM.get(e);this.cancelIdlePromise(n)},clear:function(){var e=this;this._iC.forEach(function(n){return _x(e,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function zK(t){if(t._iC.size!==0){var e=t._iC.values(),n=e.next().value;n._manRes(),setTimeout(function(){return ET(t)},0)}}function _x(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var n=t._pHM.get(e);t._hPM.delete(n),t._pHM.delete(e)}t._iC.delete(e)}}function ET(t){t._tryIR||t._iC.size===0||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}zK(t),t._tryIR=!1},0)},0))}let ZK=class{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){return this.map.has(e)}add(e){this.map.set(e,x5()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,UK(this)},0))}clear(){this.map.clear()}};function UK(t){const e=x5()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(r[1]<e)t.map.delete(i);else return}}function x5(){return Date.now()}var AT=new Set,cI=new Map,eC=(function(){function t(n,r,i,s,a,o,u=!1,f={},h,d,m,O,y,v){this.idleQueue=new S5,this.rxdbVersion=O3,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onClose=[],this.closed=!1,this.collections={},this.states={},this.eventBulks$=new ga,this.closePromise=null,this.observable$=this.eventBulks$.pipe(Pl(w=>Z3(w))),this.storageToken=Al,this.storageTokenDocument=Al,this.emittedEventBulkIds=new ZK(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=s,this.password=a,this.multiInstance=o,this.eventReduce=u,this.options=f,this.internalStore=h,this.hashFunction=d,this.cleanupPolicy=m,this.allowSlowCount=O,this.reactivity=y,this.onClosed=v,this.name!=="pseudoInstance"&&(this.internalStore=XA(this.asRxDatabase,h,JA),this.storageTokenDocument=TK(this.asRxDatabase).catch(w=>this.startupErrors.push(w)),this.storageToken=this.storageTokenDocument.then(w=>w.data.token).catch(w=>this.startupErrors.push(w)))}var e=t.prototype;return e.getReactivityFactory=function(){if(!this.reactivity)throw ht("DB14",{database:this.name});return this.reactivity},e.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},e.removeCollectionDoc=async function(r,i){var s=await nO(this.internalStore,_d(TT(r,i),nf));if(!s)throw ht("SNH",{name:r,schema:i});var a=rO(s);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:s}],"rx-database-remove-collection")},e.addCollections=async function(r){var i={},s={},a=[],o={};await Promise.all(Object.entries(r).map(async([h,d])=>{var m=h,O=d.schema;i[m]=O;var y=XF(O,this.hashFunction);if(s[m]=y,this.collections[h])throw ht("DB3",{name:h});var v=TT(h,O),w={id:_d(v,nf),key:v,context:nf,data:{name:m,schemaHash:await y.hash,schema:y.jsonSchema,version:y.version,connectedStorages:[]},_deleted:!1,_meta:zd(),_rev:Ka(),_attachments:{}};a.push({document:w});var k=Object.assign({},d,{name:m,schema:y,database:this}),T=Yn(d);T.database=this,T.name=h,Ss("preCreateRxCollection",T),k.conflictHandler=T.conflictHandler,o[m]=k}));var u=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await YK(this),await Promise.all(u.error.map(async h=>{if(h.status!==409)throw ht("DB12",{database:this.name,writeError:h});var d=zt(h.documentInDb),m=d.data.name,O=s[m];if(d.data.schemaHash!==await O.hash)throw ht("DB6",{database:this.name,collection:m,previousSchemaHash:d.data.schemaHash,schemaHash:await O.hash,previousSchema:d.data.schema,schema:zt(i[m])})}));var f={};return await Promise.all(Object.keys(r).map(async h=>{var d=o[h],m=await BK(d);f[h]=m,this.collections[h]=m,this[h]||Object.defineProperty(this,h,{get:()=>this.collections[h]})})),f},e.lockedRun=function(r){return this.idleQueue.wrapCall(r)},e.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.exportJSON=function(r){throw Sn("json-dump")},e.addState=function(r){throw Sn("state")},e.importJSON=function(r){throw Sn("json-dump")},e.backup=function(r){throw Sn("backup")},e.leaderElector=function(){throw Sn("leader-election")},e.isLeader=function(){throw Sn("leader-election")},e.waitForLeadership=function(){throw Sn("leader-election")},e.migrationStates=function(){throw Sn("migration-schema")},e.close=function(){if(this.closePromise)return this.closePromise;var{promise:r,resolve:i}=k5(),s=a=>{this.onClosed&&this.onClosed(),this.closed=!0,i(a)};return this.closePromise=r,(async()=>{if(await Yg("preCloseRxDatabase",this),this.eventBulks$.complete(),this._subs.map(a=>a.unsubscribe()),this.name==="pseudoInstance"){s(!1);return}return this.requestIdlePromise().then(()=>Promise.all(this.onClose.map(a=>a()))).then(()=>Promise.all(Object.keys(this.collections).map(a=>this.collections[a]).map(a=>a.close()))).then(()=>this.internalStore.close()).then(()=>s(!0))})(),r},e.remove=function(){return this.close().then(()=>XK(this.name,this.storage,this.multiInstance,this.password))},rc(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])})();function qK(t,e){if(AT.has(T5(t,e)))throw ht("DB8",{name:t,storage:e.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function k5(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function T5(t,e){return e.name+"|"+t}async function E5(t,e,n,r,i,s){var a=await e.createStorageInstance({databaseInstanceToken:t,databaseName:n,collectionName:rG,schema:JA,options:r,multiInstance:i,password:s,devMode:An.isDevMode()});return a}function VK({storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i=!0,eventReduce:s=!0,ignoreDuplicate:a=!1,options:o={},cleanupPolicy:u,closeDuplicates:f=!1,allowSlowCount:h=!1,localDocuments:d=!1,hashFunction:m=h3,reactivity:O}){Ss("preCreateRxDatabase",{storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i,eventReduce:s,ignoreDuplicate:a,options:o,localDocuments:d});var y=T5(n,t),v=cI.get(y)||new Set,w=k5(),k=Array.from(v),T=()=>{v.delete(w.promise),AT.delete(y)};return v.add(w.promise),cI.set(y,v),(async()=>{if(f&&await Promise.all(k.map(Q=>Q.catch(()=>null).then(N=>N&&N.close()))),a){if(!An.isDevMode())throw ht("DB9",{database:n})}else qK(n,t);AT.add(y);var A=Xg(10),C=await E5(A,t,n,e,i,r),I=new eC(n,A,t,e,r,i,s,o,C,m,u,h,O,T);return await Yg("createRxDatabase",{database:I,creator:{storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i,eventReduce:s,ignoreDuplicate:a,options:o,localDocuments:d}}),I})().then(A=>{w.resolve(A)}).catch(A=>{w.reject(A),T()}),w.promise}async function XK(t,e,n=!0,r){var i=Xg(10),s=await E5(i,e,t,{},n,r),a=await O5(s),o=new Set;a.forEach(f=>o.add(f.data.name));var u=Array.from(o);return await Promise.all(u.map(f=>v5(e,s,i,t,f,n,r))),await Yg("postRemoveRxDatabase",{databaseName:t,storage:e}),await s.remove(),u}function FK(t){return t instanceof eC}async function YK(t){if(await t.storageToken,t.startupErrors[0])throw t.startupErrors[0]}var WK={RxSchema:b3.prototype,RxDocument:Tw,RxQuery:g5.prototype,RxCollection:w5.prototype,RxDatabase:eC.prototype},wx=new Set,fI=new Set;function A5(t){if(Ss("preAddRxPlugin",{plugin:t,plugins:wx}),!wx.has(t)){{if(fI.has(t.name))throw ht("PL3",{name:t.name,plugin:t});wx.add(t),fI.add(t.name)}if(!t.rxdb)throw n_("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([e,n])=>n(WK[e])),t.overwritable&&Object.assign(An,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([e,n])=>{n.after&&Jm[e].push(n.after),n.before&&Jm[e].unshift(n.before)})}}async function u_(t,e){var n=gf(t.input.metaInstance.schema,{isCheckpoint:"1",itemId:e}),r=await t.input.metaInstance.findDocumentsById([n],!1),i=r[0];if(t.lastCheckpointDoc[e]=i,i)return i.checkpointData}async function c_(t,e,n){t.checkpointQueue=t.checkpointQueue.then(async()=>{var r=t.lastCheckpointDoc[e];if(n&&!t.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var i={id:"",isCheckpoint:"1",itemId:e,_deleted:!1,_attachments:{},checkpointData:n,_meta:zd(),_rev:Ka()};for(i.id=gf(t.input.metaInstance.schema,i);!t.events.canceled.getValue();){if(r&&(i.checkpointData=lg([r.checkpointData,i.checkpointData])),i._meta.lwt=ta(),i._rev=El(await t.checkpointKey,r),t.events.canceled.getValue())return;var s=[{previous:r,document:i}],a=await t.input.metaInstance.bulkWrite(s,"replication-set-checkpoint"),o=ka(t.primaryPath,s,a)[0];if(o){t.lastCheckpointDoc[e]=o;return}else{var u=a.error[0];if(u.status!==409)throw u;r=zt(u.documentInDb),i._rev=El(await t.checkpointKey,r)}}}}),await t.checkpointQueue}async function GK(t){var e=await t.hashFunction([t.identifier,t.forkInstance.databaseName,t.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+e}function hI(t,e,n,r,i){var s=Object.assign({},r,{_attachments:e&&r._attachments?r._attachments:{},_meta:n?r._meta:Object.assign({},i?i._meta:{},{lwt:ta()}),_rev:n?r._rev:Ka()});return s._rev||(s._rev=El(t,i)),s}function Eu(t,e,n){var r=Yn(t);return e||delete r._attachments,n||(delete r._meta,delete r._rev),r}function CT(t,e){return t.hasAttachments?e.map(n=>{var r=Ks(n.document);return r.docData=Mo(r.docData),{document:r,previous:n.previous}}):e}function PT(t){for(;;)if(t.underlyingPersistentStorage)t=t.underlyingPersistentStorage;else return t}var Cb="RxReplicationProtocolMetaData";function dI(t,e){var n=LF(t),r={title:Cb,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:t.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:t.properties},isResolvedConflict:{type:"string"}},keyCompression:t.keyCompression,required:["id","isCheckpoint","itemId"]};e&&(r.encrypted=["docData"]);var i=bw(r);return i}function C5(t,e){return t.input.metaInstance.findDocumentsById(e.map(n=>{var r=gf(t.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}async function f_(t,e,n,r){var i=e[t.primaryPath],s=n?rO(n):{id:"",isCheckpoint:"0",itemId:i,docData:e,_attachments:{},_deleted:!1,_rev:Ka(),_meta:{lwt:0}};s.docData=e,r&&(s.isResolvedConflict=r),s._meta.lwt=ta(),s.id=gf(t.input.metaInstance.schema,s),s._rev=El(await t.checkpointKey,n);var a={previous:n,document:s};return a}async function KK(t){if(t.input.initialCheckpoint&&t.input.initialCheckpoint.downstream){var e=await u_(t,"down");e||await c_(t,"down",t.input.initialCheckpoint.downstream)}var n=await t.input.hashFunction(t.input.identifier),r=t.input.replicationHandler,i=0,s=[];function a(y){t.stats.down.addNewTask=t.stats.down.addNewTask+1;var v={time:i++,task:y};s.push(v),t.streamQueue.down=t.streamQueue.down.then(()=>{for(var w=[];s.length>0;){t.events.active.down.next(!0);var k=zt(s.shift());if(!(k.time<u)){if(k.task==="RESYNC")if(w.length===0){w.push(k.task);break}else break;w.push(k.task)}}if(w.length!==0)return w[0]==="RESYNC"?f():h(w)}).then(()=>{t.events.active.down.next(!1),!t.firstSyncDone.down.getValue()&&!t.events.canceled.getValue()&&t.firstSyncDone.down.next(!0)})}if(a("RESYNC"),!t.events.canceled.getValue()){var o=r.masterChangeStream$.pipe(Pl(async y=>(await Jc(t.events.active.up.pipe(En(v=>!v))),y))).subscribe(y=>{t.stats.down.masterChangeStreamEmit=t.stats.down.masterChangeStreamEmit+1,a(y)});Jc(t.events.canceled.pipe(En(y=>!!y))).then(()=>o.unsubscribe())}var u=-1;async function f(){if(t.stats.down.downstreamResyncOnce=t.stats.down.downstreamResyncOnce+1,!t.events.canceled.getValue()){t.checkpointQueue=t.checkpointQueue.then(()=>u_(t,"down"));for(var y=await t.checkpointQueue,v=[];!t.events.canceled.getValue();){u=i++;var w=await r.masterChangesSince(y,t.input.pullBatchSize);if(w.documents.length===0||(y=lg([y,w.checkpoint]),v.push(O(w.documents,y)),w.documents.length<t.input.pullBatchSize))break}await Promise.all(v)}}function h(y){t.stats.down.downstreamProcessChanges=t.stats.down.downstreamProcessChanges+1;var v=[],w=null;return y.forEach(k=>{if(k==="RESYNC")throw new Error("SNH");of(v,k.documents),w=lg([w,k.checkpoint])}),O(v,zt(w))}var d=Xa,m={docs:{}};function O(y,v){var w=t.primaryPath;return t.stats.down.persistFromMaster=t.stats.down.persistFromMaster+1,y.forEach(k=>{var T=k[w];m.docs[T]=k}),m.checkpoint=v,d=d.then(()=>{var k=m.docs;m.docs={};var T=m.checkpoint,A=Object.keys(k);if(t.events.canceled.getValue()||A.length===0)return Xa;var C=[],I={},Q={},N=[];return Promise.all([t.input.forkInstance.findDocumentsById(A,!0),C5(t,A)]).then(([j,q])=>{var oe=new Map;return j.forEach(we=>oe.set(we[w],we)),Promise.all(A.map(async we=>{var K=oe.get(we),Ae=K?Eu(K,t.hasAttachments,!1):void 0,Ee=k[we],Be=q[we];Be&&K&&Be.metaDocument.isResolvedConflict===K._rev&&await t.streamQueue.up;var G=!Be||!Ae?!1:t.input.conflictHandler.isEqual(Be.docData,Ae,"downstream-check-if-equal-0");if(!G&&Be&&Be.docData._rev&&K&&K._meta[t.input.identifier]&&zu(K._rev)===K._meta[t.input.identifier]&&(G=!0),K&&Be&&G===!1||K&&!Be)return Xa;var ye=Ae?t.input.conflictHandler.isEqual(Ee,Ae,"downstream-check-if-equal-1"):!1;if(Ae&&ye)return(!Be||G===!1)&&N.push(await f_(t,Ae,Be?Be.metaDocument:void 0)),Xa;var Se=Object.assign({},Ee,K?{_meta:Yn(K._meta),_attachments:t.hasAttachments&&Ee._attachments?Ee._attachments:{},_rev:Ka()}:{_meta:{lwt:ta()},_rev:Ka(),_attachments:t.hasAttachments&&Ee._attachments?Ee._attachments:{}});if(Ee._rev){var Te=K?zu(K._rev)+1:1;Se._meta[t.input.identifier]=Te,t.input.keepMeta&&(Se._rev=Ee._rev)}t.input.keepMeta&&Ee._meta&&(Se._meta=Ee._meta);var he={previous:K,document:Se};he.document._rev=he.document._rev?he.document._rev:El(n,he.previous),C.push(he),I[we]=he,Q[we]=await f_(t,Ee,Be?Be.metaDocument:void 0)}))}).then(async()=>{if(C.length>0)return t.input.forkInstance.bulkWrite(C,await t.downstreamBulkWriteFlag).then(j=>{var q=ka(t.primaryPath,C,j);q.forEach(we=>{var K=we[w];t.events.processed.down.next(I[K]),N.push(Q[K])});var oe;if(j.error.forEach(we=>{if(we.status!==409){var K=ht("RC_PULL",{writeError:we});t.events.error.next(K),oe=K}}),oe)throw oe})}).then(()=>{if(N.length>0)return t.input.metaInstance.bulkWrite(CT(t,N),"replication-down-write-meta").then(j=>{j.error.forEach(q=>{t.events.error.next(ht("RC_PULL",{id:q.documentId,writeError:q}))})})}).then(()=>{c_(t,"down",T)})}).catch(k=>t.events.error.next(k)),d}}async function HK(t,e,n){var r=t.input.conflictHandler,i=r.isEqual(e.realMasterState,e.newDocumentState,"replication-resolve-conflict");if(!i){var s=await r.resolve(e,"replication-resolve-conflict"),a=Object.assign({},s,{_meta:Yn(n._meta),_rev:Ka(),_attachments:Yn(n._attachments)});return a._meta.lwt=ta(),a._rev=El(await t.checkpointKey,n),a}}async function RT(t,e,n,r){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=n[t],s=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return await Promise.all(Object.entries(n._attachments).map(async([a,o])=>{if((!s.has(a)||r&&zt(r._attachments)[a].digest!==o.digest)&&!o.data){var u=await e.getAttachmentData(i,a,o.digest);o.data=u}})),n}async function JK(t){if(t.input.initialCheckpoint&&t.input.initialCheckpoint.upstream){var e=await u_(t,"up");e||await c_(t,"up",t.input.initialCheckpoint.upstream)}var n=t.input.replicationHandler;t.streamQueue.up=t.streamQueue.up.then(()=>h().then(()=>d()));var r=0,i=-1,s=[],a=Al,o={docs:{}},u=t.input.forkInstance.changeStream().subscribe(O=>{if(!t.events.paused.getValue())return t.stats.up.forkChangeStreamEmit=t.stats.up.forkChangeStreamEmit+1,s.push({task:O,time:r++}),t.events.active.up.getValue()||t.events.active.up.next(!0),t.input.waitBeforePersist?t.input.waitBeforePersist().then(()=>d()):d()}),f=n.masterChangeStream$.pipe(En(O=>O==="RESYNC")).subscribe(()=>{s.push({task:"RESYNC",time:r++}),d()});Jc(t.events.canceled.pipe(En(O=>!!O))).then(()=>{u.unsubscribe(),f.unsubscribe()});async function h(){if(t.stats.up.upstreamInitialSync=t.stats.up.upstreamInitialSync+1,!t.events.canceled.getValue()){t.checkpointQueue=t.checkpointQueue.then(()=>u_(t,"up"));for(var O=await t.checkpointQueue,y=new Set,v=async function(){i=r++,y.size>3&&await Promise.race(Array.from(y));var T=await s5(t.input.forkInstance,t.input.pushBatchSize,O);if(T.documents.length===0)return 1;O=lg([O,T.checkpoint]);var A=m(T.documents,zt(O));y.add(A),A.catch().then(()=>y.delete(A))};!t.events.canceled.getValue()&&!await v(););var w=await Promise.all(y),k=w.find(T=>!!T);k?await h():!t.firstSyncDone.up.getValue()&&!t.events.canceled.getValue()&&t.firstSyncDone.up.next(!0)}}function d(){if(t.events.canceled.getValue()||s.length===0){t.events.active.up.next(!1);return}t.stats.up.processTasks=t.stats.up.processTasks+1,t.events.active.up.next(!0),t.streamQueue.up=t.streamQueue.up.then(async()=>{for(var O=[],y;s.length>0;){var v=zt(s.shift());if(!(v.time<i)){if(v.task==="RESYNC"){t.events.active.up.next(!1),await h();return}v.task.context!==await t.downstreamBulkWriteFlag&&of(O,v.task.events.map(w=>w.documentData)),y=lg([y,v.task.checkpoint])}}if(await m(O,y),s.length===0)t.events.active.up.next(!1);else return d()})}function m(O,y){return t.stats.up.persistToMaster=t.stats.up.persistToMaster+1,O.forEach(v=>{var w=v[t.primaryPath];o.docs[w]=v}),o.checkpoint=y,a=a.then(async()=>{if(t.events.canceled.getValue())return!1;var v=o.docs;o.docs={};var w=o.checkpoint,k=Object.keys(v);function T(){return c_(t,"up",w)}if(k.length===0)return T(),!1;var A=await C5(t,k),C={},I=[],Q={},N={};if(await Promise.all(k.map(async he=>{var z=v[he];N[he]=z;var ne=Eu(z,t.hasAttachments,!!t.input.keepMeta),ge=A[he];ge&&ge.metaDocument.isResolvedConflict!==z._rev&&t.input.conflictHandler.isEqual(ge.docData,ne,"upstream-check-if-equal")||ge&&ge.docData._rev&&zu(z._rev)===z._meta[t.input.identifier]||(I.push(he),C[he]={assumedMasterState:ge?ge.docData:void 0,newDocumentState:ne},Q[he]=await f_(t,ne,ge?ge.metaDocument:void 0))})),I.length===0)return T(),!1;var j=Object.values(C),q=new Set,oe={},we=fF(j,t.input.pushBatchSize);await Promise.all(we.map(async he=>{t.hasAttachments&&await Promise.all(he.map(async ne=>{ne.newDocumentState=await RT(t.primaryPath,t.input.forkInstance,Ks(ne.newDocumentState),ne.assumedMasterState)}));var z=await n.masterWrite(he);z.forEach(ne=>{var ge=ne[t.primaryPath];q.add(ge),oe[ge]=ne})}));var K=[];if(I.forEach(he=>{q.has(he)||(t.events.processed.up.next(C[he]),K.push(Q[he]))}),t.events.canceled.getValue())return!1;K.length>0&&await t.input.metaInstance.bulkWrite(CT(t,K),"replication-up-write-meta");var Ae=!1;if(q.size>0){t.stats.up.persistToMasterHadConflicts=t.stats.up.persistToMasterHadConflicts+1;var Ee=[],Be={};if(await Promise.all(Object.entries(oe).map(([he,z])=>{var ne=C[he],ge={newDocumentState:ne.newDocumentState,assumedMasterState:ne.assumedMasterState,realMasterState:z};return HK(t,ge,N[he]).then(async Pe=>{if(Pe){t.events.resolvedConflicts.next({input:ge,output:Pe}),Ee.push({previous:N[he],document:Pe});var De=A[he];Be[he]=await f_(t,zt(z),De?De.metaDocument:void 0,Pe._rev)}})})),Ee.length>0){Ae=!0,t.stats.up.persistToMasterConflictWrites=t.stats.up.persistToMasterConflictWrites+1;var G=await t.input.forkInstance.bulkWrite(Ee,"replication-up-write-conflict"),ye;if(G.error.forEach(he=>{if(he.status!==409){var z=ht("RC_PUSH",{writeError:he});t.events.error.next(z),ye=z}}),ye)throw ye;var Se=[],Te=ka(t.primaryPath,Ee,G);Te.forEach(he=>{var z=he[t.primaryPath];Se.push(Be[z])}),Se.length>0&&await t.input.metaInstance.bulkWrite(CT(t,Se),"replication-up-write-conflict-meta")}}return T(),Ae}).catch(v=>(t.events.error.next(v),!1)),a}}function eH(t){t=Yn(t),t.forkInstance=PT(t.forkInstance),t.metaInstance=PT(t.metaInstance);var e=GK(t),n={primaryPath:xs(t.forkInstance.schema.primaryKey),hasAttachments:!!t.forkInstance.schema.attachments,input:t,checkpointKey:e,downstreamBulkWriteFlag:e.then(r=>"replication-downstream-"+r),events:{canceled:new Tu(!1),paused:new Tu(!1),active:{down:new Tu(!0),up:new Tu(!0)},processed:{down:new ga,up:new ga},resolvedConflicts:new ga,error:new ga},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Tu(!1),up:new Tu(!1)},streamQueue:{down:Xa,up:Xa},checkpointQueue:Xa,lastCheckpointDoc:{}};return KK(n),JK(n),n}function tH(t){return Jc(PY([t.firstSyncDone.down.pipe(En(e=>!!e)),t.firstSyncDone.up.pipe(En(e=>!!e))])).then(()=>{})}function nH(t){return Promise.all([t.streamQueue.up,t.streamQueue.down,t.checkpointQueue])}function rH(t,e,n,r=!1){t=PT(t);var i=!!t.schema.attachments,s=xs(t.schema.primaryKey),a={masterChangeStream$:t.changeStream().pipe(Pl(async o=>{var u={checkpoint:o.checkpoint,documents:await Promise.all(o.events.map(async f=>{var h=Eu(f.documentData,i,r);return i&&(h=await RT(s,t,Ks(h),void 0)),h}))};return u})),masterChangesSince(o,u){return s5(t,u,o).then(async f=>({checkpoint:f.documents.length>0?f.checkpoint:o,documents:await Promise.all(f.documents.map(async h=>{var d=Eu(h,i,r);return i&&(d=await RT(s,t,Ks(d),void 0)),d}))}))},async masterWrite(o){var u={};o.forEach(v=>{var w=v.newDocumentState[s];u[w]=v});var f=Object.keys(u),h=await t.findDocumentsById(f,!0),d=new Map;h.forEach(v=>d.set(v[s],v));var m=[],O=[];if(await Promise.all(Object.entries(u).map(([v,w])=>{var k=d.get(v);k?k&&!w.assumedMasterState?m.push(Eu(k,i,r)):e.isEqual(Eu(k,i,r),zt(w.assumedMasterState),"rxStorageInstanceToReplicationHandler-masterWrite")===!0?O.push({previous:k,document:hI(n,i,r,w.newDocumentState,k)}):m.push(Eu(k,i,r)):O.push({document:hI(n,i,r,w.newDocumentState)})})),O.length>0){var y=await t.bulkWrite(O,"replication-master-write");y.error.forEach(v=>{if(v.status!==409)throw ht("SNH",{name:"non conflict error",error:v});m.push(Eu(zt(v.documentInDb),i,r))})}return m}};return a}async function iH(t){t.events.canceled.next(!0),t.events.active.up.complete(),t.events.active.down.complete(),t.events.processed.up.complete(),t.events.processed.down.complete(),t.events.resolvedConflicts.complete(),t.events.canceled.complete(),await t.checkpointQueue}function sH(t){return t&&typeof t.then=="function"}Promise.resolve(!1);var aH=Promise.resolve(!0),Sl=Promise.resolve();function Vc(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function oH(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function iO(){return Math.random().toString(36).substring(2)}var Sx=0;function sO(){var t=Date.now()*1e3;return t<=Sx&&(t=Sx+1),Sx=t,t}function lH(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var uH=sO,cH="native";function fH(t){var e={time:sO(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(n){e.messagesCallback&&e.messagesCallback(n.data)},e}function hH(t){t.bc.close(),t.subFns=[]}function dH(t,e){try{return t.bc.postMessage(e,!1),Sl}catch(n){return Promise.reject(n)}}function pH(t,e){t.messagesCallback=e}function mH(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function gH(){return 150}var OH={create:fH,close:hH,onMessage:pH,postMessage:dH,canBeUsed:mH,type:cH,averageResponseTime:gH,microSeconds:uH};class P5{ttl;map=new Map;_to=!1;constructor(e){this.ttl=e}has(e){const n=this.map.get(e);return typeof n>"u"?!1:n<$T()-this.ttl?(this.map.delete(e),!1):!0}add(e){this.map.delete(e),this.map.set(e,$T()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,yH(this)},0))}clear(){this.map.clear()}}function yH(t){const e=$T()-t.ttl,n=t.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)break;const i=r[0];if(r[1]<e)t.map.delete(i);else break}}function $T(){return Date.now()}function tC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return typeof e.webWorkerSupport>"u"&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=1e3*45),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&typeof t.idb.onclose=="function"&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=1e3*60),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=1e3*60*2),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),typeof e.node.useFastPath>"u"&&(e.node.useFastPath=!0),e}var vH=sO,bH="pubkey.broadcast-channel-0-",Rl="messages",Ew={durability:"relaxed"},_H="idb";function R5(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function nC(t){t.commit&&t.commit()}function wH(t){var e=R5(),n=bH+t,r=e.open(n);return r.onupgradeneeded=function(i){var s=i.target.result;s.createObjectStore(Rl,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,s){r.onerror=function(a){return s(a)},r.onsuccess=function(){i(r.result)}})}function SH(t,e,n){var r=Date.now(),i={uuid:e,time:r,data:n},s=t.transaction([Rl],"readwrite",Ew);return new Promise(function(a,o){s.oncomplete=function(){return a()},s.onerror=function(f){return o(f)};var u=s.objectStore(Rl);u.add(i),nC(s)})}function xH(t,e){var n=t.transaction(Rl,"readonly",Ew),r=n.objectStore(Rl),i=[],s=IDBKeyRange.bound(e+1,1/0);if(r.getAll){var a=r.getAll(s);return new Promise(function(u,f){a.onerror=function(h){return f(h)},a.onsuccess=function(h){u(h.target.result)}})}function o(){try{return s=IDBKeyRange.bound(e+1,1/0),r.openCursor(s)}catch{return r.openCursor()}}return new Promise(function(u,f){var h=o();h.onerror=function(d){return f(d)},h.onsuccess=function(d){var m=d.target.result;m?m.value.id<e+1?m.continue(e+1):(i.push(m.value),m.continue()):(nC(n),u(i))}})}function kH(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(Rl,"readwrite",Ew),r=n.objectStore(Rl);return Promise.all(e.map(function(i){var s=r.delete(i);return new Promise(function(a){s.onsuccess=function(){return a()}})}))}function TH(t,e){var n=Date.now()-e,r=t.transaction(Rl,"readonly",Ew),i=r.objectStore(Rl),s=[];return new Promise(function(a){i.openCursor().onsuccess=function(o){var u=o.target.result;if(u){var f=u.value;f.time<n?(s.push(f),u.continue()):(nC(r),a(s))}else a(s)}})}function EH(t){return TH(t.db,t.options.idb.ttl).then(function(e){return kH(t,e.map(function(n){return n.id}))})}function AH(t,e){return e=tC(e),wH(t).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:iO(),eMIs:new P5(e.idb.ttl*2),writeBlockPromise:Sl,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},$5(r),r})}function $5(t){t.closed||M5(t).then(function(){return Vc(t.options.idb.fallbackInterval)}).then(function(){return $5(t)})}function CH(t,e){return!(t.uuid===e.uuid||e.eMIs.has(t.id)||t.data.time<e.messagesCallbackTime)}function M5(t){return t.closed||!t.messagesCallback?Sl:xH(t.db,t.lastCursorId).then(function(e){var n=e.filter(function(r){return!!r}).map(function(r){return r.id>t.lastCursorId&&(t.lastCursorId=r.id),r}).filter(function(r){return CH(r,t)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){t.messagesCallback&&(t.eMIs.add(r.id),t.messagesCallback(r.data))}),Sl})}function PH(t){t.closed=!0,t.db.close()}function RH(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){return SH(t.db,t.uuid,e)}).then(function(){oH(0,10)===0&&EH(t)}),t.writeBlockPromise}function $H(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,M5(t)}function MH(){return!!R5()}function IH(t){return t.idb.fallbackInterval*2}var DH={create:AH,close:PH,onMessage:$H,postMessage:RH,canBeUsed:MH,type:_H,averageResponseTime:IH,microSeconds:vH},QH=sO,NH="pubkey.broadcastChannel-",LH="localstorage";function I5(){var t;if(typeof window>"u")return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return t}function D5(t){return NH+t}function jH(t,e){return new Promise(function(n){Vc().then(function(){var r=D5(t.channelName),i={token:iO(),time:Date.now(),data:e,uuid:t.uuid},s=JSON.stringify(i);I5().setItem(r,s);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=s,window.dispatchEvent(a),n()})})}function BH(t,e){var n=D5(t),r=function(s){s.key===n&&e(JSON.parse(s.newValue))};return window.addEventListener("storage",r),r}function zH(t){window.removeEventListener("storage",t)}function ZH(t,e){if(e=tC(e),!Q5())throw new Error("BroadcastChannel: localstorage cannot be used");var n=iO(),r=new P5(e.localstorage.removeTimeout),i={channelName:t,uuid:n,eMIs:r};return i.listener=BH(t,function(s){i.messagesCallback&&s.uuid!==n&&(!s.token||r.has(s.token)||s.data.time&&s.data.time<i.messagesCallbackTime||(r.add(s.token),i.messagesCallback(s.data)))}),i}function UH(t){zH(t.listener)}function qH(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e}function Q5(){var t=I5();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch{return!1}return!0}function VH(){var t=120,e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?t*2:t}var XH={create:ZH,close:UH,onMessage:qH,postMessage:jH,canBeUsed:Q5,type:LH,averageResponseTime:VH,microSeconds:QH},N5=sO,FH="simulate",rC=new Set;function YH(t){var e={time:N5(),name:t,messagesCallback:null};return rC.add(e),e}function WH(t){rC.delete(t)}var L5=5;function GH(t,e){return new Promise(function(n){return setTimeout(function(){var r=Array.from(rC);r.forEach(function(i){i.name===t.name&&i!==t&&i.messagesCallback&&i.time<e.time&&i.messagesCallback(e)}),n()},L5)})}function KH(t,e){t.messagesCallback=e}function HH(){return!0}function JH(){return L5}var eJ={create:YH,close:WH,onMessage:KH,postMessage:GH,canBeUsed:HH,type:FH,averageResponseTime:JH,microSeconds:N5},pI=[OH,DH,XH];function tJ(t){var e=[].concat(t.methods,pI).filter(Boolean);if(t.type){if(t.type==="simulate")return eJ;var n=e.find(function(i){return i.type===t.type});if(n)return n;throw new Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(i){return i.type!=="idb"}));var r=e.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(pI.map(function(i){return i.type})))}var j5=new Set,nJ=0,Aw=function(e,n){this.id=nJ++,j5.add(this),this.name=e,this.options=tC(n),this.method=tJ(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,rJ(this)};Aw._pubkey=!0;Aw.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return mI(this,"message",e)},postInternal:function(e){return mI(this,"internal",e)},set onmessage(t){var e=this.method.microSeconds(),n={time:e,fn:t};OI(this,"message",this._onML),t&&typeof t=="function"?(this._onML=n,gI(this,"message",n)):this._onML=null},addEventListener:function(e,n){var r=this.method.microSeconds(),i={time:r,fn:n};gI(this,e,i)},removeEventListener:function(e,n){var r=this._addEL[e].find(function(i){return i.fn===n});OI(this,e,r)},close:function(){var e=this;if(!this.closed){j5.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Sl;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(r){return r()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function mI(t,e,n){var r=t.method.microSeconds(),i={time:r,type:e,data:n},s=t._prepP?t._prepP:Sl;return s.then(function(){var a=t.method.postMessage(t._state,i);return t._uMP.add(a),a.catch().then(function(){return t._uMP.delete(a)}),a})}function rJ(t){var e=t.method.create(t.name,t.options);sH(e)?(t._prepP=e,e.then(function(n){t._state=n})):t._state=e}function B5(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function gI(t,e,n){t._addEL[e].push(n),iJ(t)}function OI(t,e,n){t._addEL[e]=t._addEL[e].filter(function(r){return r!==n}),sJ(t)}function iJ(t){if(!t._iL&&B5(t)){var e=function(i){t._addEL[i.type].forEach(function(s){i.time>=s.time&&s.fn(i.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}function sJ(t){if(t._iL&&!B5(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}function aJ(t){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var e=self.close.bind(self);self.close=function(){return t(),e()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){t()},!0),window.addEventListener("unload",function(){t()},!0)}}function oJ(t){process.on("exit",function(){return t()}),process.on("beforeExit",function(){return t().then(function(){return process.exit()})}),process.on("SIGINT",function(){return t().then(function(){return process.exit()})}),process.on("uncaughtException",function(e){return t().then(function(){console.trace(e),process.exit(101)})})}var lJ=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",uJ=lJ?oJ:aJ,Cm=new Set,yI=!1;function cJ(){yI||(yI=!0,uJ(hJ))}function fJ(t){if(cJ(),typeof t!="function")throw new Error("Listener is no function");Cm.add(t);var e={remove:function(){return Cm.delete(t)},run:function(){return Cm.delete(t),t()}};return e}function hJ(){var t=[];return Cm.forEach(function(e){t.push(e()),Cm.delete(e)}),Promise.all(t)}function rf(t,e){var n={context:"leader",action:e,token:t.token};return t.broadcastChannel.postInternal(n)}function z5(t){t.isLeader=!0,t._hasLeader=!0;var e=fJ(function(){return t.die()});t._unl.push(e);var n=function(i){i.context==="leader"&&i.action==="apply"&&rf(t,"tell"),i.context==="leader"&&i.action==="tell"&&!t._dpLC&&(t._dpLC=!0,t._dpL(),rf(t,"tell"))};return t.broadcastChannel.addEventListener("internal",n),t._lstns.push(n),rf(t,"tell")}var Z5=function(e,n){var r=this;this.broadcastChannel=e,e._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=iO(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name};Z5.prototype={hasLeader:function(){var e=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===e.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){e._wKMC.res=r,e._wKMC.rej=i});this._wLMP=new Promise(function(r,i){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},function(){return e._wKMC.c=void 0,z5(e),r(),n}).catch(function(s){e._wKMC.rej&&e._wKMC.rej(s),i(s)})})}return this._wLMP},set onduplicate(t){},die:function(){var e=this;return this._lstns.forEach(function(n){return e.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),rf(this,"death")}};var U5=function(e,n){var r=this;this.broadcastChannel=e,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=iO(),this._aplQ=Sl,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};U5.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var n=this;if(this.isLeader)return Vc(0,!0);if(this.isDead)return Vc(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return aH;var s=!1,a,o=new Promise(function(h){a=function(){s=!0,h()}}),u=function(d){d.context==="leader"&&d.token!=n.token&&(d.action==="apply"&&d.token>n.token&&a(),d.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",u);var f=e?n._options.responseTime*4:n._options.responseTime;return rf(n,"apply").then(function(){return Promise.race([Vc(f),o.then(function(){return Promise.reject(new Error)})])}).then(function(){return rf(n,"apply")}).then(function(){return Promise.race([Vc(f),o.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",u),s?!1:z5(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=dJ(this)),this._aLP},set onduplicate(t){this._dpL=t},die:function(){var e=this;return this._lstns.forEach(function(n){return e.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,rf(this,"death")}};function dJ(t){return t.isLeader?Sl:new Promise(function(e){var n=!1;function r(){n||(n=!0,t.broadcastChannel.removeEventListener("internal",s),e(!0))}t.applyOnce().then(function(){t.isLeader&&r()});var i=function(){return Vc(t._options.fallbackInterval).then(function(){if(!(t.isDead||n))if(t.isLeader)r();else return t.applyOnce(!0).then(function(){t.isLeader?r():i()})})};i();var s=function(o){o.context==="leader"&&o.action==="death"&&(t._hasLeader=!1,t.applyOnce().then(function(){t.isLeader&&r()}))};t.broadcastChannel.addEventListener("internal",s),t._lstns.push(s)})}function pJ(t,e){return t||(t={}),t=JSON.parse(JSON.stringify(t)),t.fallbackInterval||(t.fallbackInterval=3e3),t.responseTime||(t.responseTime=e.method.averageResponseTime(e.options)),t}function mJ(t,e){if(t._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");e=pJ(e,t);var n=lH()?new Z5(t,e):new U5(t,e);return t._befC.push(function(){return n.die()}),t._leaderElector=n,n}var h_=new Map;function gJ(t,e,n,r){var i=h_.get(e);return i||(i={bc:new Aw(["RxDB:",t,n].join("|")),refs:new Set},h_.set(e,i)),i.refs.add(r),i.bc}function vI(t,e){var n=h_.get(t);if(n&&(n.refs.delete(e),n.refs.size===0))return h_.delete(t),n.bc.close()}function OJ(t,e,n,r){if(e.multiInstance){var i=gJ(t,e.databaseInstanceToken,n.databaseName,n),s=new ga,a=m=>{m.storageName===t&&m.databaseName===e.databaseName&&m.collectionName===e.collectionName&&m.version===e.schema.version&&s.next(m.eventBulk)};i.addEventListener("message",a);var o=n.changeStream(),u=!1,f=o.subscribe(m=>{u||i.postMessage({storageName:t,databaseName:e.databaseName,collectionName:e.collectionName,version:e.schema.version,eventBulk:m})});n.changeStream=function(){return s.asObservable().pipe(jY(o))};var h=n.close.bind(n);n.close=async function(){return u=!0,f.unsubscribe(),i.removeEventListener("message",a),await vI(e.databaseInstanceToken,n),h()};var d=n.remove.bind(n);n.remove=async function(){return u=!0,f.unsubscribe(),i.removeEventListener("message",a),await vI(e.databaseInstanceToken,n),d()}}}var yJ=new Map;function vJ(t,e){var n=Hs(yJ,e,()=>new Map);function r(i){return Hs(n,JSON.stringify(i),()=>t(i))}return i=>Object.assign({},i.storage,{name:"validate-"+e+"-"+i.storage.name,async createStorageInstance(s){var a=await i.storage.createStorageInstance(s),o=xs(s.schema.primaryKey),u;PF(()=>u=r(s.schema));var f=a.bulkWrite.bind(a);return a.bulkWrite=(h,d)=>{u||(u=r(s.schema));var m=[],O=[];h.forEach(v=>{var w=v.document[o],k=u(v.document);k.length>0?m.push({status:422,isError:!0,documentId:w,validationErrors:k,schema:a.schema,writeRow:v}):O.push(v)});var y=O.length>0?f(O,d):Promise.resolve({error:[],success:[]});return y.then(v=>(m.forEach(w=>{v.error.push(w)}),v))},a}})}var Pb={exports:{}},bJ=Pb.exports,bI;function _J(){return bI||(bI=1,(function(t,e){(function(n,r){t.exports=r()})(bJ,function(){var n=function(b,S){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,P){E.__proto__=P}||function(E,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(E[D]=P[D])})(b,S)},r=function(){return(r=Object.assign||function(b){for(var S,E=1,P=arguments.length;E<P;E++)for(var D in S=arguments[E])Object.prototype.hasOwnProperty.call(S,D)&&(b[D]=S[D]);return b}).apply(this,arguments)};function i(b,S,E){for(var P,D=0,L=S.length;D<L;D++)!P&&D in S||((P=P||Array.prototype.slice.call(S,0,D))[D]=S[D]);return b.concat(P||Array.prototype.slice.call(S))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yl,a=Object.keys,o=Array.isArray;function u(b,S){return typeof S!="object"||a(S).forEach(function(E){b[E]=S[E]}),b}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var f=Object.getPrototypeOf,h={}.hasOwnProperty;function d(b,S){return h.call(b,S)}function m(b,S){typeof S=="function"&&(S=S(f(b))),(typeof Reflect>"u"?a:Reflect.ownKeys)(S).forEach(function(E){y(b,E,S[E])})}var O=Object.defineProperty;function y(b,S,E,P){O(b,S,u(E&&d(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},P))}function v(b){return{from:function(S){return b.prototype=Object.create(S.prototype),y(b.prototype,"constructor",b),{extend:m.bind(null,b.prototype)}}}}var w=Object.getOwnPropertyDescriptor,k=[].slice;function T(b,S,E){return k.call(b,S,E)}function A(b,S){return S(b)}function C(b){if(!b)throw new Error("Assertion Failed")}function I(b){s.setImmediate?setImmediate(b):setTimeout(b,0)}function Q(b,S){if(typeof S=="string"&&d(b,S))return b[S];if(!S)return b;if(typeof S!="string"){for(var E=[],P=0,D=S.length;P<D;++P){var L=Q(b,S[P]);E.push(L)}return E}var Z=S.indexOf(".");if(Z!==-1){var V=b[S.substr(0,Z)];return V==null?void 0:Q(V,S.substr(Z+1))}}function N(b,S,E){if(b&&S!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof S!="string"&&"length"in S){C(typeof E!="string"&&"length"in E);for(var P=0,D=S.length;P<D;++P)N(b,S[P],E[P])}else{var L,Z,V=S.indexOf(".");V!==-1?(L=S.substr(0,V),(Z=S.substr(V+1))===""?E===void 0?o(b)&&!isNaN(parseInt(L))?b.splice(L,1):delete b[L]:b[L]=E:N(V=!(V=b[L])||!d(b,L)?b[L]={}:V,Z,E)):E===void 0?o(b)&&!isNaN(parseInt(S))?b.splice(S,1):delete b[S]:b[S]=E}}function j(b){var S,E={};for(S in b)d(b,S)&&(E[S]=b[S]);return E}var q=[].concat;function oe(b){return q.apply([],b)}var Bi="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(S){return S+b+"Array"})}))).filter(function(b){return s[b]}),we=new Set(Bi.map(function(b){return s[b]})),K=null;function Ae(b){return K=new WeakMap,b=(function S(E){if(!E||typeof E!="object")return E;var P=K.get(E);if(P)return P;if(o(E)){P=[],K.set(E,P);for(var D=0,L=E.length;D<L;++D)P.push(S(E[D]))}else if(we.has(E.constructor))P=E;else{var Z,V=f(E);for(Z in P=V===Object.prototype?{}:Object.create(V),K.set(E,P),E)d(E,Z)&&(P[Z]=S(E[Z]))}return P})(b),K=null,b}var Ee={}.toString;function Be(b){return Ee.call(b).slice(8,-1)}var G=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ye=typeof G=="symbol"?function(b){var S;return b!=null&&(S=b[G])&&S.apply(b)}:function(){return null};function Se(b,S){return S=b.indexOf(S),0<=S&&b.splice(S,1),0<=S}var Te={};function he(b){var S,E,P,D;if(arguments.length===1){if(o(b))return b.slice();if(this===Te&&typeof b=="string")return[b];if(D=ye(b)){for(E=[];!(P=D.next()).done;)E.push(P.value);return E}if(b==null)return[b];if(typeof(S=b.length)!="number")return[b];for(E=new Array(S);S--;)E[S]=b[S];return E}for(S=arguments.length,E=new Array(S);S--;)E[S]=arguments[S];return E}var z=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Tt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ci=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tt),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(b,S){this.name=b,this.message=S}function Pe(b,S){return b+". Errors: "+Object.keys(S).map(function(E){return S[E].toString()}).filter(function(E,P,D){return D.indexOf(E)===P}).join(`
`)}function De(b,S,E,P){this.failures=S,this.failedKeys=P,this.successCount=E,this.message=Pe(b,S)}function tt(b,S){this.name="BulkError",this.failures=Object.keys(S).map(function(E){return S[E]}),this.failuresByPos=S,this.message=Pe(b,this.failures)}v(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(De).from(ge),v(tt).from(ge);var it=Ci.reduce(function(b,S){return b[S]=S+"Error",b},{}),ut=ge,qe=Ci.reduce(function(b,S){var E=S+"Error";function P(D,L){this.name=E,D?typeof D=="string"?(this.message="".concat(D).concat(L?`
 `+L:""),this.inner=L||null):typeof D=="object"&&(this.message="".concat(D.name," ").concat(D.message),this.inner=D):(this.message=ne[S]||E,this.inner=null)}return v(P).from(ut),b[S]=P,b},{});qe.Syntax=SyntaxError,qe.Type=TypeError,qe.Range=RangeError;var Cn=Tt.reduce(function(b,S){return b[S+"Error"]=qe[S],b},{}),mr=Ci.reduce(function(b,S){return["Syntax","Type","Range"].indexOf(S)===-1&&(b[S+"Error"]=qe[S]),b},{});function yt(){}function rn(b){return b}function ir(b,S){return b==null||b===rn?S:function(E){return S(b(E))}}function sr(b,S){return function(){b.apply(this,arguments),S.apply(this,arguments)}}function Ts(b,S){return b===yt?S:function(){var E=b.apply(this,arguments);E!==void 0&&(arguments[0]=E);var P=this.onsuccess,D=this.onerror;this.onsuccess=null,this.onerror=null;var L=S.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?sr(P,this.onsuccess):P),D&&(this.onerror=this.onerror?sr(D,this.onerror):D),L!==void 0?L:E}}function X(b,S){return b===yt?S:function(){b.apply(this,arguments);var E=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,S.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?sr(E,this.onsuccess):E),P&&(this.onerror=this.onerror?sr(P,this.onerror):P)}}function W(b,S){return b===yt?S:function(E){var P=b.apply(this,arguments);u(E,P);var D=this.onsuccess,L=this.onerror;return this.onsuccess=null,this.onerror=null,E=S.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?sr(D,this.onsuccess):D),L&&(this.onerror=this.onerror?sr(L,this.onerror):L),P===void 0?E===void 0?void 0:E:u(P,E)}}function ve(b,S){return b===yt?S:function(){return S.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function Ue(b,S){return b===yt?S:function(){var E=b.apply(this,arguments);if(E&&typeof E.then=="function"){for(var P=this,D=arguments.length,L=new Array(D);D--;)L[D]=arguments[D];return E.then(function(){return S.apply(P,L)})}return S.apply(this,arguments)}}mr.ModifyError=De,mr.DexieError=ge,mr.BulkError=tt;var Ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ze(b){Ne=b}var ft={},at=100,Bi=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,f(b),b];var S=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[S,f(S),b]})(),Tt=Bi[0],Ci=Bi[1],Bi=Bi[2],Ci=Ci&&Ci.then,Mt=Tt&&Tt.constructor,un=!!Bi,Pn=function(b,S){de.push([b,S]),Rn&&(queueMicrotask(Xo),Rn=!1)},ar=!0,Rn=!0,Pr=[],qr=[],Gn=rn,Jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:yt,pgp:!1,env:{},finalize:yt},nt=Jt,de=[],ze=0,dt=[];function Le(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var S=this._PSD=nt;if(typeof b!="function"){if(b!==ft)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Di(this,this._value))}this._state=null,this._value=null,++S.ref,(function E(P,D){try{D(function(L){if(P._state===null){if(L===P)throw new TypeError("A promise cannot be resolved with itself.");var Z=P._lib&&Qi();L&&typeof L.then=="function"?E(P,function(V,J){L instanceof Le?L._then(V,J):L.then(V,J)}):(P._state=!0,P._value=L,Ti(P)),Z&&ei()}},Di.bind(null,P))}catch(L){Di(P,L)}})(this,b)}var Vr={get:function(){var b=nt,S=ui;function E(P,D){var L=this,Z=!b.global&&(b!==nt||S!==ui),V=Z&&!xn(),J=new Le(function(te,le){Ei(L,new li(aa(P,b,Z,V),aa(D,b,Z,V),te,le,b))});return this._consoleTask&&(J._consoleTask=this._consoleTask),J}return E.prototype=ft,E},set:function(b){y(this,"then",b&&b.prototype===ft?Vr:{get:function(){return b},set:Vr.set})}};function li(b,S,E,P,D){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof S=="function"?S:null,this.resolve=E,this.reject=P,this.psd=D}function Di(b,S){var E,P;qr.push(S),b._state===null&&(E=b._lib&&Qi(),S=Gn(S),b._state=!1,b._value=S,P=b,Pr.some(function(D){return D._value===P._value})||Pr.push(P),Ti(b),E&&ei())}function Ti(b){var S=b._listeners;b._listeners=[];for(var E=0,P=S.length;E<P;++E)Ei(b,S[E]);var D=b._PSD;--D.ref||D.finalize(),ze===0&&(++ze,Pn(function(){--ze==0&&As()},[]))}function Ei(b,S){if(b._state!==null){var E=b._state?S.onFulfilled:S.onRejected;if(E===null)return(b._state?S.resolve:S.reject)(b._value);++S.psd.ref,++ze,Pn(Es,[E,b,S])}else b._listeners.push(S)}function Es(b,S,E){try{var P,D=S._value;!S._state&&qr.length&&(qr=[]),P=Ne&&S._consoleTask?S._consoleTask.run(function(){return b(D)}):b(D),S._state||qr.indexOf(D)!==-1||(function(L){for(var Z=Pr.length;Z;)if(Pr[--Z]._value===L._value)return Pr.splice(Z,1)})(S),E.resolve(P)}catch(L){E.reject(L)}finally{--ze==0&&As(),--E.psd.ref||E.psd.finalize()}}function Xo(){as(Jt,function(){Qi()&&ei()})}function Qi(){var b=ar;return Rn=ar=!1,b}function ei(){var b,S,E;do for(;0<de.length;)for(b=de,de=[],E=b.length,S=0;S<E;++S){var P=b[S];P[0].apply(null,P[1])}while(0<de.length);Rn=ar=!0}function As(){var b=Pr;Pr=[],b.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var S=dt.slice(0),E=S.length;E;)S[--E]()}function so(b){return new Le(ft,!1,b)}function sn(b,S){var E=nt;return function(){var P=Qi(),D=nt;try{return ss(E,!0),b.apply(this,arguments)}catch(L){S&&S(L)}finally{ss(D,!1),P&&ei()}}}m(Le.prototype,{then:Vr,_then:function(b,S){Ei(this,new li(null,null,b,S,nt))},catch:function(b){if(arguments.length===1)return this.then(null,b);var S=b,E=arguments[1];return typeof S=="function"?this.then(null,function(P){return(P instanceof S?E:so)(P)}):this.then(null,function(P){return(P&&P.name===S?E:so)(P)})},finally:function(b){return this.then(function(S){return Le.resolve(b()).then(function(){return S})},function(S){return Le.resolve(b()).then(function(){return so(S)})})},timeout:function(b,S){var E=this;return b<1/0?new Le(function(P,D){var L=setTimeout(function(){return D(new qe.Timeout(S))},b);E.then(P,D).finally(clearTimeout.bind(null,L))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),Jt.env=ql(),m(Le,{all:function(){var b=he.apply(null,arguments).map(Ni);return new Le(function(S,E){b.length===0&&S([]);var P=b.length;b.forEach(function(D,L){return Le.resolve(D).then(function(Z){b[L]=Z,--P||S(b)},E)})})},resolve:function(b){return b instanceof Le?b:b&&typeof b.then=="function"?new Le(function(S,E){b.then(S,E)}):new Le(ft,!0,b)},reject:so,race:function(){var b=he.apply(null,arguments).map(Ni);return new Le(function(S,E){b.map(function(P){return Le.resolve(P).then(S,E)})})},PSD:{get:function(){return nt},set:function(b){return nt=b}},totalEchoes:{get:function(){return ui}},newPSD:gr,usePSD:as,scheduler:{get:function(){return Pn},set:function(b){Pn=b}},rejectionMapper:{get:function(){return Gn},set:function(b){Gn=b}},follow:function(b,S){return new Le(function(E,P){return gr(function(D,L){var Z=nt;Z.unhandleds=[],Z.onunhandled=L,Z.finalize=sr(function(){var V,J=this;V=function(){J.unhandleds.length===0?D():L(J.unhandleds[0])},dt.push(function te(){V(),dt.splice(dt.indexOf(te),1)}),++ze,Pn(function(){--ze==0&&As()},[])},Z.finalize),b()},S,E,P)})}}),Mt&&(Mt.allSettled&&y(Le,"allSettled",function(){var b=he.apply(null,arguments).map(Ni);return new Le(function(S){b.length===0&&S([]);var E=b.length,P=new Array(E);b.forEach(function(D,L){return Le.resolve(D).then(function(Z){return P[L]={status:"fulfilled",value:Z}},function(Z){return P[L]={status:"rejected",reason:Z}}).then(function(){return--E||S(P)})})})}),Mt.any&&typeof AggregateError<"u"&&y(Le,"any",function(){var b=he.apply(null,arguments).map(Ni);return new Le(function(S,E){b.length===0&&E(new AggregateError([]));var P=b.length,D=new Array(P);b.forEach(function(L,Z){return Le.resolve(L).then(function(V){return S(V)},function(V){D[Z]=V,--P||E(new AggregateError(D))})})})}),Mt.withResolvers&&(Le.withResolvers=Mt.withResolvers));var jn={awaits:0,echoes:0,id:0},Zl=0,rs=[],is=0,ui=0,Ul=0;function gr(b,S,E,P){var D=nt,L=Object.create(D);return L.parent=D,L.ref=0,L.global=!1,L.id=++Ul,Jt.env,L.env=un?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject}:{},S&&u(L,S),++D.ref,L.finalize=function(){--this.parent.ref||this.parent.finalize()},P=as(L,b,E,P),L.ref===0&&L.finalize(),P}function vn(){return jn.id||(jn.id=++Zl),++jn.awaits,jn.echoes+=at,jn.id}function xn(){return!!jn.awaits&&(--jn.awaits==0&&(jn.id=0),jn.echoes=jn.awaits*at,!0)}function Ni(b){return jn.echoes&&b&&b.constructor===Mt?(vn(),b.then(function(S){return xn(),S},function(S){return xn(),Vt(S)})):b}function ci(){var b=rs[rs.length-1];rs.pop(),ss(b,!1)}function ss(b,S){var E,P=nt;(S?!jn.echoes||is++&&b===nt:!is||--is&&b===nt)||queueMicrotask(S?(function(D){++ui,jn.echoes&&--jn.echoes!=0||(jn.echoes=jn.awaits=jn.id=0),rs.push(nt),ss(D,!0)}).bind(null,b):ci),b!==nt&&(nt=b,P===Jt&&(Jt.env=ql()),un&&(E=Jt.env.Promise,S=b.env,(P.global||b.global)&&(Object.defineProperty(s,"Promise",S.PromiseProp),E.all=S.all,E.race=S.race,E.resolve=S.resolve,E.reject=S.reject,S.allSettled&&(E.allSettled=S.allSettled),S.any&&(E.any=S.any))))}function ql(){var b=s.Promise;return un?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function as(b,S,E,P,D){var L=nt;try{return ss(b,!0),S(E,P,D)}finally{ss(L,!1)}}function aa(b,S,E,P){return typeof b!="function"?b:function(){var D=nt;E&&vn(),ss(S,!0);try{return b.apply(this,arguments)}finally{ss(D,!1),P&&queueMicrotask(xn)}}}function Ma(b){Promise===Mt&&jn.echoes===0?is===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Ci).indexOf("[native code]")===-1&&(vn=xn=yt);var Vt=Le.reject,Bn="",Qe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Cs="String expected.",hn=[],ti="__dbnames",Rr="readonly",Li="readwrite";function ni(b,S){return b?S?function(){return b.apply(this,arguments)&&S.apply(this,arguments)}:b:S}var os={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qn(b){return typeof b!="string"||/\./.test(b)?function(S){return S}:function(S){return S[b]===void 0&&b in S&&delete(S=Ae(S))[b],S}}function ao(){throw qe.Type()}function Pt(b,S){try{var E=ls(b),P=ls(S);if(E!==P)return E==="Array"?1:P==="Array"?-1:E==="binary"?1:P==="binary"?-1:E==="string"?1:P==="string"?-1:E==="Date"?1:P!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return S<b?1:b<S?-1:0;case"binary":return(function(D,L){for(var Z=D.length,V=L.length,J=Z<V?Z:V,te=0;te<J;++te)if(D[te]!==L[te])return D[te]<L[te]?-1:1;return Z===V?0:Z<V?-1:1})(ji(b),ji(S));case"Array":return(function(D,L){for(var Z=D.length,V=L.length,J=Z<V?Z:V,te=0;te<J;++te){var le=Pt(D[te],L[te]);if(le!==0)return le}return Z===V?0:Z<V?-1:1})(b,S)}}catch{}return NaN}function ls(b){var S=typeof b;return S!="object"?S:ArrayBuffer.isView(b)?"binary":(b=Be(b),b==="ArrayBuffer"?"binary":b)}function ji(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}var Or=(Dt.prototype._trans=function(b,S,E){var P=this._tx||nt.trans,D=this.name,L=Ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function Z(te,le,F){if(!F.schema[D])throw new qe.NotFound("Table "+D+" not part of transaction");return S(F.idbtrans,F)}var V=Qi();try{var J=P&&P.db._novip===this.db._novip?P===nt.trans?P._promise(b,Z,E):gr(function(){return P._promise(b,Z,E)},{trans:P,transless:nt.transless||nt}):(function te(le,F,fe,ee){if(le.idbdb&&(le._state.openComplete||nt.letThrough||le._vip)){var ae=le._createTransaction(F,fe,le._dbSchema);try{ae.create(),le._state.PR1398_maxLoop=3}catch(ue){return ue.name===it.InvalidState&&le.isOpen()&&0<--le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),le.close({disableAutoOpen:!1}),le.open().then(function(){return te(le,F,fe,ee)})):Vt(ue)}return ae._promise(F,function(ue,ie){return gr(function(){return nt.trans=ae,ee(ue,ie,ae)})}).then(function(ue){if(F==="readwrite")try{ae.idbtrans.commit()}catch{}return F==="readonly"?ue:ae._completion.then(function(){return ue})})}if(le._state.openComplete)return Vt(new qe.DatabaseClosed(le._state.dbOpenError));if(!le._state.isBeingOpened){if(!le._state.autoOpen)return Vt(new qe.DatabaseClosed);le.open().catch(yt)}return le._state.dbReadyPromise.then(function(){return te(le,F,fe,ee)})})(this.db,b,[this.name],Z);return L&&(J._consoleTask=L,J=J.catch(function(te){return console.trace(te),Vt(te)})),J}finally{V&&ei()}},Dt.prototype.get=function(b,S){var E=this;return b&&b.constructor===Object?this.where(b).first(S):b==null?Vt(new qe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return E.core.get({trans:P,key:b}).then(function(D){return E.hook.reading.fire(D)})}).then(S)},Dt.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(o(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var S=a(b);if(S.length===1)return this.where(S[0]).equals(b[S[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&S.every(function(te){return 0<=V.keyPath.indexOf(te)})){for(var J=0;J<S.length;++J)if(S.indexOf(V.keyPath[J])===-1)return!1;return!0}return!1}).sort(function(V,J){return V.keyPath.length-J.keyPath.length})[0];if(E&&this.db._maxKey!==Bn){var L=E.keyPath.slice(0,S.length);return this.where(L).equals(L.map(function(J){return b[J]}))}!E&&Ne&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(S.join("+"),"]"));var P=this.schema.idxByName;function D(V,J){return Pt(V,J)===0}var Z=S.reduce(function(F,J){var te=F[0],le=F[1],F=P[J],fe=b[J];return[te||F,te||!F?ni(le,F&&F.multi?function(ee){return ee=Q(ee,J),o(ee)&&ee.some(function(ae){return D(fe,ae)})}:function(ee){return D(fe,Q(ee,J))}):le]},[null,null]),L=Z[0],Z=Z[1];return L?this.where(L.name).equals(b[L.keyPath]).filter(Z):E?this.filter(Z):this.where(S).equals("")},Dt.prototype.filter=function(b){return this.toCollection().and(b)},Dt.prototype.count=function(b){return this.toCollection().count(b)},Dt.prototype.offset=function(b){return this.toCollection().offset(b)},Dt.prototype.limit=function(b){return this.toCollection().limit(b)},Dt.prototype.each=function(b){return this.toCollection().each(b)},Dt.prototype.toArray=function(b){return this.toCollection().toArray(b)},Dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Dt.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,o(b)?"[".concat(b.join("+"),"]"):b))},Dt.prototype.reverse=function(){return this.toCollection().reverse()},Dt.prototype.mapToClass=function(b){var S,E=this.db,P=this.name;function D(){return S!==null&&S.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof ao&&((function(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function le(){this.constructor=J}n(J,te),J.prototype=te===null?Object.create(te):(le.prototype=te.prototype,new le)})(D,S=b),Object.defineProperty(D.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),D.prototype.table=function(){return P},b=D);for(var L=new Set,Z=b.prototype;Z;Z=f(Z))Object.getOwnPropertyNames(Z).forEach(function(J){return L.add(J)});function V(J){if(!J)return J;var te,le=Object.create(b.prototype);for(te in J)if(!L.has(te))try{le[te]=J[te]}catch{}return le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=V,this.hook("reading",V),b},Dt.prototype.defineClass=function(){return this.mapToClass(function(b){u(this,b)})},Dt.prototype.add=function(b,S){var E=this,P=this.schema.primKey,D=P.auto,L=P.keyPath,Z=b;return L&&D&&(Z=qn(L)(b)),this._trans("readwrite",function(V){return E.core.mutate({trans:V,type:"add",keys:S!=null?[S]:null,values:[Z]})}).then(function(V){return V.numFailures?Le.reject(V.failures[0]):V.lastResult}).then(function(V){if(L)try{N(b,L,V)}catch{}return V})},Dt.prototype.update=function(b,S){return typeof b!="object"||o(b)?this.where(":id").equals(b).modify(S):(b=Q(b,this.schema.primKey.keyPath),b===void 0?Vt(new qe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(S))},Dt.prototype.put=function(b,S){var E=this,P=this.schema.primKey,D=P.auto,L=P.keyPath,Z=b;return L&&D&&(Z=qn(L)(b)),this._trans("readwrite",function(V){return E.core.mutate({trans:V,type:"put",values:[Z],keys:S!=null?[S]:null})}).then(function(V){return V.numFailures?Le.reject(V.failures[0]):V.lastResult}).then(function(V){if(L)try{N(b,L,V)}catch{}return V})},Dt.prototype.delete=function(b){var S=this;return this._trans("readwrite",function(E){return S.core.mutate({trans:E,type:"delete",keys:[b]})}).then(function(E){return E.numFailures?Le.reject(E.failures[0]):void 0})},Dt.prototype.clear=function(){var b=this;return this._trans("readwrite",function(S){return b.core.mutate({trans:S,type:"deleteRange",range:os})}).then(function(S){return S.numFailures?Le.reject(S.failures[0]):void 0})},Dt.prototype.bulkGet=function(b){var S=this;return this._trans("readonly",function(E){return S.core.getMany({keys:b,trans:E}).then(function(P){return P.map(function(D){return S.hook.reading.fire(D)})})})},Dt.prototype.bulkAdd=function(b,S,E){var P=this,D=Array.isArray(S)?S:void 0,L=(E=E||(D?void 0:S))?E.allKeys:void 0;return this._trans("readwrite",function(Z){var te=P.schema.primKey,V=te.auto,te=te.keyPath;if(te&&D)throw new qe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(D&&D.length!==b.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var J=b.length,te=te&&V?b.map(qn(te)):b;return P.core.mutate({trans:Z,type:"add",keys:D,values:te,wantResults:L}).then(function(ae){var F=ae.numFailures,fe=ae.results,ee=ae.lastResult,ae=ae.failures;if(F===0)return L?fe:ee;throw new tt("".concat(P.name,".bulkAdd(): ").concat(F," of ").concat(J," operations failed"),ae)})})},Dt.prototype.bulkPut=function(b,S,E){var P=this,D=Array.isArray(S)?S:void 0,L=(E=E||(D?void 0:S))?E.allKeys:void 0;return this._trans("readwrite",function(Z){var te=P.schema.primKey,V=te.auto,te=te.keyPath;if(te&&D)throw new qe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(D&&D.length!==b.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var J=b.length,te=te&&V?b.map(qn(te)):b;return P.core.mutate({trans:Z,type:"put",keys:D,values:te,wantResults:L}).then(function(ae){var F=ae.numFailures,fe=ae.results,ee=ae.lastResult,ae=ae.failures;if(F===0)return L?fe:ee;throw new tt("".concat(P.name,".bulkPut(): ").concat(F," of ").concat(J," operations failed"),ae)})})},Dt.prototype.bulkUpdate=function(b){var S=this,E=this.core,P=b.map(function(Z){return Z.key}),D=b.map(function(Z){return Z.changes}),L=[];return this._trans("readwrite",function(Z){return E.getMany({trans:Z,keys:P,cache:"clone"}).then(function(V){var J=[],te=[];b.forEach(function(F,fe){var ee=F.key,ae=F.changes,ue=V[fe];if(ue){for(var ie=0,Oe=Object.keys(ae);ie<Oe.length;ie++){var _e=Oe[ie],xe=ae[_e];if(_e===S.schema.primKey.keyPath){if(Pt(xe,ee)!==0)throw new qe.Constraint("Cannot update primary key in bulkUpdate()")}else N(ue,_e,xe)}L.push(fe),J.push(ee),te.push(ue)}});var le=J.length;return E.mutate({trans:Z,type:"put",keys:J,values:te,updates:{keys:P,changeSpecs:D}}).then(function(F){var fe=F.numFailures,ee=F.failures;if(fe===0)return le;for(var ae=0,ue=Object.keys(ee);ae<ue.length;ae++){var ie,Oe=ue[ae],_e=L[Number(Oe)];_e!=null&&(ie=ee[Oe],delete ee[Oe],ee[_e]=ie)}throw new tt("".concat(S.name,".bulkUpdate(): ").concat(fe," of ").concat(le," operations failed"),ee)})})})},Dt.prototype.bulkDelete=function(b){var S=this,E=b.length;return this._trans("readwrite",function(P){return S.core.mutate({trans:P,type:"delete",keys:b})}).then(function(Z){var D=Z.numFailures,L=Z.lastResult,Z=Z.failures;if(D===0)return L;throw new tt("".concat(S.name,".bulkDelete(): ").concat(D," of ").concat(E," operations failed"),Z)})},Dt);function Dt(){}function oo(b){function S(Z,V){if(V){for(var J=arguments.length,te=new Array(J-1);--J;)te[J-1]=arguments[J];return E[Z].subscribe.apply(null,te),b}if(typeof Z=="string")return E[Z]}var E={};S.addEventType=L;for(var P=1,D=arguments.length;P<D;++P)L(arguments[P]);return S;function L(Z,V,J){if(typeof Z!="object"){var te;V=V||ve;var le={subscribers:[],fire:J=J||yt,subscribe:function(F){le.subscribers.indexOf(F)===-1&&(le.subscribers.push(F),le.fire=V(le.fire,F))},unsubscribe:function(F){le.subscribers=le.subscribers.filter(function(fe){return fe!==F}),le.fire=le.subscribers.reduce(V,J)}};return E[Z]=S[Z]=le}a(te=Z).forEach(function(F){var fe=te[F];if(o(fe))L(F,te[F][0],te[F][1]);else{if(fe!=="asap")throw new qe.InvalidArgument("Invalid event config");var ee=L(F,rn,function(){for(var ae=arguments.length,ue=new Array(ae);ae--;)ue[ae]=arguments[ae];ee.subscribers.forEach(function(ie){I(function(){ie.apply(null,ue)})})})}})}}function Ps(b,S){return v(S).from({prototype:b}),S}function Rs(b,S){return!(b.filter||b.algorithm||b.or)&&(S?b.justLimit:!b.replayFilter)}function Fo(b,S){b.filter=ni(b.filter,S)}function lo(b,S,E){var P=b.replayFilter;b.replayFilter=P?function(){return ni(P(),S())}:S,b.justLimit=E&&!P}function Vl(b,S){if(b.isPrimKey)return S.primaryKey;var E=S.getIndexByKeyPath(b.index);if(!E)throw new qe.Schema("KeyPath "+b.index+" on object store "+S.name+" is not indexed");return E}function fi(b,S,E){var P=Vl(b,S.schema);return S.openCursor({trans:E,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:P,range:b.range}})}function uo(b,S,E,P){var D=b.replayFilter?ni(b.filter,b.replayFilter()):b.filter;if(b.or){var L={},Z=function(V,J,te){var le,F;D&&!D(J,te,function(fe){return J.stop(fe)},function(fe){return J.fail(fe)})||((F=""+(le=J.primaryKey))=="[object ArrayBuffer]"&&(F=""+new Uint8Array(le)),d(L,F)||(L[F]=!0,S(V,J,te)))};return Promise.all([b.or._iterate(Z,E),Xl(fi(b,P,E),b.algorithm,Z,!b.keysOnly&&b.valueMapper)])}return Xl(fi(b,P,E),ni(b.algorithm,D),S,!b.keysOnly&&b.valueMapper)}function Xl(b,S,E,P){var D=sn(P?function(L,Z,V){return E(P(L),Z,V)}:E);return b.then(function(L){if(L)return L.start(function(){var Z=function(){return L.continue()};S&&!S(L,function(V){return Z=V},function(V){L.stop(V),Z=yt},function(V){L.fail(V),Z=yt})||D(L.value,L,function(V){return Z=V}),Z()})})}var Bi=Symbol(),us=(Fl.prototype.execute=function(b){if(this.add!==void 0){var S=this.add;if(o(S))return i(i([],o(b)?b:[],!0),S).sort();if(typeof S=="number")return(Number(b)||0)+S;if(typeof S=="bigint")try{return BigInt(b)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(this.remove!==void 0){var E=this.remove;if(o(E))return o(b)?b.filter(function(P){return!E.includes(P)}).sort():[];if(typeof E=="number")return Number(b)-E;if(typeof E=="bigint")try{return BigInt(b)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return S=(S=this.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof b=="string"&&b.startsWith(S)?this.replacePrefix[1]+b.substring(S.length):b},Fl);function Fl(b){Object.assign(this,b)}var Yo=(Rt.prototype._read=function(b,S){var E=this._ctx;return E.error?E.table._trans(null,Vt.bind(null,E.error)):E.table._trans("readonly",b).then(S)},Rt.prototype._write=function(b){var S=this._ctx;return S.error?S.table._trans(null,Vt.bind(null,S.error)):S.table._trans("readwrite",b,"locked")},Rt.prototype._addAlgorithm=function(b){var S=this._ctx;S.algorithm=ni(S.algorithm,b)},Rt.prototype._iterate=function(b,S){return uo(this._ctx,b,S,this._ctx.table.core)},Rt.prototype.clone=function(b){var S=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return b&&u(E,b),S._ctx=E,S},Rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rt.prototype.each=function(b){var S=this._ctx;return this._read(function(E){return uo(S,b,E,S.table.core)})},Rt.prototype.count=function(b){var S=this;return this._read(function(E){var P=S._ctx,D=P.table.core;if(Rs(P,!0))return D.count({trans:E,query:{index:Vl(P,D.schema),range:P.range}}).then(function(Z){return Math.min(Z,P.limit)});var L=0;return uo(P,function(){return++L,!1},E,D).then(function(){return L})}).then(b)},Rt.prototype.sortBy=function(b,S){var E=b.split(".").reverse(),P=E[0],D=E.length-1;function L(J,te){return te?L(J[E[te]],te-1):J[P]}var Z=this._ctx.dir==="next"?1:-1;function V(J,te){return Pt(L(J,D),L(te,D))*Z}return this.toArray(function(J){return J.sort(V)}).then(S)},Rt.prototype.toArray=function(b){var S=this;return this._read(function(E){var P=S._ctx;if(P.dir==="next"&&Rs(P,!0)&&0<P.limit){var D=P.valueMapper,L=Vl(P,P.table.core.schema);return P.table.core.query({trans:E,limit:P.limit,values:!0,query:{index:L,range:P.range}}).then(function(V){return V=V.result,D?V.map(D):V})}var Z=[];return uo(P,function(V){return Z.push(V)},E,P.table.core).then(function(){return Z})},b)},Rt.prototype.offset=function(b){var S=this._ctx;return b<=0||(S.offset+=b,Rs(S)?lo(S,function(){var E=b;return function(P,D){return E===0||(E===1?--E:D(function(){P.advance(E),E=0}),!1)}}):lo(S,function(){var E=b;return function(){return--E<0}})),this},Rt.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),lo(this._ctx,function(){var S=b;return function(E,P,D){return--S<=0&&P(D),0<=S}},!0),this},Rt.prototype.until=function(b,S){return Fo(this._ctx,function(E,P,D){return!b(E.value)||(P(D),S)}),this},Rt.prototype.first=function(b){return this.limit(1).toArray(function(S){return S[0]}).then(b)},Rt.prototype.last=function(b){return this.reverse().first(b)},Rt.prototype.filter=function(b){var S;return Fo(this._ctx,function(E){return b(E.value)}),(S=this._ctx).isMatch=ni(S.isMatch,b),this},Rt.prototype.and=function(b){return this.filter(b)},Rt.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},Rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rt.prototype.desc=function(){return this.reverse()},Rt.prototype.eachKey=function(b){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(E,P){b(P.key,P)})},Rt.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},Rt.prototype.eachPrimaryKey=function(b){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(E,P){b(P.primaryKey,P)})},Rt.prototype.keys=function(b){var S=this._ctx;S.keysOnly=!S.isMatch;var E=[];return this.each(function(P,D){E.push(D.key)}).then(function(){return E}).then(b)},Rt.prototype.primaryKeys=function(b){var S=this._ctx;if(S.dir==="next"&&Rs(S,!0)&&0<S.limit)return this._read(function(P){var D=Vl(S,S.table.core.schema);return S.table.core.query({trans:P,values:!1,limit:S.limit,query:{index:D,range:S.range}})}).then(function(P){return P.result}).then(b);S.keysOnly=!S.isMatch;var E=[];return this.each(function(P,D){E.push(D.primaryKey)}).then(function(){return E}).then(b)},Rt.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},Rt.prototype.firstKey=function(b){return this.limit(1).keys(function(S){return S[0]}).then(b)},Rt.prototype.lastKey=function(b){return this.reverse().firstKey(b)},Rt.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var S={};return Fo(this._ctx,function(D){var P=D.primaryKey.toString(),D=d(S,P);return S[P]=!0,!D}),this},Rt.prototype.modify=function(b){var S=this,E=this._ctx;return this._write(function(P){var D,L,Z;Z=typeof b=="function"?b:(D=a(b),L=D.length,function(ie){for(var Oe=!1,_e=0;_e<L;++_e){var xe=D[_e],Re=b[xe],Ve=Q(ie,xe);Re instanceof us?(N(ie,xe,Re.execute(Ve)),Oe=!0):Ve!==Re&&(N(ie,xe,Re),Oe=!0)}return Oe});var V=E.table.core,F=V.schema.primaryKey,J=F.outbound,te=F.extractKey,le=200,F=S.db._options.modifyChunkSize;F&&(le=typeof F=="object"?F[V.name]||F["*"]||200:F);function fe(ie,xe){var _e=xe.failures,xe=xe.numFailures;ae+=ie-xe;for(var Re=0,Ve=a(_e);Re<Ve.length;Re++){var He=Ve[Re];ee.push(_e[He])}}var ee=[],ae=0,ue=[];return S.clone().primaryKeys().then(function(ie){function Oe(xe){var Re=Math.min(le,ie.length-xe);return V.getMany({trans:P,keys:ie.slice(xe,xe+Re),cache:"immutable"}).then(function(Ve){for(var He=[],Fe=[],We=J?[]:null,Je=[],Ge=0;Ge<Re;++Ge){var st=Ve[Ge],_t={value:Ae(st),primKey:ie[xe+Ge]};Z.call(_t,_t.value,_t)!==!1&&(_t.value==null?Je.push(ie[xe+Ge]):J||Pt(te(st),te(_t.value))===0?(Fe.push(_t.value),J&&We.push(ie[xe+Ge])):(Je.push(ie[xe+Ge]),He.push(_t.value)))}return Promise.resolve(0<He.length&&V.mutate({trans:P,type:"add",values:He}).then(function(Qt){for(var St in Qt.failures)Je.splice(parseInt(St),1);fe(He.length,Qt)})).then(function(){return(0<Fe.length||_e&&typeof b=="object")&&V.mutate({trans:P,type:"put",keys:We,values:Fe,criteria:_e,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<xe}).then(function(Qt){return fe(Fe.length,Qt)})}).then(function(){return(0<Je.length||_e&&b===uc)&&V.mutate({trans:P,type:"delete",keys:Je,criteria:_e,isAdditionalChunk:0<xe}).then(function(Qt){return fe(Je.length,Qt)})}).then(function(){return ie.length>xe+Re&&Oe(xe+le)})})}var _e=Rs(E)&&E.limit===1/0&&(typeof b!="function"||b===uc)&&{index:E.index,range:E.range};return Oe(0).then(function(){if(0<ee.length)throw new De("Error modifying one or more objects",ee,ae,ue);return ie.length})})})},Rt.prototype.delete=function(){var b=this._ctx,S=b.range;return Rs(b)&&(b.isPrimKey||S.type===3)?this._write(function(E){var P=b.table.core.schema.primaryKey,D=S;return b.table.core.count({trans:E,query:{index:P,range:D}}).then(function(L){return b.table.core.mutate({trans:E,type:"deleteRange",range:D}).then(function(Z){var V=Z.failures;if(Z.lastResult,Z.results,Z=Z.numFailures,Z)throw new De("Could not delete some values",Object.keys(V).map(function(J){return V[J]}),L-Z);return L-Z})})}):this.modify(uc)},Rt);function Rt(){}var uc=function(b,S){return S.value=null};function xf(b,S){return b<S?-1:b===S?0:1}function $s(b,S){return S<b?-1:b===S?0:1}function Xr(b,S,E){return b=b instanceof fs?new b.Collection(b):b,b._ctx.error=new(E||TypeError)(S),b}function co(b){return new b.Collection(b,function(){return cs("")}).limit(0)}function Yl(b,S,E,P){var D,L,Z,V,J,te,le,F=E.length;if(!E.every(function(ae){return typeof ae=="string"}))return Xr(b,Cs);function fe(ae){D=ae==="next"?function(ie){return ie.toUpperCase()}:function(ie){return ie.toLowerCase()},L=ae==="next"?function(ie){return ie.toLowerCase()}:function(ie){return ie.toUpperCase()},Z=ae==="next"?xf:$s;var ue=E.map(function(ie){return{lower:L(ie),upper:D(ie)}}).sort(function(ie,Oe){return Z(ie.lower,Oe.lower)});V=ue.map(function(ie){return ie.upper}),J=ue.map(function(ie){return ie.lower}),le=(te=ae)==="next"?"":P}fe("next"),b=new b.Collection(b,function(){return zi(V[0],J[F-1]+P)}),b._ondirectionchange=function(ae){fe(ae)};var ee=0;return b._addAlgorithm(function(ae,ue,ie){var Oe=ae.key;if(typeof Oe!="string")return!1;var _e=L(Oe);if(S(_e,J,ee))return!0;for(var xe=null,Re=ee;Re<F;++Re){var Ve=(function(He,Fe,We,Je,Ge,st){for(var _t=Math.min(He.length,Je.length),Qt=-1,St=0;St<_t;++St){var Mr=Fe[St];if(Mr!==Je[St])return Ge(He[St],We[St])<0?He.substr(0,St)+We[St]+We.substr(St+1):Ge(He[St],Je[St])<0?He.substr(0,St)+Je[St]+We.substr(St+1):0<=Qt?He.substr(0,Qt)+Fe[Qt]+We.substr(Qt+1):null;Ge(He[St],Mr)<0&&(Qt=St)}return _t<Je.length&&st==="next"?He+We.substr(He.length):_t<He.length&&st==="prev"?He.substr(0,We.length):Qt<0?null:He.substr(0,Qt)+Je[Qt]+We.substr(Qt+1)})(Oe,_e,V[Re],J[Re],Z,te);Ve===null&&xe===null?ee=Re+1:(xe===null||0<Z(xe,Ve))&&(xe=Ve)}return ue(xe!==null?function(){ae.continue(xe+le)}:ie),!1}),b}function zi(b,S,E,P){return{type:2,lower:b,upper:S,lowerOpen:E,upperOpen:P}}function cs(b){return{type:1,lower:b,upper:b}}var fs=(Object.defineProperty(zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zn.prototype.between=function(b,S,E,P){E=E!==!1,P=P===!0;try{return 0<this._cmp(b,S)||this._cmp(b,S)===0&&(E||P)&&(!E||!P)?co(this):new this.Collection(this,function(){return zi(b,S,!E,!P)})}catch{return Xr(this,Qe)}},zn.prototype.equals=function(b){return b==null?Xr(this,Qe):new this.Collection(this,function(){return cs(b)})},zn.prototype.above=function(b){return b==null?Xr(this,Qe):new this.Collection(this,function(){return zi(b,void 0,!0)})},zn.prototype.aboveOrEqual=function(b){return b==null?Xr(this,Qe):new this.Collection(this,function(){return zi(b,void 0,!1)})},zn.prototype.below=function(b){return b==null?Xr(this,Qe):new this.Collection(this,function(){return zi(void 0,b,!1,!0)})},zn.prototype.belowOrEqual=function(b){return b==null?Xr(this,Qe):new this.Collection(this,function(){return zi(void 0,b)})},zn.prototype.startsWith=function(b){return typeof b!="string"?Xr(this,Cs):this.between(b,b+Bn,!0,!0)},zn.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):Yl(this,function(S,E){return S.indexOf(E[0])===0},[b],Bn)},zn.prototype.equalsIgnoreCase=function(b){return Yl(this,function(S,E){return S===E[0]},[b],"")},zn.prototype.anyOfIgnoreCase=function(){var b=he.apply(Te,arguments);return b.length===0?co(this):Yl(this,function(S,E){return E.indexOf(S)!==-1},b,"")},zn.prototype.startsWithAnyOfIgnoreCase=function(){var b=he.apply(Te,arguments);return b.length===0?co(this):Yl(this,function(S,E){return E.some(function(P){return S.indexOf(P)===0})},b,Bn)},zn.prototype.anyOf=function(){var b=this,S=he.apply(Te,arguments),E=this._cmp;try{S.sort(E)}catch{return Xr(this,Qe)}if(S.length===0)return co(this);var P=new this.Collection(this,function(){return zi(S[0],S[S.length-1])});P._ondirectionchange=function(L){E=L==="next"?b._ascending:b._descending,S.sort(E)};var D=0;return P._addAlgorithm(function(L,Z,V){for(var J=L.key;0<E(J,S[D]);)if(++D===S.length)return Z(V),!1;return E(J,S[D])===0||(Z(function(){L.continue(S[D])}),!1)}),P},zn.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zn.prototype.noneOf=function(){var b=he.apply(Te,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return Xr(this,Qe)}var S=b.reduce(function(E,P){return E?E.concat([[E[E.length-1][1],P]]):[[-1/0,P]]},null);return S.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(S,{includeLowers:!1,includeUppers:!1})},zn.prototype.inAnyRange=function(Oe,S){var E=this,P=this._cmp,D=this._ascending,L=this._descending,Z=this._min,V=this._max;if(Oe.length===0)return co(this);if(!Oe.every(function(_e){return _e[0]!==void 0&&_e[1]!==void 0&&D(_e[0],_e[1])<=0}))return Xr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qe.InvalidArgument);var J=!S||S.includeLowers!==!1,te=S&&S.includeUppers===!0,le,F=D;function fe(_e,xe){return F(_e[0],xe[0])}try{(le=Oe.reduce(function(_e,xe){for(var Re=0,Ve=_e.length;Re<Ve;++Re){var He=_e[Re];if(P(xe[0],He[1])<0&&0<P(xe[1],He[0])){He[0]=Z(He[0],xe[0]),He[1]=V(He[1],xe[1]);break}}return Re===Ve&&_e.push(xe),_e},[])).sort(fe)}catch{return Xr(this,Qe)}var ee=0,ae=te?function(_e){return 0<D(_e,le[ee][1])}:function(_e){return 0<=D(_e,le[ee][1])},ue=J?function(_e){return 0<L(_e,le[ee][0])}:function(_e){return 0<=L(_e,le[ee][0])},ie=ae,Oe=new this.Collection(this,function(){return zi(le[0][0],le[le.length-1][1],!J,!te)});return Oe._ondirectionchange=function(_e){F=_e==="next"?(ie=ae,D):(ie=ue,L),le.sort(fe)},Oe._addAlgorithm(function(_e,xe,Re){for(var Ve,He=_e.key;ie(He);)if(++ee===le.length)return xe(Re),!1;return!ae(Ve=He)&&!ue(Ve)||(E._cmp(He,le[ee][1])===0||E._cmp(He,le[ee][0])===0||xe(function(){F===D?_e.continue(le[ee][0]):_e.continue(le[ee][1])}),!1)}),Oe},zn.prototype.startsWithAnyOf=function(){var b=he.apply(Te,arguments);return b.every(function(S){return typeof S=="string"})?b.length===0?co(this):this.inAnyRange(b.map(function(S){return[S,S+Bn]})):Xr(this,"startsWithAnyOf() only works with strings")},zn);function zn(){}function Fr(b){return sn(function(S){return hi(S),b(S.target.error),!1})}function hi(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var fo="storagemutated",Ia="x-storagemutated-1",Ms=oo(null,fo),ho=(Kn.prototype._lock=function(){return C(!nt.global),++this._reculock,this._reculock!==1||nt.global||(nt.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(C(!nt.global),--this._reculock==0)for(nt.global||(nt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{as(b[1],b[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&nt.lockOwnerFor!==this},Kn.prototype.create=function(b){var S=this;if(!this.mode)return this;var E=this.db.idbdb,P=this.db._state.dbOpenError;if(C(!this.idbtrans),!b&&!E)switch(P&&P.name){case"DatabaseClosedError":throw new qe.DatabaseClosed(P);case"MissingAPIError":throw new qe.MissingAPI(P.message,P);default:throw new qe.OpenFailed(P)}if(!this.active)throw new qe.TransactionInactive;return C(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sn(function(D){hi(D),S._reject(b.error)}),b.onabort=sn(function(D){hi(D),S.active&&S._reject(new qe.Abort(b.error)),S.active=!1,S.on("abort").fire(D)}),b.oncomplete=sn(function(){S.active=!1,S._resolve(),"mutatedParts"in b&&Ms.storagemutated.fire(b.mutatedParts)}),this},Kn.prototype._promise=function(b,S,E){var P=this;if(b==="readwrite"&&this.mode!=="readwrite")return Vt(new qe.ReadOnly("Transaction is readonly"));if(!this.active)return Vt(new qe.TransactionInactive);if(this._locked())return new Le(function(L,Z){P._blockedFuncs.push([function(){P._promise(b,S,E).then(L,Z)},nt])});if(E)return gr(function(){var L=new Le(function(Z,V){P._lock();var J=S(Z,V,P);J&&J.then&&J.then(Z,V)});return L.finally(function(){return P._unlock()}),L._lib=!0,L});var D=new Le(function(L,Z){var V=S(L,Z,P);V&&V.then&&V.then(L,Z)});return D._lib=!0,D},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(b){var S,E=this._root(),P=Le.resolve(b);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return P}):(E._waitingFor=P,E._waitingQueue=[],S=E.idbtrans.objectStore(E.storeNames[0]),(function L(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(S.get(-1/0).onsuccess=L)})());var D=E._waitingFor;return new Le(function(L,Z){P.then(function(V){return E._waitingQueue.push(sn(L.bind(null,V)))},function(V){return E._waitingQueue.push(sn(Z.bind(null,V)))}).finally(function(){E._waitingFor===D&&(E._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new qe.Abort))},Kn.prototype.table=function(b){var S=this._memoizedTables||(this._memoizedTables={});if(d(S,b))return S[b];var E=this.schema[b];if(!E)throw new qe.NotFound("Table "+b+" not part of transaction");return E=new this.db.Table(b,E,this),E.core=this.db.core.table(b),S[b]=E},Kn);function Kn(){}function po(b,S,E,P,D,L,Z){return{name:b,keyPath:S,unique:E,multi:P,auto:D,compound:L,src:(E&&!Z?"&":"")+(P?"*":"")+(D?"++":"")+hs(S)}}function hs(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function Zi(b,S,E){return{name:b,primKey:S,indexes:E,mappedClass:null,idxByName:(P=function(D){return[D.name,D]},E.reduce(function(D,L,Z){return Z=P(L,Z),Z&&(D[Z[0]]=Z[1]),D},{}))};var P}var Da=function(b){try{return b.only([[]]),Da=function(){return[[]]},[[]]}catch{return Da=function(){return Bn},Bn}};function mo(b){return b==null?function(){}:typeof b=="string"?(S=b).split(".").length===1?function(E){return E[S]}:function(E){return Q(E,S)}:function(E){return Q(E,b)};var S}function cc(b){return[].slice.call(b)}var U=0;function se(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function je(b,S,J){function P(ie){if(ie.type===3)return null;if(ie.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ee=ie.lower,ae=ie.upper,ue=ie.lowerOpen,ie=ie.upperOpen;return ee===void 0?ae===void 0?null:S.upperBound(ae,!!ie):ae===void 0?S.lowerBound(ee,!!ue):S.bound(ee,ae,!!ue,!!ie)}function D(fe){var ee,ae=fe.name;return{name:ae,schema:fe,mutate:function(ue){var ie=ue.trans,Oe=ue.type,_e=ue.keys,xe=ue.values,Re=ue.range;return new Promise(function(Ve,He){Ve=sn(Ve);var Fe=ie.objectStore(ae),We=Fe.keyPath==null,Je=Oe==="put"||Oe==="add";if(!Je&&Oe!=="delete"&&Oe!=="deleteRange")throw new Error("Invalid operation type: "+Oe);var Ge,st=(_e||xe||{length:1}).length;if(_e&&xe&&_e.length!==xe.length)throw new Error("Given keys array must have same length as given values array.");if(st===0)return Ve({numFailures:0,failures:{},results:[],lastResult:void 0});function _t(er){++Mr,hi(er)}var Qt=[],St=[],Mr=0;if(Oe==="deleteRange"){if(Re.type===4)return Ve({numFailures:Mr,failures:St,results:[],lastResult:void 0});Re.type===3?Qt.push(Ge=Fe.clear()):Qt.push(Ge=Fe.delete(P(Re)))}else{var We=Je?We?[xe,_e]:[xe,null]:[_e,null],Ct=We[0],yr=We[1];if(Je)for(var vr=0;vr<st;++vr)Qt.push(Ge=yr&&yr[vr]!==void 0?Fe[Oe](Ct[vr],yr[vr]):Fe[Oe](Ct[vr])),Ge.onerror=_t;else for(vr=0;vr<st;++vr)Qt.push(Ge=Fe[Oe](Ct[vr])),Ge.onerror=_t}function Hl(er){er=er.target.result,Qt.forEach(function(bo,Jl){return bo.error!=null&&(St[Jl]=bo.error)}),Ve({numFailures:Mr,failures:St,results:Oe==="delete"?_e:Qt.map(function(bo){return bo.result}),lastResult:er})}Ge.onerror=function(er){_t(er),Hl(er)},Ge.onsuccess=Hl})},getMany:function(ue){var ie=ue.trans,Oe=ue.keys;return new Promise(function(_e,xe){_e=sn(_e);for(var Re,Ve=ie.objectStore(ae),He=Oe.length,Fe=new Array(He),We=0,Je=0,Ge=function(Qt){Qt=Qt.target,Fe[Qt._pos]=Qt.result,++Je===We&&_e(Fe)},st=Fr(xe),_t=0;_t<He;++_t)Oe[_t]!=null&&((Re=Ve.get(Oe[_t]))._pos=_t,Re.onsuccess=Ge,Re.onerror=st,++We);We===0&&_e(Fe)})},get:function(ue){var ie=ue.trans,Oe=ue.key;return new Promise(function(_e,xe){_e=sn(_e);var Re=ie.objectStore(ae).get(Oe);Re.onsuccess=function(Ve){return _e(Ve.target.result)},Re.onerror=Fr(xe)})},query:(ee=te,function(ue){return new Promise(function(ie,Oe){ie=sn(ie);var _e,xe,Re,We=ue.trans,Ve=ue.values,He=ue.limit,Ge=ue.query,Fe=He===1/0?void 0:He,Je=Ge.index,Ge=Ge.range,We=We.objectStore(ae),Je=Je.isPrimaryKey?We:We.index(Je.name),Ge=P(Ge);if(He===0)return ie({result:[]});ee?((Fe=Ve?Je.getAll(Ge,Fe):Je.getAllKeys(Ge,Fe)).onsuccess=function(st){return ie({result:st.target.result})},Fe.onerror=Fr(Oe)):(_e=0,xe=!Ve&&"openKeyCursor"in Je?Je.openKeyCursor(Ge):Je.openCursor(Ge),Re=[],xe.onsuccess=function(st){var _t=xe.result;return _t?(Re.push(Ve?_t.value:_t.primaryKey),++_e===He?ie({result:Re}):void _t.continue()):ie({result:Re})},xe.onerror=Fr(Oe))})}),openCursor:function(ue){var ie=ue.trans,Oe=ue.values,_e=ue.query,xe=ue.reverse,Re=ue.unique;return new Promise(function(Ve,He){Ve=sn(Ve);var Je=_e.index,Fe=_e.range,We=ie.objectStore(ae),We=Je.isPrimaryKey?We:We.index(Je.name),Je=xe?Re?"prevunique":"prev":Re?"nextunique":"next",Ge=!Oe&&"openKeyCursor"in We?We.openKeyCursor(P(Fe),Je):We.openCursor(P(Fe),Je);Ge.onerror=Fr(He),Ge.onsuccess=sn(function(st){var _t,Qt,St,Mr,Ct=Ge.result;Ct?(Ct.___id=++U,Ct.done=!1,_t=Ct.continue.bind(Ct),Qt=(Qt=Ct.continuePrimaryKey)&&Qt.bind(Ct),St=Ct.advance.bind(Ct),Mr=function(){throw new Error("Cursor not stopped")},Ct.trans=ie,Ct.stop=Ct.continue=Ct.continuePrimaryKey=Ct.advance=function(){throw new Error("Cursor not started")},Ct.fail=sn(He),Ct.next=function(){var yr=this,vr=1;return this.start(function(){return vr--?yr.continue():yr.stop()}).then(function(){return yr})},Ct.start=function(yr){function vr(){if(Ge.result)try{yr()}catch(er){Ct.fail(er)}else Ct.done=!0,Ct.start=function(){throw new Error("Cursor behind last entry")},Ct.stop()}var Hl=new Promise(function(er,bo){er=sn(er),Ge.onerror=Fr(bo),Ct.fail=bo,Ct.stop=function(Jl){Ct.stop=Ct.continue=Ct.continuePrimaryKey=Ct.advance=Mr,er(Jl)}});return Ge.onsuccess=sn(function(er){Ge.onsuccess=vr,vr()}),Ct.continue=_t,Ct.continuePrimaryKey=Qt,Ct.advance=St,vr(),Hl},Ve(Ct)):Ve(null)},He)})},count:function(ue){var ie=ue.query,Oe=ue.trans,_e=ie.index,xe=ie.range;return new Promise(function(Re,Ve){var He=Oe.objectStore(ae),Fe=_e.isPrimaryKey?He:He.index(_e.name),He=P(xe),Fe=He?Fe.count(He):Fe.count();Fe.onsuccess=sn(function(We){return Re(We.target.result)}),Fe.onerror=Fr(Ve)})}}}var L,Z,V,le=(Z=J,V=cc((L=b).objectStoreNames),{schema:{name:L.name,tables:V.map(function(fe){return Z.objectStore(fe)}).map(function(fe){var ee=fe.keyPath,ie=fe.autoIncrement,ae=o(ee),ue={},ie={name:fe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ee==null,compound:ae,keyPath:ee,autoIncrement:ie,unique:!0,extractKey:mo(ee)},indexes:cc(fe.indexNames).map(function(Oe){return fe.index(Oe)}).map(function(Re){var _e=Re.name,xe=Re.unique,Ve=Re.multiEntry,Re=Re.keyPath,Ve={name:_e,compound:o(Re),keyPath:Re,unique:xe,multiEntry:Ve,extractKey:mo(Re)};return ue[se(Re)]=Ve}),getIndexByKeyPath:function(Oe){return ue[se(Oe)]}};return ue[":id"]=ie.primaryKey,ee!=null&&(ue[se(ee)]=ie.primaryKey),ie})},hasGetAll:0<V.length&&"getAll"in Z.objectStore(V[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),J=le.schema,te=le.hasGetAll,le=J.tables.map(D),F={};return le.forEach(function(fe){return F[fe.name]=fe}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(fe){if(!F[fe])throw new Error("Table '".concat(fe,"' not found"));return F[fe]},MIN_KEY:-1/0,MAX_KEY:Da(S),schema:J}}function Ke(b,S,E,P){var D=E.IDBKeyRange;return E.indexedDB,{dbcore:(P=je(S,D,P),b.dbcore.reduce(function(L,Z){return Z=Z.create,r(r({},L),Z(L))},P))}}function Xt(b,P){var E=P.db,P=Ke(b._middlewares,E,b._deps,P);b.core=P.dbcore,b.tables.forEach(function(D){var L=D.name;b.core.schema.tables.some(function(Z){return Z.name===L})&&(D.core=b.core.table(L),b[L]instanceof b.Table&&(b[L].core=D.core))})}function wt(b,S,E,P){E.forEach(function(D){var L=P[D];S.forEach(function(Z){var V=(function J(te,le){return w(te,le)||(te=f(te))&&J(te,le)})(Z,D);(!V||"value"in V&&V.value===void 0)&&(Z===b.Transaction.prototype||Z instanceof b.Transaction?y(Z,D,{get:function(){return this.table(D)},set:function(J){O(this,D,{value:J,writable:!0,configurable:!0,enumerable:!0})}}):Z[D]=new b.Table(D,L))})})}function en(b,S){S.forEach(function(E){for(var P in E)E[P]instanceof b.Table&&delete E[P]})}function or(b,S){return b._cfg.version-S._cfg.version}function Hn(b,S,E,P){var D=b._dbSchema;E.objectStoreNames.contains("$meta")&&!D.$meta&&(D.$meta=Zi("$meta",Ai("")[0],[]),b._storeNames.push("$meta"));var L=b._createTransaction("readwrite",b._storeNames,D);L.create(E),L._completion.catch(P);var Z=L._reject.bind(L),V=nt.transless||nt;gr(function(){return nt.trans=L,nt.transless=V,S!==0?(Xt(b,E),te=S,((J=L).storeNames.includes("$meta")?J.table("$meta").get("version").then(function(le){return le??te}):Le.resolve(te)).then(function(le){return fe=le,ee=L,ae=E,ue=[],le=(F=b)._versions,ie=F._dbSchema=Wr(0,F.idbdb,ae),(le=le.filter(function(Oe){return Oe._cfg.version>=fe})).length!==0?(le.forEach(function(Oe){ue.push(function(){var _e=ie,xe=Oe._cfg.dbschema;Ui(F,_e,ae),Ui(F,xe,ae),ie=F._dbSchema=xe;var Re=Jn(_e,xe);Re.add.forEach(function(Je){$r(ae,Je[0],Je[1].primKey,Je[1].indexes)}),Re.change.forEach(function(Je){if(Je.recreate)throw new qe.Upgrade("Not yet support for changing primary key");var Ge=ae.objectStore(Je.name);Je.add.forEach(function(st){return Yr(Ge,st)}),Je.change.forEach(function(st){Ge.deleteIndex(st.name),Yr(Ge,st)}),Je.del.forEach(function(st){return Ge.deleteIndex(st)})});var Ve=Oe._cfg.contentUpgrade;if(Ve&&Oe._cfg.version>fe){Xt(F,ae),ee._memoizedTables={};var He=j(xe);Re.del.forEach(function(Je){He[Je]=_e[Je]}),en(F,[F.Transaction.prototype]),wt(F,[F.Transaction.prototype],a(He),He),ee.schema=He;var Fe,We=z(Ve);return We&&vn(),Re=Le.follow(function(){var Je;(Fe=Ve(ee))&&We&&(Je=xn.bind(null,null),Fe.then(Je,Je))}),Fe&&typeof Fe.then=="function"?Le.resolve(Fe):Re.then(function(){return Fe})}}),ue.push(function(_e){var xe,Re,Ve=Oe._cfg.dbschema;xe=Ve,Re=_e,[].slice.call(Re.db.objectStoreNames).forEach(function(He){return xe[He]==null&&Re.db.deleteObjectStore(He)}),en(F,[F.Transaction.prototype]),wt(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),ee.schema=F._dbSchema}),ue.push(function(_e){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===Oe._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(xe){return xe!=="$meta"})):_e.objectStore("$meta").put(Oe._cfg.version,"version"))})}),(function Oe(){return ue.length?Le.resolve(ue.shift()(ee.idbtrans)).then(Oe):Le.resolve()})().then(function(){lr(ie,ae)})):Le.resolve();var F,fe,ee,ae,ue,ie}).catch(Z)):(a(D).forEach(function(le){$r(E,le,D[le].primKey,D[le].indexes)}),Xt(b,E),void Le.follow(function(){return b.on.populate.fire(L)}).catch(Z));var J,te})}function dn(b,S){lr(b._dbSchema,S),S.db.version%10!=0||S.objectStoreNames.contains("$meta")||S.db.createObjectStore("$meta").add(Math.ceil(S.db.version/10-1),"version");var E=Wr(0,b.idbdb,S);Ui(b,b._dbSchema,S);for(var P=0,D=Jn(E,b._dbSchema).change;P<D.length;P++){var L=(function(Z){if(Z.change.length||Z.recreate)return console.warn("Unable to patch indexes of table ".concat(Z.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=S.objectStore(Z.name);Z.add.forEach(function(J){Ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Z.name,".").concat(J.src)),Yr(V,J)})})(D[P]);if(typeof L=="object")return L.value}}function Jn(b,S){var E,P={del:[],add:[],change:[]};for(E in b)S[E]||P.del.push(E);for(E in S){var D=b[E],L=S[E];if(D){var Z={name:E,def:L,recreate:!1,del:[],add:[],change:[]};if(""+(D.primKey.keyPath||"")!=""+(L.primKey.keyPath||"")||D.primKey.auto!==L.primKey.auto)Z.recreate=!0,P.change.push(Z);else{var V=D.idxByName,J=L.idxByName,te=void 0;for(te in V)J[te]||Z.del.push(te);for(te in J){var le=V[te],F=J[te];le?le.src!==F.src&&Z.change.push(F):Z.add.push(F)}(0<Z.del.length||0<Z.add.length||0<Z.change.length)&&P.change.push(Z)}}else P.add.push([E,L])}return P}function $r(b,S,E,P){var D=b.db.createObjectStore(S,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return P.forEach(function(L){return Yr(D,L)}),D}function lr(b,S){a(b).forEach(function(E){S.db.objectStoreNames.contains(E)||(Ne&&console.debug("Dexie: Creating missing table",E),$r(S,E,b[E].primKey,b[E].indexes))})}function Yr(b,S){b.createIndex(S.name,S.keyPath,{unique:S.unique,multiEntry:S.multi})}function Wr(b,S,E){var P={};return T(S.objectStoreNames,0).forEach(function(D){for(var L=E.objectStore(D),Z=po(hs(te=L.keyPath),te||"",!0,!1,!!L.autoIncrement,te&&typeof te!="string",!0),V=[],J=0;J<L.indexNames.length;++J){var le=L.index(L.indexNames[J]),te=le.keyPath,le=po(le.name,te,!!le.unique,!!le.multiEntry,!1,te&&typeof te!="string",!1);V.push(le)}P[D]=Zi(D,Z,V)}),P}function Ui(b,S,E){for(var P=E.db.objectStoreNames,D=0;D<P.length;++D){var L=P[D],Z=E.objectStore(L);b._hasGetAll="getAll"in Z;for(var V=0;V<Z.indexNames.length;++V){var J=Z.indexNames[V],te=Z.index(J).keyPath,le=typeof te=="string"?te:"["+T(te).join("+")+"]";!S[L]||(te=S[L].idxByName[le])&&(te.name=J,delete S[L].idxByName[le],S[L].idxByName[J]=te)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function Ai(b){return b.split(",").map(function(S,E){var P=(S=S.trim()).replace(/([&*]|\+\+)/g,""),D=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return po(P,D||null,/\&/.test(S),/\*/.test(S),/\+\+/.test(S),o(D),E===0)})}var Qa=(Wo.prototype._parseStoresSpec=function(b,S){a(b).forEach(function(E){if(b[E]!==null){var P=Ai(b[E]),D=P.shift();if(D.unique=!0,D.multi)throw new qe.Schema("Primary key cannot be multi-valued");P.forEach(function(L){if(L.auto)throw new qe.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new qe.Schema("Index must have a name and cannot be an empty string")}),S[E]=Zi(E,D,P)}})},Wo.prototype.stores=function(E){var S=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,E):E;var E=S._versions,P={},D={};return E.forEach(function(L){u(P,L._cfg.storesSource),D=L._cfg.dbschema={},L._parseStoresSpec(P,D)}),S._dbSchema=D,en(S,[S._allTables,S,S.Transaction.prototype]),wt(S,[S._allTables,S,S.Transaction.prototype,this._cfg.tables],a(D),D),S._storeNames=a(D),this},Wo.prototype.upgrade=function(b){return this._cfg.contentUpgrade=Ue(this._cfg.contentUpgrade||yt,b),this},Wo);function Wo(){}function go(b,S){var E=b._dbNamesDB;return E||(E=b._dbNamesDB=new ds(ti,{addons:[],indexedDB:b,IDBKeyRange:S})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function Oo(b){return b&&typeof b.databases=="function"}function lp(b){return gr(function(){return nt.letThrough=!0,b()})}function kf(b){return!("from"in b)}var ri=function(b,S){if(!this){var E=new ri;return b&&"d"in b&&u(E,b),E}u(this,arguments.length?{d:1,from:b,to:1<arguments.length?S:b}:{d:0})};function fc(b,S,E){var P=Pt(S,E);if(!isNaN(P)){if(0<P)throw RangeError();if(kf(b))return u(b,{from:S,to:E,d:1});var D=b.l,P=b.r;if(Pt(E,b.from)<0)return D?fc(D,S,E):b.l={from:S,to:E,d:1,l:null,r:null},RO(b);if(0<Pt(S,b.to))return P?fc(P,S,E):b.r={from:S,to:E,d:1,l:null,r:null},RO(b);Pt(S,b.from)<0&&(b.from=S,b.l=null,b.d=P?P.d+1:1),0<Pt(E,b.to)&&(b.to=E,b.r=null,b.d=b.l?b.l.d+1:1),E=!b.r,D&&!b.l&&hc(b,D),P&&E&&hc(b,P)}}function hc(b,S){kf(S)||(function E(P,J){var L=J.from,Z=J.to,V=J.l,J=J.r;fc(P,L,Z),V&&E(P,V),J&&E(P,J)})(b,S)}function PO(b,S){var E=Wl(S),P=E.next();if(P.done)return!1;for(var D=P.value,L=Wl(b),Z=L.next(D.from),V=Z.value;!P.done&&!Z.done;){if(Pt(V.from,D.to)<=0&&0<=Pt(V.to,D.from))return!0;Pt(D.from,V.from)<0?D=(P=E.next(V.from)).value:V=(Z=L.next(D.from)).value}return!1}function Wl(b){var S=kf(b)?null:{s:0,n:b};return{next:function(E){for(var P=0<arguments.length;S;)switch(S.s){case 0:if(S.s=1,P)for(;S.n.l&&Pt(E,S.n.from)<0;)S={up:S,n:S.n.l,s:1};else for(;S.n.l;)S={up:S,n:S.n.l,s:1};case 1:if(S.s=2,!P||Pt(E,S.n.to)<=0)return{value:S.n,done:!1};case 2:if(S.n.r){S.s=3,S={up:S,n:S.n.r,s:0};continue}case 3:S=S.up}return{done:!0}}}}function RO(b){var S,E,P=(((S=b.r)===null||S===void 0?void 0:S.d)||0)-(((E=b.l)===null||E===void 0?void 0:E.d)||0),D=1<P?"r":P<-1?"l":"";D&&(S=D=="r"?"l":"r",E=r({},b),P=b[D],b.from=P.from,b.to=P.to,b[D]=P[D],E[D]=P[S],(b[S]=E).d=$O(E)),b.d=$O(b)}function $O(E){var S=E.r,E=E.l;return(S?E?Math.max(S.d,E.d):S.d:E?E.d:0)+1}function Tf(b,S){return a(S).forEach(function(E){b[E]?hc(b[E],S[E]):b[E]=(function P(D){var L,Z,V={};for(L in D)d(D,L)&&(Z=D[L],V[L]=!Z||typeof Z!="object"||we.has(Z.constructor)?Z:P(Z));return V})(S[E])}),b}function Ef(b,S){return b.all||S.all||Object.keys(b).some(function(E){return S[E]&&PO(S[E],b[E])})}m(ri.prototype,((Ci={add:function(b){return hc(this,b),this},addKey:function(b){return fc(this,b,b),this},addKeys:function(b){var S=this;return b.forEach(function(E){return fc(S,E,E)}),this},hasKey:function(b){var S=Wl(this).next(b).value;return S&&Pt(S.from,b)<=0&&0<=Pt(S.to,b)}})[G]=function(){return Wl(this)},Ci));var Go={},up={},cp=!1;function Af(b){Tf(up,b),cp||(cp=!0,setTimeout(function(){cp=!1,fp(up,!(up={}))},0))}function fp(b,S){S===void 0&&(S=!1);var E=new Set;if(b.all)for(var P=0,D=Object.values(Go);P<D.length;P++)MO(Z=D[P],b,E,S);else for(var L in b){var Z,V=/^idb\:\/\/(.*)\/(.*)\//.exec(L);V&&(L=V[1],V=V[2],(Z=Go["idb://".concat(L,"/").concat(V)])&&MO(Z,b,E,S))}E.forEach(function(J){return J()})}function MO(b,S,E,P){for(var D=[],L=0,Z=Object.entries(b.queries.query);L<Z.length;L++){for(var V=Z[L],J=V[0],te=[],le=0,F=V[1];le<F.length;le++){var fe=F[le];Ef(S,fe.obsSet)?fe.subscribers.forEach(function(ie){return E.add(ie)}):P&&te.push(fe)}P&&D.push([J,te])}if(P)for(var ee=0,ae=D;ee<ae.length;ee++){var ue=ae[ee],J=ue[0],te=ue[1];b.queries.query[J]=te}}function OS(b){var S=b._state,E=b._deps.indexedDB;if(S.isBeingOpened||b.idbdb)return S.dbReadyPromise.then(function(){return S.dbOpenError?Vt(S.dbOpenError):b});S.isBeingOpened=!0,S.dbOpenError=null,S.openComplete=!1;var P=S.openCanceller,D=Math.round(10*b.verno),L=!1;function Z(){if(S.openCanceller!==P)throw new qe.DatabaseClosed("db.open() was cancelled")}function V(){return new Le(function(fe,ee){if(Z(),!E)throw new qe.MissingAPI;var ae=b.name,ue=S.autoSchema||!D?E.open(ae):E.open(ae,D);if(!ue)throw new qe.MissingAPI;ue.onerror=Fr(ee),ue.onblocked=sn(b._fireOnBlocked),ue.onupgradeneeded=sn(function(ie){var Oe;le=ue.transaction,S.autoSchema&&!b._options.allowEmptyDB?(ue.onerror=hi,le.abort(),ue.result.close(),(Oe=E.deleteDatabase(ae)).onsuccess=Oe.onerror=sn(function(){ee(new qe.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})):(le.onerror=Fr(ee),ie=ie.oldVersion>Math.pow(2,62)?0:ie.oldVersion,F=ie<1,b.idbdb=ue.result,L&&dn(b,le),Hn(b,ie/10,le,ee))},ee),ue.onsuccess=sn(function(){le=null;var ie,Oe,_e,xe,Re,Ve=b.idbdb=ue.result,He=T(Ve.objectStoreNames);if(0<He.length)try{var Fe=Ve.transaction((xe=He).length===1?xe[0]:xe,"readonly");if(S.autoSchema)Oe=Ve,_e=Fe,(ie=b).verno=Oe.version/10,_e=ie._dbSchema=Wr(0,Oe,_e),ie._storeNames=T(Oe.objectStoreNames,0),wt(ie,[ie._allTables],a(_e),_e);else if(Ui(b,b._dbSchema,Fe),((Re=Jn(Wr(0,(Re=b).idbdb,Fe),Re._dbSchema)).add.length||Re.change.some(function(We){return We.add.length||We.change.length}))&&!L)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ve.close(),D=Ve.version+1,L=!0,fe(V());Xt(b,Fe)}catch{}hn.push(b),Ve.onversionchange=sn(function(We){S.vcFired=!0,b.on("versionchange").fire(We)}),Ve.onclose=sn(function(We){b.on("close").fire(We)}),F&&(Re=b._deps,Fe=ae,Ve=Re.indexedDB,Re=Re.IDBKeyRange,Oo(Ve)||Fe===ti||go(Ve,Re).put({name:Fe}).catch(yt)),fe()},ee)}).catch(function(fe){switch(fe?.name){case"UnknownError":if(0<S.PR1398_maxLoop)return S.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(0<D)return D=0,V()}return Le.reject(fe)})}var J,te=S.dbReadyResolve,le=null,F=!1;return Le.race([P,(typeof navigator>"u"?Le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(fe){function ee(){return indexedDB.databases().finally(fe)}J=setInterval(ee,100),ee()}).finally(function(){return clearInterval(J)}):Promise.resolve()).then(V)]).then(function(){return Z(),S.onReadyBeingFired=[],Le.resolve(lp(function(){return b.on.ready.fire(b.vip)})).then(function fe(){if(0<S.onReadyBeingFired.length){var ee=S.onReadyBeingFired.reduce(Ue,yt);return S.onReadyBeingFired=[],Le.resolve(lp(function(){return ee(b.vip)})).then(fe)}})}).finally(function(){S.openCanceller===P&&(S.onReadyBeingFired=null,S.isBeingOpened=!1)}).catch(function(fe){S.dbOpenError=fe;try{le&&le.abort()}catch{}return P===S.openCanceller&&b._close(),Vt(fe)}).finally(function(){S.openComplete=!0,te()}).then(function(){var fe;return F&&(fe={},b.tables.forEach(function(ee){ee.schema.indexes.forEach(function(ae){ae.name&&(fe["idb://".concat(b.name,"/").concat(ee.name,"/").concat(ae.name)]=new ri(-1/0,[[[]]]))}),fe["idb://".concat(b.name,"/").concat(ee.name,"/")]=fe["idb://".concat(b.name,"/").concat(ee.name,"/:dels")]=new ri(-1/0,[[[]]])}),Ms(fo).fire(fe),fp(fe,!0)),b})}function hp(b){function S(L){return b.next(L)}var E=D(S),P=D(function(L){return b.throw(L)});function D(L){return function(J){var V=L(J),J=V.value;return V.done?J:J&&typeof J.then=="function"?J.then(E,P):o(J)?Promise.all(J).then(E,P):E(J)}}return D(S)()}function Cf(b,S,E){for(var P=o(b)?b.slice():[b],D=0;D<E;++D)P.push(S);return P}var dp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return r(r({},b),{table:function(S){var E=b.table(S),P=E.schema,D={},L=[];function Z(F,fe,ee){var ae=se(F),ue=D[ae]=D[ae]||[],ie=F==null?0:typeof F=="string"?1:F.length,Oe=0<fe,Oe=r(r({},ee),{name:Oe?"".concat(ae,"(virtual-from:").concat(ee.name,")"):ee.name,lowLevelIndex:ee,isVirtual:Oe,keyTail:fe,keyLength:ie,extractKey:mo(F),unique:!Oe&&ee.unique});return ue.push(Oe),Oe.isPrimaryKey||L.push(Oe),1<ie&&Z(ie===2?F[0]:F.slice(0,ie-1),fe+1,ee),ue.sort(function(_e,xe){return _e.keyTail-xe.keyTail}),Oe}S=Z(P.primaryKey.keyPath,0,P.primaryKey),D[":id"]=[S];for(var V=0,J=P.indexes;V<J.length;V++){var te=J[V];Z(te.keyPath,0,te)}function le(F){var fe,ee=F.query.index;return ee.isVirtual?r(r({},F),{query:{index:ee.lowLevelIndex,range:(fe=F.query.range,ee=ee.keyTail,{type:fe.type===1?2:fe.type,lower:Cf(fe.lower,fe.lowerOpen?b.MAX_KEY:b.MIN_KEY,ee),lowerOpen:!0,upper:Cf(fe.upper,fe.upperOpen?b.MIN_KEY:b.MAX_KEY,ee),upperOpen:!0})}}):F}return r(r({},E),{schema:r(r({},P),{primaryKey:S,indexes:L,getIndexByKeyPath:function(F){return(F=D[se(F)])&&F[0]}}),count:function(F){return E.count(le(F))},query:function(F){return E.query(le(F))},openCursor:function(F){var fe=F.query.index,ee=fe.keyTail,ae=fe.isVirtual,ue=fe.keyLength;return ae?E.openCursor(le(F)).then(function(Oe){return Oe&&ie(Oe)}):E.openCursor(F);function ie(Oe){return Object.create(Oe,{continue:{value:function(_e){_e!=null?Oe.continue(Cf(_e,F.reverse?b.MAX_KEY:b.MIN_KEY,ee)):F.unique?Oe.continue(Oe.key.slice(0,ue).concat(F.reverse?b.MIN_KEY:b.MAX_KEY,ee)):Oe.continue()}},continuePrimaryKey:{value:function(_e,xe){Oe.continuePrimaryKey(Cf(_e,b.MAX_KEY,ee),xe)}},primaryKey:{get:function(){return Oe.primaryKey}},key:{get:function(){var _e=Oe.key;return ue===1?_e[0]:_e.slice(0,ue)}},value:{get:function(){return Oe.value}}})}}})}})}};function Ko(b,S,E,P){return E=E||{},P=P||"",a(b).forEach(function(D){var L,Z,V;d(S,D)?(L=b[D],Z=S[D],typeof L=="object"&&typeof Z=="object"&&L&&Z?(V=Be(L))!==Be(Z)?E[P+D]=S[D]:V==="Object"?Ko(L,Z,E,P+D+"."):L!==Z&&(E[P+D]=S[D]):L!==Z&&(E[P+D]=S[D])):E[P+D]=void 0}),a(S).forEach(function(D){d(b,D)||(E[P+D]=S[D])}),E}function pp(b,S){return S.type==="delete"?S.keys:S.keys||S.values.map(b.extractKey)}var IO={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return r(r({},b),{table:function(S){var E=b.table(S),P=E.schema.primaryKey;return r(r({},E),{mutate:function(D){var L=nt.trans,Z=L.table(S).hook,V=Z.deleting,J=Z.creating,te=Z.updating;switch(D.type){case"add":if(J.fire===yt)break;return L._promise("readwrite",function(){return le(D)},!0);case"put":if(J.fire===yt&&te.fire===yt)break;return L._promise("readwrite",function(){return le(D)},!0);case"delete":if(V.fire===yt)break;return L._promise("readwrite",function(){return le(D)},!0);case"deleteRange":if(V.fire===yt)break;return L._promise("readwrite",function(){return(function F(fe,ee,ae){return E.query({trans:fe,values:!1,query:{index:P,range:ee},limit:ae}).then(function(ue){var ie=ue.result;return le({type:"delete",keys:ie,trans:fe}).then(function(Oe){return 0<Oe.numFailures?Promise.reject(Oe.failures[0]):ie.length<ae?{failures:[],numFailures:0,lastResult:void 0}:F(fe,r(r({},ee),{lower:ie[ie.length-1],lowerOpen:!0}),ae)})})})(D.trans,D.range,1e4)},!0)}return E.mutate(D);function le(F){var fe,ee,ae,ue=nt.trans,ie=F.keys||pp(P,F);if(!ie)throw new Error("Keys missing");return(F=F.type==="add"||F.type==="put"?r(r({},F),{keys:ie}):r({},F)).type!=="delete"&&(F.values=i([],F.values)),F.keys&&(F.keys=i([],F.keys)),fe=E,ae=ie,((ee=F).type==="add"?Promise.resolve([]):fe.getMany({trans:ee.trans,keys:ae,cache:"immutable"})).then(function(Oe){var _e=ie.map(function(xe,Re){var Ve,He,Fe,We=Oe[Re],Je={onerror:null,onsuccess:null};return F.type==="delete"?V.fire.call(Je,xe,We,ue):F.type==="add"||We===void 0?(Ve=J.fire.call(Je,xe,F.values[Re],ue),xe==null&&Ve!=null&&(F.keys[Re]=xe=Ve,P.outbound||N(F.values[Re],P.keyPath,xe))):(Ve=Ko(We,F.values[Re]),(He=te.fire.call(Je,Ve,xe,We,ue))&&(Fe=F.values[Re],Object.keys(He).forEach(function(Ge){d(Fe,Ge)?Fe[Ge]=He[Ge]:N(Fe,Ge,He[Ge])}))),Je});return E.mutate(F).then(function(xe){for(var Re=xe.failures,Ve=xe.results,He=xe.numFailures,xe=xe.lastResult,Fe=0;Fe<ie.length;++Fe){var We=(Ve||ie)[Fe],Je=_e[Fe];We==null?Je.onerror&&Je.onerror(Re[Fe]):Je.onsuccess&&Je.onsuccess(F.type==="put"&&Oe[Fe]?F.values[Fe]:We)}return{failures:Re,results:Ve,numFailures:He,lastResult:xe}}).catch(function(xe){return _e.forEach(function(Re){return Re.onerror&&Re.onerror(xe)}),Promise.reject(xe)})})}}})}})}};function mp(b,S,E){try{if(!S||S.keys.length<b.length)return null;for(var P=[],D=0,L=0;D<S.keys.length&&L<b.length;++D)Pt(S.keys[D],b[L])===0&&(P.push(E?Ae(S.values[D]):S.values[D]),++L);return P.length===b.length?P:null}catch{return null}}var DO={stack:"dbcore",level:-1,create:function(b){return{table:function(S){var E=b.table(S);return r(r({},E),{getMany:function(P){if(!P.cache)return E.getMany(P);var D=mp(P.keys,P.trans._cache,P.cache==="clone");return D?Le.resolve(D):E.getMany(P).then(function(L){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?Ae(L):L},L})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),E.mutate(P)}})}}}};function gp(b,S){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!S.schema.primaryKey.outbound}function Op(b,S){switch(b){case"query":return S.values&&!S.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gl={stack:"dbcore",level:0,name:"Observability",create:function(b){var S=b.schema.name,E=new ri(b.MIN_KEY,b.MAX_KEY);return r(r({},b),{transaction:function(P,D,L){if(nt.subscr&&D!=="readonly")throw new qe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(nt.querier));return b.transaction(P,D,L)},table:function(P){var D=b.table(P),L=D.schema,Z=L.primaryKey,F=L.indexes,V=Z.extractKey,J=Z.outbound,te=Z.autoIncrement&&F.filter(function(ee){return ee.compound&&ee.keyPath.includes(Z.keyPath)}),le=r(r({},D),{mutate:function(ee){function ae(Ge){return Ge="idb://".concat(S,"/").concat(P,"/").concat(Ge),xe[Ge]||(xe[Ge]=new ri)}var ue,ie,Oe,_e=ee.trans,xe=ee.mutatedParts||(ee.mutatedParts={}),Re=ae(""),Ve=ae(":dels"),He=ee.type,Je=ee.type==="deleteRange"?[ee.range]:ee.type==="delete"?[ee.keys]:ee.values.length<50?[pp(Z,ee).filter(function(Ge){return Ge}),ee.values]:[],Fe=Je[0],We=Je[1],Je=ee.trans._cache;return o(Fe)?(Re.addKeys(Fe),(Je=He==="delete"||Fe.length===We.length?mp(Fe,Je):null)||Ve.addKeys(Fe),(Je||We)&&(ue=ae,ie=Je,Oe=We,L.indexes.forEach(function(Ge){var st=ue(Ge.name||"");function _t(St){return St!=null?Ge.extractKey(St):null}function Qt(St){return Ge.multiEntry&&o(St)?St.forEach(function(Mr){return st.addKey(Mr)}):st.addKey(St)}(ie||Oe).forEach(function(St,yr){var Ct=ie&&_t(ie[yr]),yr=Oe&&_t(Oe[yr]);Pt(Ct,yr)!==0&&(Ct!=null&&Qt(Ct),yr!=null&&Qt(yr))})}))):Fe?(We={from:(We=Fe.lower)!==null&&We!==void 0?We:b.MIN_KEY,to:(We=Fe.upper)!==null&&We!==void 0?We:b.MAX_KEY},Ve.add(We),Re.add(We)):(Re.add(E),Ve.add(E),L.indexes.forEach(function(Ge){return ae(Ge.name).add(E)})),D.mutate(ee).then(function(Ge){return!Fe||ee.type!=="add"&&ee.type!=="put"||(Re.addKeys(Ge.results),te&&te.forEach(function(st){for(var _t=ee.values.map(function(Ct){return st.extractKey(Ct)}),Qt=st.keyPath.findIndex(function(Ct){return Ct===Z.keyPath}),St=0,Mr=Ge.results.length;St<Mr;++St)_t[St][Qt]=Ge.results[St];ae(st.name).addKeys(_t)})),_e.mutatedParts=Tf(_e.mutatedParts||{},xe),Ge})}}),F=function(ae){var ue=ae.query,ae=ue.index,ue=ue.range;return[ae,new ri((ae=ue.lower)!==null&&ae!==void 0?ae:b.MIN_KEY,(ue=ue.upper)!==null&&ue!==void 0?ue:b.MAX_KEY)]},fe={get:function(ee){return[Z,new ri(ee.key)]},getMany:function(ee){return[Z,new ri().addKeys(ee.keys)]},count:F,query:F,openCursor:F};return a(fe).forEach(function(ee){le[ee]=function(ae){var ue=nt.subscr,ie=!!ue,Oe=gp(nt,D)&&Op(ee,ae)?ae.obsSet={}:ue;if(ie){var _e=function(We){return We="idb://".concat(S,"/").concat(P,"/").concat(We),Oe[We]||(Oe[We]=new ri)},xe=_e(""),Re=_e(":dels"),ue=fe[ee](ae),ie=ue[0],ue=ue[1];if((ee==="query"&&ie.isPrimaryKey&&!ae.values?Re:_e(ie.name||"")).add(ue),!ie.isPrimaryKey){if(ee!=="count"){var Ve=ee==="query"&&J&&ae.values&&D.query(r(r({},ae),{values:!1}));return D[ee].apply(this,arguments).then(function(We){if(ee==="query"){if(J&&ae.values)return Ve.then(function(_t){return _t=_t.result,xe.addKeys(_t),We});var Je=ae.values?We.result.map(V):We.result;(ae.values?xe:Re).addKeys(Je)}else if(ee==="openCursor"){var Ge=We,st=ae.values;return Ge&&Object.create(Ge,{key:{get:function(){return Re.addKey(Ge.primaryKey),Ge.key}},primaryKey:{get:function(){var _t=Ge.primaryKey;return Re.addKey(_t),_t}},value:{get:function(){return st&&xe.addKey(Ge.primaryKey),Ge.value}}})}return We})}Re.add(E)}}return D[ee].apply(this,arguments)}}),le}})}};function QO(b,S,E){if(E.numFailures===0)return S;if(S.type==="deleteRange")return null;var P=S.keys?S.keys.length:"values"in S&&S.values?S.values.length:1;return E.numFailures===P?null:(S=r({},S),o(S.keys)&&(S.keys=S.keys.filter(function(D,L){return!(L in E.failures)})),"values"in S&&o(S.values)&&(S.values=S.values.filter(function(D,L){return!(L in E.failures)})),S)}function yp(b,S){return E=b,((P=S).lower===void 0||(P.lowerOpen?0<Pt(E,P.lower):0<=Pt(E,P.lower)))&&(b=b,(S=S).upper===void 0||(S.upperOpen?Pt(b,S.upper)<0:Pt(b,S.upper)<=0));var E,P}function NO(b,S,fe,P,D,L){if(!fe||fe.length===0)return b;var Z=S.query.index,V=Z.multiEntry,J=S.query.range,te=P.schema.primaryKey.extractKey,le=Z.extractKey,F=(Z.lowLevelIndex||Z).extractKey,fe=fe.reduce(function(ee,ae){var ue=ee,ie=[];if(ae.type==="add"||ae.type==="put")for(var Oe=new ri,_e=ae.values.length-1;0<=_e;--_e){var xe,Re=ae.values[_e],Ve=te(Re);Oe.hasKey(Ve)||(xe=le(Re),(V&&o(xe)?xe.some(function(Ge){return yp(Ge,J)}):yp(xe,J))&&(Oe.addKey(Ve),ie.push(Re)))}switch(ae.type){case"add":var He=new ri().addKeys(S.values?ee.map(function(st){return te(st)}):ee),ue=ee.concat(S.values?ie.filter(function(st){return st=te(st),!He.hasKey(st)&&(He.addKey(st),!0)}):ie.map(function(st){return te(st)}).filter(function(st){return!He.hasKey(st)&&(He.addKey(st),!0)}));break;case"put":var Fe=new ri().addKeys(ae.values.map(function(st){return te(st)}));ue=ee.filter(function(st){return!Fe.hasKey(S.values?te(st):st)}).concat(S.values?ie:ie.map(function(st){return te(st)}));break;case"delete":var We=new ri().addKeys(ae.keys);ue=ee.filter(function(st){return!We.hasKey(S.values?te(st):st)});break;case"deleteRange":var Je=ae.range;ue=ee.filter(function(st){return!yp(te(st),Je)})}return ue},b);return fe===b?b:(fe.sort(function(ee,ae){return Pt(F(ee),F(ae))||Pt(te(ee),te(ae))}),S.limit&&S.limit<1/0&&(fe.length>S.limit?fe.length=S.limit:b.length===S.limit&&fe.length<S.limit&&(D.dirty=!0)),L?Object.freeze(fe):fe)}function vp(b,S){return Pt(b.lower,S.lower)===0&&Pt(b.upper,S.upper)===0&&!!b.lowerOpen==!!S.lowerOpen&&!!b.upperOpen==!!S.upperOpen}function LO(b,S){return(function(E,P,D,L){if(E===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Pt(E,P))===0){if(D&&L)return 0;if(D)return 1;if(L)return-1}return P})(b.lower,S.lower,b.lowerOpen,S.lowerOpen)<=0&&0<=(function(E,P,D,L){if(E===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Pt(E,P))===0){if(D&&L)return 0;if(D)return-1;if(L)return 1}return P})(b.upper,S.upper,b.upperOpen,S.upperOpen)}function dc(b,S,E,P){b.subscribers.add(E),P.addEventListener("abort",function(){var D,L;b.subscribers.delete(E),b.subscribers.size===0&&(D=b,L=S,setTimeout(function(){D.subscribers.size===0&&Se(L,D)},3e3))})}var pc={stack:"dbcore",level:0,name:"Cache",create:function(b){var S=b.schema.name;return r(r({},b),{transaction:function(E,P,D){var L,Z,V=b.transaction(E,P,D);return P==="readwrite"&&(Z=(L=new AbortController).signal,D=function(J){return function(){if(L.abort(),P==="readwrite"){for(var te=new Set,le=0,F=E;le<F.length;le++){var fe=F[le],ee=Go["idb://".concat(S,"/").concat(fe)];if(ee){var ae=b.table(fe),ue=ee.optimisticOps.filter(function(st){return st.trans===V});if(V._explicit&&J&&V.mutatedParts)for(var ie=0,Oe=Object.values(ee.queries.query);ie<Oe.length;ie++)for(var _e=0,xe=(He=Oe[ie]).slice();_e<xe.length;_e++)Ef((Fe=xe[_e]).obsSet,V.mutatedParts)&&(Se(He,Fe),Fe.subscribers.forEach(function(st){return te.add(st)}));else if(0<ue.length){ee.optimisticOps=ee.optimisticOps.filter(function(st){return st.trans!==V});for(var Re=0,Ve=Object.values(ee.queries.query);Re<Ve.length;Re++)for(var He,Fe,We,Je=0,Ge=(He=Ve[Re]).slice();Je<Ge.length;Je++)(Fe=Ge[Je]).res!=null&&V.mutatedParts&&(J&&!Fe.dirty?(We=Object.isFrozen(Fe.res),We=NO(Fe.res,Fe.req,ue,ae,Fe,We),Fe.dirty?(Se(He,Fe),Fe.subscribers.forEach(function(st){return te.add(st)})):We!==Fe.res&&(Fe.res=We,Fe.promise=Le.resolve({result:We}))):(Fe.dirty&&Se(He,Fe),Fe.subscribers.forEach(function(st){return te.add(st)})))}}}te.forEach(function(st){return st()})}}},V.addEventListener("abort",D(!1),{signal:Z}),V.addEventListener("error",D(!1),{signal:Z}),V.addEventListener("complete",D(!0),{signal:Z})),V},table:function(E){var P=b.table(E),D=P.schema.primaryKey;return r(r({},P),{mutate:function(L){var Z=nt.trans;if(D.outbound||Z.db._options.cache==="disabled"||Z.explicit||Z.idbtrans.mode!=="readwrite")return P.mutate(L);var V=Go["idb://".concat(S,"/").concat(E)];return V?(Z=P.mutate(L),L.type!=="add"&&L.type!=="put"||!(50<=L.values.length||pp(D,L).some(function(J){return J==null}))?(V.optimisticOps.push(L),L.mutatedParts&&Af(L.mutatedParts),Z.then(function(J){0<J.numFailures&&(Se(V.optimisticOps,L),(J=QO(0,L,J))&&V.optimisticOps.push(J),L.mutatedParts&&Af(L.mutatedParts))}),Z.catch(function(){Se(V.optimisticOps,L),L.mutatedParts&&Af(L.mutatedParts)})):Z.then(function(J){var te=QO(0,r(r({},L),{values:L.values.map(function(le,F){var fe;return J.failures[F]?le:(le=(fe=D.keyPath)!==null&&fe!==void 0&&fe.includes(".")?Ae(le):r({},le),N(le,D.keyPath,J.results[F]),le)})}),J);V.optimisticOps.push(te),queueMicrotask(function(){return L.mutatedParts&&Af(L.mutatedParts)})}),Z):P.mutate(L)},query:function(L){if(!gp(nt,P)||!Op("query",L))return P.query(L);var Z=((te=nt.trans)===null||te===void 0?void 0:te.db._options.cache)==="immutable",F=nt,V=F.requery,J=F.signal,te=(function(ae,ue,ie,Oe){var _e=Go["idb://".concat(ae,"/").concat(ue)];if(!_e)return[];if(!(ue=_e.queries[ie]))return[null,!1,_e,null];var xe=ue[(Oe.query?Oe.query.index.name:null)||""];if(!xe)return[null,!1,_e,null];switch(ie){case"query":var Re=xe.find(function(Ve){return Ve.req.limit===Oe.limit&&Ve.req.values===Oe.values&&vp(Ve.req.query.range,Oe.query.range)});return Re?[Re,!0,_e,xe]:[xe.find(function(Ve){return("limit"in Ve.req?Ve.req.limit:1/0)>=Oe.limit&&(!Oe.values||Ve.req.values)&&LO(Ve.req.query.range,Oe.query.range)}),!1,_e,xe];case"count":return Re=xe.find(function(Ve){return vp(Ve.req.query.range,Oe.query.range)}),[Re,!!Re,_e,xe]}})(S,E,"query",L),le=te[0],F=te[1],fe=te[2],ee=te[3];return le&&F?le.obsSet=L.obsSet:(F=P.query(L).then(function(ae){var ue=ae.result;if(le&&(le.res=ue),Z){for(var ie=0,Oe=ue.length;ie<Oe;++ie)Object.freeze(ue[ie]);Object.freeze(ue)}else ae.result=Ae(ue);return ae}).catch(function(ae){return ee&&le&&Se(ee,le),Promise.reject(ae)}),le={obsSet:L.obsSet,promise:F,subscribers:new Set,type:"query",req:L,dirty:!1},ee?ee.push(le):(ee=[le],(fe=fe||(Go["idb://".concat(S,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[L.query.index.name||""]=ee)),dc(le,ee,V,J),le.promise.then(function(ae){return{result:NO(ae.result,L,fe?.optimisticOps,P,le,Z)}})}})}})}};function Pf(b,S){return new Proxy(b,{get:function(E,P,D){return P==="db"?S:Reflect.get(E,P,D)}})}var ds=(Vn.prototype.version=function(b){if(isNaN(b)||b<.1)throw new qe.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new qe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var S=this._versions,E=S.filter(function(P){return P._cfg.version===b})[0];return E||(E=new this.Version(b),S.push(E),S.sort(or),E.stores({}),this._state.autoSchema=!1,E)},Vn.prototype._whenReady=function(b){var S=this;return this.idbdb&&(this._state.openComplete||nt.letThrough||this._vip)?b():new Le(function(E,P){if(S._state.openComplete)return P(new qe.DatabaseClosed(S._state.dbOpenError));if(!S._state.isBeingOpened){if(!S._state.autoOpen)return void P(new qe.DatabaseClosed);S.open().catch(yt)}S._state.dbReadyPromise.then(E,P)}).then(b)},Vn.prototype.use=function(b){var S=b.stack,E=b.create,P=b.level,D=b.name;return D&&this.unuse({stack:S,name:D}),b=this._middlewares[S]||(this._middlewares[S]=[]),b.push({stack:S,create:E,level:P??10,name:D}),b.sort(function(L,Z){return L.level-Z.level}),this},Vn.prototype.unuse=function(b){var S=b.stack,E=b.name,P=b.create;return S&&this._middlewares[S]&&(this._middlewares[S]=this._middlewares[S].filter(function(D){return P?D.create!==P:!!E&&D.name!==E})),this},Vn.prototype.open=function(){var b=this;return as(Jt,function(){return OS(b)})},Vn.prototype._close=function(){var b=this._state,S=hn.indexOf(this);if(0<=S&&hn.splice(S,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new Le(function(E){b.dbReadyResolve=E}),b.openCanceller=new Le(function(E,P){b.cancelOpen=P}))},Vn.prototype.close=function(E){var S=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;S?(E.isBeingOpened&&E.cancelOpen(new qe.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new qe.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},Vn.prototype.delete=function(b){var S=this;b===void 0&&(b={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new Le(function(D,L){function Z(){S.close(b);var V=S._deps.indexedDB.deleteDatabase(S.name);V.onsuccess=sn(function(){var J,te,le;J=S._deps,te=S.name,le=J.indexedDB,J=J.IDBKeyRange,Oo(le)||te===ti||go(le,J).delete(te).catch(yt),D()}),V.onerror=Fr(L),V.onblocked=S._fireOnBlocked}if(E)throw new qe.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(Z):Z()})},Vn.prototype.backendDB=function(){return this.idbdb},Vn.prototype.isOpen=function(){return this.idbdb!==null},Vn.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},Vn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Vn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Vn.prototype,"tables",{get:function(){var b=this;return a(this._allTables).map(function(S){return b._allTables[S]})},enumerable:!1,configurable:!0}),Vn.prototype.transaction=function(){var b=(function(S,E,P){var D=arguments.length;if(D<2)throw new qe.InvalidArgument("Too few arguments");for(var L=new Array(D-1);--D;)L[D-1]=arguments[D];return P=L.pop(),[S,oe(L),P]}).apply(this,arguments);return this._transaction.apply(this,b)},Vn.prototype._transaction=function(b,S,E){var P=this,D=nt.trans;D&&D.db===this&&b.indexOf("!")===-1||(D=null);var L,Z,V=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(Z=S.map(function(te){if(te=te instanceof P.Table?te.name:te,typeof te!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return te}),b=="r"||b===Rr)L=Rr;else{if(b!="rw"&&b!=Li)throw new qe.InvalidArgument("Invalid transaction mode: "+b);L=Li}if(D){if(D.mode===Rr&&L===Li){if(!V)throw new qe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");D=null}D&&Z.forEach(function(te){if(D&&D.storeNames.indexOf(te)===-1){if(!V)throw new qe.SubTransaction("Table "+te+" not included in parent transaction.");D=null}}),V&&D&&!D.active&&(D=null)}}catch(te){return D?D._promise(null,function(le,F){F(te)}):Vt(te)}var J=(function te(le,F,fe,ee,ae){return Le.resolve().then(function(){var ue=nt.transless||nt,ie=le._createTransaction(F,fe,le._dbSchema,ee);if(ie.explicit=!0,ue={trans:ie,transless:ue},ee)ie.idbtrans=ee.idbtrans;else try{ie.create(),ie.idbtrans._explicit=!0,le._state.PR1398_maxLoop=3}catch(xe){return xe.name===it.InvalidState&&le.isOpen()&&0<--le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),le.close({disableAutoOpen:!1}),le.open().then(function(){return te(le,F,fe,null,ae)})):Vt(xe)}var Oe,_e=z(ae);return _e&&vn(),ue=Le.follow(function(){var xe;(Oe=ae.call(ie,ie))&&(_e?(xe=xn.bind(null,null),Oe.then(xe,xe)):typeof Oe.next=="function"&&typeof Oe.throw=="function"&&(Oe=hp(Oe)))},ue),(Oe&&typeof Oe.then=="function"?Le.resolve(Oe).then(function(xe){return ie.active?xe:Vt(new qe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ue.then(function(){return Oe})).then(function(xe){return ee&&ie._resolve(),ie._completion.then(function(){return xe})}).catch(function(xe){return ie._reject(xe),Vt(xe)})})}).bind(null,this,L,Z,D,E);return D?D._promise(L,J,"lock"):nt.trans?as(nt.transless,function(){return P._whenReady(J)}):this._whenReady(J)},Vn.prototype.table=function(b){if(!d(this._allTables,b))throw new qe.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},Vn);function Vn(b,S){var E=this;this._middlewares={},this.verno=0;var P=Vn.dependencies;this._options=S=r({addons:Vn.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},S),this._deps={indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange},P=S.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var D,L,Z,V,J,te={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:yt,dbReadyPromise:null,cancelOpen:yt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:S.autoOpen};te.dbReadyPromise=new Le(function(F){te.dbReadyResolve=F}),te.openCanceller=new Le(function(F,fe){te.cancelOpen=fe}),this._state=te,this.name=b,this.on=oo(this,"populate","blocked","versionchange","close",{ready:[Ue,yt]}),this.on.ready.subscribe=A(this.on.ready.subscribe,function(F){return function(fe,ee){Vn.vip(function(){var ae,ue=E._state;ue.openComplete?(ue.dbOpenError||Le.resolve().then(fe),ee&&F(fe)):ue.onReadyBeingFired?(ue.onReadyBeingFired.push(fe),ee&&F(fe)):(F(fe),ae=E,ee||F(function ie(){ae.on.ready.unsubscribe(fe),ae.on.ready.unsubscribe(ie)}))})}}),this.Collection=(D=this,Ps(Yo.prototype,function(Oe,ie){this.db=D;var ee=os,ae=null;if(ie)try{ee=ie()}catch(_e){ae=_e}var ue=Oe._ctx,ie=ue.table,Oe=ie.hook.reading.fire;this._ctx={table:ie,index:ue.index,isPrimKey:!ue.index||ie.schema.primKey.keyPath&&ue.index===ie.schema.primKey.name,range:ee,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ae,or:ue.or,valueMapper:Oe!==rn?Oe:null}})),this.Table=(L=this,Ps(Or.prototype,function(F,fe,ee){this.db=L,this._tx=ee,this.name=F,this.schema=fe,this.hook=L._allTables[F]?L._allTables[F].hook:oo(null,{creating:[Ts,yt],reading:[ir,rn],updating:[W,yt],deleting:[X,yt]})})),this.Transaction=(Z=this,Ps(ho.prototype,function(F,fe,ee,ae,ue){var ie=this;this.db=Z,this.mode=F,this.storeNames=fe,this.schema=ee,this.chromeTransactionDurability=ae,this.idbtrans=null,this.on=oo(this,"complete","error","abort"),this.parent=ue||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le(function(Oe,_e){ie._resolve=Oe,ie._reject=_e}),this._completion.then(function(){ie.active=!1,ie.on.complete.fire()},function(Oe){var _e=ie.active;return ie.active=!1,ie.on.error.fire(Oe),ie.parent?ie.parent._reject(Oe):_e&&ie.idbtrans&&ie.idbtrans.abort(),Vt(Oe)})})),this.Version=(V=this,Ps(Qa.prototype,function(F){this.db=V,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(J=this,Ps(fs.prototype,function(F,fe,ee){if(this.db=J,this._ctx={table:F,index:fe===":id"?null:fe,or:ee},this._cmp=this._ascending=Pt,this._descending=function(ae,ue){return Pt(ue,ae)},this._max=function(ae,ue){return 0<Pt(ae,ue)?ae:ue},this._min=function(ae,ue){return Pt(ae,ue)<0?ae:ue},this._IDBKeyRange=J._deps.IDBKeyRange,!this._IDBKeyRange)throw new qe.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=Da(S.IDBKeyRange),this._createTransaction=function(F,fe,ee,ae){return new E.Transaction(F,fe,ee,E._options.chromeTransactionDurability,ae)},this._fireOnBlocked=function(F){E.on("blocked").fire(F),hn.filter(function(fe){return fe.name===E.name&&fe!==E&&!fe._state.vcFired}).map(function(fe){return fe.on("versionchange").fire(F)})},this.use(DO),this.use(pc),this.use(Gl),this.use(dp),this.use(IO);var le=new Proxy(this,{get:function(F,fe,ee){if(fe==="_vip")return!0;if(fe==="table")return function(ue){return Pf(E.table(ue),le)};var ae=Reflect.get(F,fe,ee);return ae instanceof Or?Pf(ae,le):fe==="tables"?ae.map(function(ue){return Pf(ue,le)}):fe==="_createTransaction"?function(){return Pf(ae.apply(this,arguments),le)}:ae}});this.vip=le,P.forEach(function(F){return F(E)})}var mc,Ci=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",bp=(Rf.prototype.subscribe=function(b,S,E){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:S,complete:E})},Rf.prototype[Ci]=function(){return this},Rf);function Rf(b){this._subscribe=b}try{mc={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{mc={indexedDB:null,IDBKeyRange:null}}function _p(b){var S,E=!1,P=new bp(function(D){var L=z(b),Z,V=!1,J={},te={},le={get closed(){return V},unsubscribe:function(){V||(V=!0,Z&&Z.abort(),F&&Ms.storagemutated.unsubscribe(ee))}};D.start&&D.start(le);var F=!1,fe=function(){return Ma(ae)},ee=function(ue){Tf(J,ue),Ef(te,J)&&fe()},ae=function(){var ue,ie,Oe;!V&&mc.indexedDB&&(J={},ue={},Z&&Z.abort(),Z=new AbortController,Oe=(function(_e){var xe=Qi();try{L&&vn();var Re=gr(b,_e);return Re=L?Re.finally(xn):Re}finally{xe&&ei()}})(ie={subscr:ue,signal:Z.signal,requery:fe,querier:b,trans:null}),Promise.resolve(Oe).then(function(_e){E=!0,S=_e,V||ie.signal.aborted||(J={},(function(xe){for(var Re in xe)if(d(xe,Re))return;return 1})(te=ue)||F||(Ms(fo,ee),F=!0),Ma(function(){return!V&&D.next&&D.next(_e)}))},function(_e){E=!1,["DatabaseClosedError","AbortError"].includes(_e?.name)||V||Ma(function(){V||D.error&&D.error(_e)})}))};return setTimeout(fe,0),le});return P.hasValue=function(){return E},P.getValue=function(){return S},P}var yo=ds;function wp(b){var S=vo;try{vo=!0,Ms.storagemutated.fire(b),fp(b,!0)}finally{vo=S}}m(yo,r(r({},mr),{delete:function(b){return new yo(b,{addons:[]}).delete()},exists:function(b){return new yo(b,{addons:[]}).open().then(function(S){return S.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return S=yo.dependencies,E=S.indexedDB,S=S.IDBKeyRange,(Oo(E)?Promise.resolve(E.databases()).then(function(P){return P.map(function(D){return D.name}).filter(function(D){return D!==ti})}):go(E,S).toCollection().primaryKeys()).then(b)}catch{return Vt(new qe.MissingAPI)}var S,E},defineClass:function(){return function(b){u(this,b)}},ignoreTransaction:function(b){return nt.trans?as(nt.transless,b):b()},vip:lp,async:function(b){return function(){try{var S=hp(b.apply(this,arguments));return S&&typeof S.then=="function"?S:Le.resolve(S)}catch(E){return Vt(E)}}},spawn:function(b,S,E){try{var P=hp(b.apply(E,S||[]));return P&&typeof P.then=="function"?P:Le.resolve(P)}catch(D){return Vt(D)}},currentTransaction:{get:function(){return nt.trans||null}},waitFor:function(b,S){return S=Le.resolve(typeof b=="function"?yo.ignoreTransaction(b):b).timeout(S||6e4),nt.trans?nt.trans.waitFor(S):S},Promise:Le,debug:{get:function(){return Ne},set:function(b){Ze(b)}},derive:v,extend:u,props:m,override:A,Events:oo,on:Ms,liveQuery:_p,extendObservabilitySet:Tf,getByKeyPath:Q,setByKeyPath:N,delByKeyPath:function(b,S){typeof S=="string"?N(b,S,void 0):"length"in S&&[].map.call(S,function(E){N(b,E,void 0)})},shallowClone:j,deepClone:Ae,getObjectDiff:Ko,cmp:Pt,asap:I,minKey:-1/0,addons:[],connections:hn,errnames:it,dependencies:mc,cache:Go,semVer:"4.0.10",version:"4.0.10".split(".").map(function(b){return parseInt(b)}).reduce(function(b,S,E){return b+S/Math.pow(10,2*E)})})),yo.maxKey=Da(yo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ms(fo,function(b){vo||(b=new CustomEvent(Ia,{detail:b}),vo=!0,dispatchEvent(b),vo=!1)}),addEventListener(Ia,function(b){b=b.detail,vo||wp(b)}));var Kl,vo=!1,jO=function(){};return typeof BroadcastChannel<"u"&&((jO=function(){(Kl=new BroadcastChannel(Ia)).onmessage=function(b){return b.data&&wp(b.data)}})(),typeof Kl.unref=="function"&&Kl.unref(),Ms(fo,function(b){vo||Kl.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!ds.disableBfCache&&b.persisted){Ne&&console.debug("Dexie: handling persisted pagehide"),Kl?.close();for(var S=0,E=hn;S<E.length;S++)E[S].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!ds.disableBfCache&&b.persisted&&(Ne&&console.debug("Dexie: handling persisted pageshow"),jO(),wp({all:new ri(-1/0,[[]])}))})),Le.rejectionMapper=function(b,S){return!b||b instanceof ge||b instanceof TypeError||b instanceof SyntaxError||!b.name||!Cn[b.name]?b:(S=new Cn[b.name](S||b.message,b),"stack"in b&&y(S,"stack",{get:function(){return this.inner.stack}}),S)},Ze(Ne),r(ds,Object.freeze({__proto__:null,Dexie:ds,liveQuery:_p,Entity:ao,cmp:Pt,PropModSymbol:Bi,PropModification:us,replacePrefix:function(b,S){return new us({replacePrefix:[b,S]})},add:function(b){return new us({add:b})},remove:function(b){return new us({remove:b})},default:ds,RangeSet:ri,mergeRanges:hc,rangesOverlap:PO}),{default:ds}),ds})})(Pb)),Pb.exports}var wJ=_J();const MT=Ow(wJ),_I=Symbol.for("Dexie"),d_=globalThis[_I]||(globalThis[_I]=MT);if(MT.semVer!==d_.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${MT.semVer} and ${d_.semVer}`);const{liveQuery:KCe,mergeRanges:HCe,rangesOverlap:JCe,RangeSet:ePe,cmp:tPe,Entity:nPe,PropModSymbol:rPe,PropModification:iPe,replacePrefix:sPe,add:aPe,remove:oPe}=d_;var p_="docs",SJ="changes",wI="attachments",q5="dexie",SI=new Map,Rb=new Map;function xJ(t,e,n,r){var i="rxdb-dexie-"+t+"--"+r.version+"--"+e,s=Hs(SI,i,()=>{var a=(async()=>{var o=Yn(n);o.autoOpen=!1;var u=new d_(i,o);n.onCreate&&await n.onCreate(u,i);var f={[p_]:EJ(r),[SJ]:"++sequence, id",[wI]:"id"};return u.version(1).stores(f),await u.open(),{dexieDb:u,dexieTable:u[p_],dexieAttachmentsTable:u[wI],booleanIndexes:AJ(r)}})();return SI.set(i,s),Rb.set(s,0),a});return s}async function kJ(t){var e=await t,n=Rb.get(t),r=n-1;r===0?(e.dexieDb.close(),Rb.delete(t)):Rb.set(t,r)}var IT="__";function Ud(t){var e=t.split(".");if(e.length>1)return e.map(r=>Ud(r)).join(".");if(t.startsWith("|")){var n=t.substring(1);return IT+n}else return t}function V5(t){var e=t.split(".");if(e.length>1)return e.map(r=>V5(r)).join(".");if(t.startsWith(IT)){var n=t.substring(IT.length);return"|"+n}else return t}function TJ(t,e){if(!e)return e;var n=Yn(e);return n=DT(n),t.forEach(r=>{var i=Zu(e,r),s=i?"1":"0",a=Ud(r);g3(n,a,s)}),n}function X5(t,e){return e&&(e=Yn(e),e=QT(e),t.forEach(n=>{var r=Zu(e,n),i=r==="1";g3(e,n,i)}),e)}function DT(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(n=>DT(n));if(typeof t=="object"){var e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="object"&&(r=DT(r)),e[Ud(n)]=r}),e}}function QT(t){if(!t||typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t;if(Array.isArray(t))return t.map(n=>QT(n));if(typeof t=="object"){var e={};return Object.entries(t).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(t))&&(r=QT(r)),e[V5(n)]=r}),e}}function EJ(t){var e=[],n=xs(t.primaryKey);e.push([n]),e.push(["_deleted",n]),t.indexes&&t.indexes.forEach(s=>{var a=$A(s);e.push(a)}),e.push(["_meta.lwt",n]),e.push(["_meta.lwt"]),e=e.map(s=>s.map(a=>Ud(a)));var r=e.map(s=>s.length===1?s[0]:"["+s.join("+")+"]");r=r.filter((s,a,o)=>o.indexOf(s)===a);var i=r.join(", ");return i}async function xI(t,e){var n=await t,r=await n.dexieTable.bulkGet(e);return r.map(i=>X5(n.booleanIndexes,i))}function zy(t,e){return t+"||"+e}function AJ(t){var e=new Set,n=[];return t.indexes?(t.indexes.forEach(r=>{var i=$A(r);i.forEach(s=>{if(!e.has(s)){e.add(s);var a=Od(t,s);a.type==="boolean"&&n.push(s)}})}),n.push("_deleted"),hF(n)):n}function kI(t){return t===Kh?-1/0:t}function TI(t,e,n){if(t.includes(e)){var r=n===Gh||n===!0?"1":"0";return r}else return n}function F5(t,e,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=e.startKeys.map((a,o)=>{var u=e.index[o];return TI(t,u,a)}).map(kI),i=e.endKeys.map((a,o)=>{var u=e.index[o];return TI(t,u,a)}).map(kI),s=n.bound(r,i,!e.inclusiveStart,!e.inclusiveEnd);return s}async function EI(t,e){var n=await t.internals,r=e.query,i=r.skip?r.skip:0,s=r.limit?r.limit:1/0,a=i+s,o=e.queryPlan,u=!1;o.selectorSatisfiedByIndex||(u=VA(t.schema,e.query));var f=F5(n.booleanIndexes,o,n.dexieDb._options.IDBKeyRange),h=o.index,d=[];if(await n.dexieDb.transaction("r",n.dexieTable,async O=>{var y=O.idbtrans,v=y.objectStore(p_),w,k;k="["+h.map(A=>Ud(A)).join("+")+"]",w=v.index(k);var T=w.openCursor(f);await new Promise(A=>{T.onsuccess=function(C){var I=C.target.result;if(I){var Q=X5(n.booleanIndexes,I.value);(!u||u(Q))&&d.push(Q),o.sortSatisfiedByIndex&&d.length===a?A():I.continue()}else A()}})}),!o.sortSatisfiedByIndex){var m=i5(t.schema,e.query);d=d.sort(m)}return d=d.slice(i,a),{documents:d}}async function CJ(t,e){var n=await t.internals,r=e.queryPlan,i=r.index,s=F5(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return await n.dexieDb.transaction("r",n.dexieTable,async o=>{var u=o.idbtrans,f=u.objectStore(p_),h,d;d="["+i.map(O=>Ud(O)).join("+")+"]",h=f.index(d);var m=h.count(s);a=await new Promise((O,y)=>{m.onsuccess=function(){O(m.result)},m.onerror=v=>y(v)})}),a}var PJ=ta(),xx=!1,RJ=(function(){function t(n,r,i,s,a,o,u,f){this.changes$=new ga,this.instanceId=PJ++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=s,this.internals=a,this.options=o,this.settings=u,this.devMode=f,this.primaryPath=xs(this.schema.primaryKey)}var e=t.prototype;return e.bulkWrite=async function(r,i){Ac(this),!xx&&!await y3()&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium/?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join(`
`)),xx=!0,r.forEach(h=>{if(!h.document._rev||h.previous&&!h.previous._rev)throw ht("SNH",{args:{row:h}})});var s=await this.internals,a={error:[]};this.devMode&&(r=r.map(h=>{var d=rO(h.document);return{previous:h.previous,document:d}}));var o=r.map(h=>h.document[this.primaryPath]),u;if(await s.dexieDb.transaction("rw",s.dexieTable,s.dexieAttachmentsTable,async()=>{var h=new Map,d=await xI(this.internals,o);d.forEach(y=>{var v=y;return v&&h.set(v[this.primaryPath],v),v}),u=sG(this,this.primaryPath,h,r,i),a.error=u.errors;var m=[];u.bulkInsertDocs.forEach(y=>{m.push(y.document)}),u.bulkUpdateDocs.forEach(y=>{m.push(y.document)}),m=m.map(y=>TJ(s.booleanIndexes,y)),m.length>0&&await s.dexieTable.bulkPut(m);var O=[];u.attachmentsAdd.forEach(y=>{O.push({id:zy(y.documentId,y.attachmentId),data:y.attachmentData.data})}),u.attachmentsUpdate.forEach(y=>{O.push({id:zy(y.documentId,y.attachmentId),data:y.attachmentData.data})}),await s.dexieAttachmentsTable.bulkPut(O),await s.dexieAttachmentsTable.bulkDelete(u.attachmentsRemove.map(y=>zy(y.documentId,y.attachmentId)))}),u=zt(u),u.eventBulk.events.length>0){var f=zt(u.newestRow).document;u.eventBulk.checkpoint={id:f[this.primaryPath],lwt:f._meta.lwt},this.changes$.next(u.eventBulk)}return a},e.findDocumentsById=async function(r,i){Ac(this);var s=await this.internals,a=[];return await s.dexieDb.transaction("r",s.dexieTable,async()=>{var o=await xI(this.internals,r);o.forEach(u=>{u&&(!u._deleted||i)&&a.push(u)})}),a},e.query=function(r){return Ac(this),EI(this,r)},e.count=async function(r){if(r.queryPlan.selectorSatisfiedByIndex){var i=await CJ(this,r);return{count:i,mode:"fast"}}else{var s=await EI(this,r);return{count:s.documents.length,mode:"slow"}}},e.changeStream=function(){return Ac(this),this.changes$.asObservable()},e.cleanup=async function(r){Ac(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var s=ta()-r,a=await i.dexieTable.where("_meta.lwt").below(s).toArray(),o=[];a.forEach(u=>{u._deleted==="1"&&o.push(u[this.primaryPath])}),await i.dexieTable.bulkDelete(o)}),!0},e.getAttachmentData=async function(r,i,s){Ac(this);var a=await this.internals,o=zy(r,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var u=await a.dexieAttachmentsTable.get(o);if(u)return u.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)})},e.remove=async function(){Ac(this);var r=await this.internals;return await r.dexieTable.clear(),this.close()},e.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await kJ(this.internals)})(),this.closed)},t})();async function $J(t,e,n){var r=xJ(e.databaseName,e.collectionName,n,e.schema),i=new RJ(t,e.databaseName,e.collectionName,e.schema,r,e.options,n,e.devMode);return await OJ(q5,e,i),Promise.resolve(i)}function Ac(t){if(t.closed)throw new Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var MJ=(function(){function t(n){this.name=q5,this.rxdbVersion=O3,this.settings=n}var e=t.prototype;return e.createStorageInstance=function(r){if(lG(r),r.schema.indexes){var i=r.schema.indexes.flat();i.filter(s=>!s.includes(".")).forEach(s=>{if(!r.schema.required||!r.schema.required.includes(s))throw ht("DXE1",{field:s,schema:r.schema})})}return $J(this,r,this.settings)},t})();function IJ(t={}){var e=new MJ(t);return e}async function Y5(t){var e=VF(t.collection.schema.jsonSchema).map(s=>t.collection.name+"-"+s),n=await t.database.internalStore.findDocumentsById(e.map(s=>_d(s,nf)),!1),r={};n.forEach(s=>r[s.key]=s);var i=e.find(s=>r[s]);return i?r[i]:void 0}function DJ(t,e,n){var r=Yn(n._attachments),i=Ks(n),s=i._meta;delete i._meta,i._attachments=r;for(var a=e+1,o=Promise.resolve(i),u=function(){var f=a;o=o.then(h=>QJ(t,f,h)),a++};a<=t.schema.version;)u();return o.then(f=>f===null?QA:(s&&(f._meta=s),f))}function QJ(t,e,n){if(n===null)return QA;var r=t.migrationStrategies[e](n,t),i=EF(r);return i}async function W5(t){if(t.collection.schema.version===0)return Al;var e=await Y5(t);return!!e}var NJ=200,G5=new WeakMap;function LJ(t){var e=K5(t.database),n=e.getValue().slice(0);n.push(t),e.next(n)}function K5(t){return Hs(G5,t,()=>new Tu([]))}function jJ(t){var e=G5.get(t);e&&e.complete()}var BJ=(function(){function t(n,r,i=[n.name,"v",n.schema.version].join("-")){this.started=!1,this.canceled=!1,this.updateStatusHandlers=[],this.updateStatusQueue=AF,this.collection=n,this.migrationStrategies=r,this.statusDocKey=i,this.database=n.database,this.oldCollectionMeta=Y5(this),this.mustMigrate=W5(this),this.statusDocId=_d(this.statusDocKey,Ab),LJ(this),this.$=iG(this.database.internalStore,this.statusDocId).pipe(En(s=>!!s),kr(s=>zt(s).data),Hg(Fg))}var e=t.prototype;return e.getStatus=function(){return Jc(this.$)},e.startMigration=async function(r=NJ){var i=await this.mustMigrate;if(i){if(this.started)throw ht("DM1");if(this.started=!0,this.database.multiInstance){this.broadcastChannel=new Aw(["rx-migration-state",this.database.name,this.collection.name,this.collection.schema.version].join("|"));var s=mJ(this.broadcastChannel);await s.awaitLeadership()}var a=await this.oldCollectionMeta,o=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:this.collection.name,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:zt(a).data.schema,password:this.database.password,devMode:An.isDevMode()}),u=await this.getConnectedStorageInstances(),f=await this.countAllDocuments([o].concat(u.map(d=>d.oldStorage)));await this.updateStatus(d=>(d.count.total=f,d));try{await Promise.all(u.map(async d=>{await AK(this.collection,d.newStorage.collectionName,d.newStorage.schema),await this.migrateStorage(d.oldStorage,d.newStorage,r),await d.newStorage.close()})),await this.migrateStorage(o,this.collection.storageInstance.originalStorageInstance,r)}catch(d){await o.close(),await this.updateStatus(m=>(m.status="ERROR",m.error=DF(d),m));return}try{await og(this.database.internalStore,{previous:a,document:Object.assign({},a,{_deleted:!0})},"rx-migration-remove-collection-meta")}catch(d){var h=Km(d);if(!(h&&h.documentInDb._deleted))throw d}await this.updateStatus(d=>(d.status="DONE",d)),this.broadcastChannel&&await this.broadcastChannel.close()}},e.updateStatus=function(r){return this.updateStatusHandlers.push(r),this.updateStatusQueue=this.updateStatusQueue.then(async()=>{if(this.updateStatusHandlers.length!==0){var i=this.updateStatusHandlers;for(this.updateStatusHandlers=[];;){var s=await nO(this.database.internalStore,this.statusDocId),a=Ks(s);s||(a={id:this.statusDocId,key:this.statusDocKey,context:Ab,data:{collectionName:this.collection.name,status:"RUNNING",count:{total:0,handled:0,percent:0}},_deleted:!1,_meta:zd(),_rev:Ka(),_attachments:{}});var o=zt(a).data;for(var u of i)o=u(o);if(o.count.percent=Math.round(o.count.handled/o.count.total*100),a&&s&&Hm(a.data,s.data))break;try{await og(this.database.internalStore,{previous:s,document:zt(a)},Ab);break}catch(f){if(!Km(f))throw f}}}}),this.updateStatusQueue},e.migrateStorage=async function(r,i,s){this.collection.onClose.push(()=>this.cancel()),this.database.onClose.push(()=>this.cancel());var a=await this.database.storage.createStorageInstance({databaseName:this.database.name,collectionName:"rx-migration-state-meta-"+r.collectionName+"-"+r.schema.version,databaseInstanceToken:this.database.token,multiInstance:this.database.multiInstance,options:{},schema:dI(r.schema,xT(r.schema)),password:this.database.password,devMode:An.isDevMode()}),o=rH(i,l_,this.database.token,!0),u=eH({keepMeta:!0,identifier:["rx-migration-state",r.collectionName,r.schema.version,this.collection.schema.version].join("-"),replicationHandler:{masterChangesSince(){return Promise.resolve({checkpoint:null,documents:[]})},masterWrite:async h=>{var d=await Promise.all(h.map(async O=>{var y=O.newDocumentState;if(i.schema.title===Cb&&(y=O.newDocumentState.docData,O.newDocumentState.isCheckpoint==="1"))return{assumedMasterState:void 0,newDocumentState:O.newDocumentState};var v=await DJ(this.collection,r.schema.version,y);if(v===null)return null;var w={assumedMasterState:void 0,newDocumentState:i.schema.title===Cb?Object.assign({},O.newDocumentState,{docData:v}):v};return w}));d=d.filter(O=>!!O&&!!O.newDocumentState);var m=await o.masterWrite(d);return m},masterChangeStream$:new ga().asObservable()},forkInstance:r,metaInstance:a,pushBatchSize:s,pullBatchSize:0,conflictHandler:l_,hashFunction:this.database.hashFunction}),f=!1;if(u.events.error.subscribe(h=>f=h),u.events.processed.up.subscribe(()=>{this.updateStatus(h=>(h.count.handled=h.count.handled+1,h))}),await tH(u),await nH(u),await this.updateStatusQueue,f)throw await a.close(),f;await Promise.all([r.remove(),a.remove()]),await this.cancel()},e.cancel=async function(){this.canceled=!0,this.replicationState&&await iH(this.replicationState),this.broadcastChannel&&await this.broadcastChannel.close()},e.countAllDocuments=async function(r){var i=0;return await Promise.all(r.map(async s=>{var a=kw(s.schema,Jh(s.schema,{selector:{}})),o=await s.count(a);i+=o.count})),i},e.getConnectedStorageInstances=async function(){var r=zt(await this.oldCollectionMeta),i=[];return await Promise.all(await Promise.all(r.data.connectedStorages.map(async s=>{if(s.schema.title!==Cb)throw new Error("unknown migration handling for schema");var a=dI(Ks(this.collection.schema.jsonSchema),xT(s.schema));a.version=this.collection.schema.version;var[o,u]=await Promise.all([this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:An.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:s.schema,password:this.database.password,collectionName:s.collectionName}),this.database.storage.createStorageInstance({databaseInstanceToken:this.database.token,databaseName:this.database.name,devMode:An.isDevMode(),multiInstance:this.database.multiInstance,options:{},schema:a,password:this.database.password,collectionName:s.collectionName})]);i.push({oldStorage:o,newStorage:u})}))),i},e.migratePromise=async function(r){this.startMigration(r);var i=await this.mustMigrate;if(!i)return{status:"DONE",collectionName:this.collection.name,count:{handled:0,percent:0,total:0}};var s=await Promise.race([Jc(this.$.pipe(En(a=>a.status==="DONE"))),Jc(this.$.pipe(En(a=>a.status==="ERROR")))]);if(s.status==="ERROR")throw ht("DM4",{collection:this.collection.name,error:s.error});return s},t})(),m_=new WeakMap,NT=new WeakMap;function Pm(t){var e=m_.get(t);if(!e){var n=t.database?t.database:t,r=t.database?t.name:"";throw ht("LD8",{database:n.name,collection:r})}return e}function H5(t,e,n,r,i,s){return e.createStorageInstance({databaseInstanceToken:t,databaseName:n,collectionName:zJ(r),schema:J5,options:i,multiInstance:s,devMode:An.isDevMode()})}function AI(t){var e=m_.get(t);if(e)return m_.delete(t),e.then(n=>n.storageInstance.close())}async function CI(t,e,n){var r=Xg(10),i=await H5(r,t,e,n,{},!1);await i.remove()}function zJ(t){return"plugin-local-documents-"+t}var J5=bw({title:"RxLocalDocument",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:128},data:{type:"object",additionalProperties:!0}},required:["id","data"]});async function PI(t,e){var n=await Pm(this),r={id:t,data:e,_deleted:!1,_meta:zd(),_rev:Ka(),_attachments:{}};return og(n.storageInstance,{document:r},"local-document-insert").then(i=>n.docCache.getCachedRxDocument(i))}function RI(t,e){return this.getLocal(t).then(n=>{if(n)return n.incrementalModify(()=>e);var r=this.insertLocal(t,e);return r})}async function $I(t){var e=await Pm(this),n=e.docCache,r=n.getLatestDocumentDataIfExists(t);return r?Promise.resolve(n.getCachedRxDocument(r)):nO(e.storageInstance,t).then(i=>i?e.docCache.getCachedRxDocument(i):null)}function MI(t){return this.$.pipe(Jg(null),Pl(async e=>{if(e)return{changeEvent:e};var n=await this.getLocal(t);return{doc:n}}),Pl(async e=>{if(e.changeEvent){var n=e.changeEvent;if(!n.isLocal||n.documentId!==t)return{use:!1};var r=await this.getLocal(t);return{use:!0,doc:r}}else return{use:!0,doc:e.doc}}),En(e=>e.use),kr(e=>e.doc))}var ZJ=l5(),UJ=(function(t){function e(n,r,i){var s;return s=t.call(this,null,r)||this,s.id=n,s.parent=i,s}return IA(e,t),e})(ZJ),Rm={get isLocal(){return!0},get allAttachments$(){throw ht("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){var t=this,e=gd(NT,this.parent),n=this.primary;return t.parent.eventBulks$.pipe(En(r=>!!r.isLocal),kr(r=>r.events.find(i=>i.documentId===n)),En(r=>!!r),kr(r=>z3(zt(r))),Jg(e.docCache.getLatestDocumentData(this.primary)),eg((r,i)=>r._rev===i._rev),kr(r=>e.docCache.getCachedRxDocument(r)),Hg(Fg))},get $$(){var t=this,e=kx(t),n=e.getReactivityFactory();return n.fromObservable(t.$,t.getLatest()._data,e)},get deleted$$(){var t=this,e=kx(t),n=e.getReactivityFactory();return n.fromObservable(t.deleted$,t.getLatest().deleted,e)},getLatest(){var t=gd(NT,this.parent),e=t.docCache.getLatestDocumentData(this.primary);return t.docCache.getCachedRxDocument(e)},get(t){if(t="data."+t,!!this._data){if(typeof t!="string")throw n_("LD2",{objPath:t});var e=Zu(this._data,t);return e=An.deepFreezeWhenDevMode(e),e}},get$(t){if(t="data."+t,An.isDevMode()){if(t.includes(".item."))throw ht("LD3",{objPath:t});if(t===this.primaryPath)throw ht("LD4")}return this.$.pipe(kr(e=>e._data),kr(e=>Zu(e,t)),eg())},get$$(t){var e=kx(this),n=e.getReactivityFactory();return n.fromObservable(this.get$(t),this.getLatest().get(t),e)},async incrementalModify(t){var e=await Pm(this.parent);return e.incrementalWriteQueue.addWrite(this._data,async n=>(n.data=await t(n.data,this),n)).then(n=>e.docCache.getCachedRxDocument(n))},incrementalPatch(t){return this.incrementalModify(e=>(Object.entries(t).forEach(([n,r])=>{e[n]=r}),e))},async _saveData(t){var e=await Pm(this.parent),n=this._data;t.id=this.id;var r=[{previous:n,document:t}];return e.storageInstance.bulkWrite(r,"local-document-save-data").then(i=>{if(i.error[0])throw i.error[0];var s=ka(this.collection.schema.primaryPath,r,i)[0];t=Yn(t),t._rev=s._rev})},async remove(){var t=await Pm(this.parent),e=Yn(this._data);return e._deleted=!0,og(t.storageInstance,{previous:this._data,document:e},"local-document-remove").then(n=>t.docCache.getCachedRxDocument(n))}},II=!1,qJ=()=>{if(!II){II=!0;var t=Tw,e=Object.getOwnPropertyNames(t);e.forEach(r=>{var i=Object.getOwnPropertyDescriptor(Rm,r);if(!i){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(Rm,r,s)}});var n=r=>()=>{throw ht("LD6",{functionName:r})};["populate","update","putAttachment","putAttachmentBase64","getAttachment","allAttachments"].forEach(r=>Rm[r]=n(r))}};function VJ(t,e){qJ();var n=new UJ(t.id,t,e);return Object.setPrototypeOf(n,Rm),n.prototype=Rm,n}function kx(t){var e=t.parent;return FK(e)?e:e.database}function DI(t){var e=t.database?t.database:t,n=t.database?t.name:"",r=(async()=>{var i=await H5(e.token,e.storage,e.name,n,e.instanceCreationOptions,e.multiInstance);i=XA(e,i,J5);var s=new m5("id",e.eventBulks$.pipe(En(h=>{var d=!1;return(n===""&&!h.collectionName||n!==""&&h.collectionName===n)&&(d=!0),d&&h.isLocal}),kr(h=>h.events)),h=>VJ(h,t)),a=new o5(i,"id",()=>{},()=>{}),o=await e.storageToken,u=i.changeStream().subscribe(h=>{for(var d=new Array(h.events.length),m=h.events,O=t.database?t.name:void 0,y=0;y<m.length;y++){var v=m[y];d[y]={documentId:v.documentId,collectionName:O,isLocal:!0,operation:v.operation,documentData:An.deepFreezeWhenDevMode(v.documentData),previousDocumentData:An.deepFreezeWhenDevMode(v.previousDocumentData)}}var w={id:h.id,isLocal:!0,internal:!1,collectionName:t.database?t.name:void 0,storageToken:o,events:d,databaseToken:e.token,checkpoint:h.checkpoint,context:h.context};e.$emit(w)});t._subs.push(u);var f={database:e,parent:t,storageInstance:i,docCache:s,incrementalWriteQueue:a};return NT.set(t,f),f})();m_.set(t,r)}var XJ={name:"local-documents",rxdb:!0,prototypes:{RxCollection:t=>{t.insertLocal=PI,t.upsertLocal=RI,t.getLocal=$I,t.getLocal$=MI},RxDatabase:t=>{t.insertLocal=PI,t.upsertLocal=RI,t.getLocal=$I,t.getLocal$=MI}},hooks:{createRxDatabase:{before:t=>{t.creator.localDocuments&&DI(t.database)}},createRxCollection:{before:t=>{t.creator.localDocuments&&DI(t.collection)}},preCloseRxDatabase:{after:t=>AI(t)},postCloseRxCollection:{after:t=>AI(t)},postRemoveRxDatabase:{after:t=>CI(t.storage,t.databaseName,"")},postRemoveRxCollection:{after:t=>CI(t.storage,t.databaseName,t.collectionName)}},overwritable:{}},FJ=new WeakMap,YJ={name:"migration-schema",rxdb:!0,init(){A5(XJ)},hooks:{preCloseRxDatabase:{after:jJ}},prototypes:{RxDatabase:t=>{t.migrationStates=function(){return K5(this).pipe(Hg(Fg))}},RxCollection:t=>{t.getMigrationState=function(){return Hs(FJ,this,()=>new BJ(this.asRxCollection,this.migrationStrategies))},t.migrationNeeded=function(){return this.schema.version===0?Al:W5(this.getMigrationState())}}}},WJ=YJ,QI={},NI;function GJ(){return NI||(NI=1,typeof Number.isFinite!="function"&&(Number.isFinite=function(e){return!(typeof e!="number"||e!==e||e===1/0||e===-1/0)})),QI}var Tx,LI;function ez(){if(LI)return Tx;LI=1;var t="Expected a function",e="__lodash_hash_undefined__",n="[object Function]",r="[object GeneratorFunction]",i="[object Symbol]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,o=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,m=typeof yl=="object"&&yl&&yl.Object===Object&&yl,O=typeof self=="object"&&self&&self.Object===Object&&self,y=m||O||Function("return this")();function v(de,ze){return de?.[ze]}function w(de){var ze=!1;if(de!=null&&typeof de.toString!="function")try{ze=!!(de+"")}catch{}return ze}var k=Array.prototype,T=Function.prototype,A=Object.prototype,C=y["__core-js_shared__"],I=(function(){var de=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return de?"Symbol(src)_1."+de:""})(),Q=T.toString,N=A.hasOwnProperty,j=A.toString,q=RegExp("^"+Q.call(N).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=y.Symbol,we=k.splice,K=Ue(y,"Map"),Ae=Ue(Object,"create"),Ee=oe?oe.prototype:void 0,Be=Ee?Ee.toString:void 0;function G(de){var ze=-1,dt=de?de.length:0;for(this.clear();++ze<dt;){var Le=de[ze];this.set(Le[0],Le[1])}}function ye(){this.__data__=Ae?Ae(null):{}}function Se(de){return this.has(de)&&delete this.__data__[de]}function Te(de){var ze=this.__data__;if(Ae){var dt=ze[de];return dt===e?void 0:dt}return N.call(ze,de)?ze[de]:void 0}function he(de){var ze=this.__data__;return Ae?ze[de]!==void 0:N.call(ze,de)}function z(de,ze){var dt=this.__data__;return dt[de]=Ae&&ze===void 0?e:ze,this}G.prototype.clear=ye,G.prototype.delete=Se,G.prototype.get=Te,G.prototype.has=he,G.prototype.set=z;function ne(de){var ze=-1,dt=de?de.length:0;for(this.clear();++ze<dt;){var Le=de[ze];this.set(Le[0],Le[1])}}function ge(){this.__data__=[]}function Pe(de){var ze=this.__data__,dt=ir(ze,de);if(dt<0)return!1;var Le=ze.length-1;return dt==Le?ze.pop():we.call(ze,dt,1),!0}function De(de){var ze=this.__data__,dt=ir(ze,de);return dt<0?void 0:ze[dt][1]}function tt(de){return ir(this.__data__,de)>-1}function it(de,ze){var dt=this.__data__,Le=ir(dt,de);return Le<0?dt.push([de,ze]):dt[Le][1]=ze,this}ne.prototype.clear=ge,ne.prototype.delete=Pe,ne.prototype.get=De,ne.prototype.has=tt,ne.prototype.set=it;function ut(de){var ze=-1,dt=de?de.length:0;for(this.clear();++ze<dt;){var Le=de[ze];this.set(Le[0],Le[1])}}function qe(){this.__data__={hash:new G,map:new(K||ne),string:new G}}function Cn(de){return ve(this,de).delete(de)}function mr(de){return ve(this,de).get(de)}function yt(de){return ve(this,de).has(de)}function rn(de,ze){return ve(this,de).set(de,ze),this}ut.prototype.clear=qe,ut.prototype.delete=Cn,ut.prototype.get=mr,ut.prototype.has=yt,ut.prototype.set=rn;function ir(de,ze){for(var dt=de.length;dt--;)if(Pn(de[dt][0],ze))return dt;return-1}function sr(de,ze){ze=Ne(ze,de)?[ze]:W(ze);for(var dt=0,Le=ze.length;de!=null&&dt<Le;)de=de[Tt(ze[dt++])];return dt&&dt==Le?de:void 0}function Ts(de){if(!Pr(de)||ft(de))return!1;var ze=Rn(de)||w(de)?q:d;return ze.test(Mt(de))}function X(de){if(typeof de=="string")return de;if(Gn(de))return Be?Be.call(de):"";var ze=de+"";return ze=="0"&&1/de==-1/0?"-0":ze}function W(de){return ar(de)?de:at(de)}function ve(de,ze){var dt=de.__data__;return Ze(ze)?dt[typeof ze=="string"?"string":"hash"]:dt.map}function Ue(de,ze){var dt=v(de,ze);return Ts(dt)?dt:void 0}function Ne(de,ze){if(ar(de))return!1;var dt=typeof de;return dt=="number"||dt=="symbol"||dt=="boolean"||de==null||Gn(de)?!0:a.test(de)||!s.test(de)||ze!=null&&de in Object(ze)}function Ze(de){var ze=typeof de;return ze=="string"||ze=="number"||ze=="symbol"||ze=="boolean"?de!=="__proto__":de===null}function ft(de){return!!I&&I in de}var at=un(function(de){de=Jt(de);var ze=[];return o.test(de)&&ze.push(""),de.replace(u,function(dt,Le,Vr,li){ze.push(Vr?li.replace(h,"$1"):Le||dt)}),ze});function Tt(de){if(typeof de=="string"||Gn(de))return de;var ze=de+"";return ze=="0"&&1/de==-1/0?"-0":ze}function Mt(de){if(de!=null){try{return Q.call(de)}catch{}try{return de+""}catch{}}return""}function un(de,ze){if(typeof de!="function"||ze&&typeof ze!="function")throw new TypeError(t);var dt=function(){var Le=arguments,Vr=ze?ze.apply(this,Le):Le[0],li=dt.cache;if(li.has(Vr))return li.get(Vr);var Di=de.apply(this,Le);return dt.cache=li.set(Vr,Di),Di};return dt.cache=new(un.Cache||ut),dt}un.Cache=ut;function Pn(de,ze){return de===ze||de!==de&&ze!==ze}var ar=Array.isArray;function Rn(de){var ze=Pr(de)?j.call(de):"";return ze==n||ze==r}function Pr(de){var ze=typeof de;return!!de&&(ze=="object"||ze=="function")}function qr(de){return!!de&&typeof de=="object"}function Gn(de){return typeof de=="symbol"||qr(de)&&j.call(de)==i}function Jt(de){return de==null?"":X(de)}function nt(de,ze,dt){var Le=de==null?void 0:sr(de,ze);return Le===void 0?dt:Le}return Tx=nt,Tx}var Ex,jI;function KJ(){return jI||(jI=1,Ex={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ENUM_CASE_MISMATCH:"Enum does not match case for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}),Ex}var Ax={},BI;function qd(){return BI||(BI=1,(function(t){t.jsonSymbol=Symbol.for("z-schema/json"),t.schemaSymbol=Symbol.for("z-schema/schema");var e=t.sortedKeys=function(n){return Object.keys(n).sort()};t.isAbsoluteUri=function(n){return/^https?:\/\//.test(n)},t.isRelativeUri=function(n){return/.+#/.test(n)},t.whatIs=function(n){var r=typeof n;return r==="object"?n===null?"null":Array.isArray(n)?"array":"object":r==="number"?Number.isFinite(n)?n%1===0?"integer":"number":Number.isNaN(n)?"not-a-number":"unknown-number":r},t.areEqual=function n(r,i,s){s=s||{};var a=s.caseInsensitiveComparison||!1;if(r===i||a===!0&&typeof r=="string"&&typeof i=="string"&&r.toUpperCase()===i.toUpperCase())return!0;var o,u;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(u=r.length,o=0;o<u;o++)if(!n(r[o],i[o],{caseInsensitiveComparison:a}))return!1;return!0}if(t.whatIs(r)==="object"&&t.whatIs(i)==="object"){var f=e(r),h=e(i);if(!n(f,h,{caseInsensitiveComparison:a}))return!1;for(u=f.length,o=0;o<u;o++)if(!n(r[f[o]],i[f[o]],{caseInsensitiveComparison:a}))return!1;return!0}return!1},t.isUniqueArray=function(n,r){var i,s,a=n.length;for(i=0;i<a;i++)for(s=i+1;s<a;s++)if(t.areEqual(n[i],n[s]))return r&&r.push(i,s),!1;return!0},t.difference=function(n,r){for(var i=[],s=n.length;s--;)r.indexOf(n[s])===-1&&i.push(n[s]);return i},t.clone=function(n){if(!(typeof n>"u")){if(typeof n!="object"||n===null)return n;var r,i;if(Array.isArray(n))for(r=[],i=n.length;i--;)r[i]=n[i];else{r={};var s=Object.keys(n);for(i=s.length;i--;){var a=s[i];r[a]=n[a]}}return r}},t.cloneDeep=function(n){var r=0,i=new Map,s=[];function a(o){if(typeof o!="object"||o===null)return o;var u,f,h;if(h=i.get(o),h!==void 0)return s[h];if(i.set(o,r++),Array.isArray(o))for(u=[],s.push(u),f=o.length;f--;)u[f]=a(o[f]);else{u={},s.push(u);var d=Object.keys(o);for(f=d.length;f--;){var m=d[f];u[m]=a(o[m])}}return u}return a(n)},t.ucs2decode=function(n){for(var r=[],i=0,s=n.length,a,o;i<s;)a=n.charCodeAt(i++),a>=55296&&a<=56319&&i<s?(o=n.charCodeAt(i++),(o&64512)==56320?r.push(((a&1023)<<10)+(o&1023)+65536):(r.push(a),i--)):r.push(a);return r}})(Ax)),Ax}var Cx,zI;function aO(){if(zI)return Cx;zI=1;var t=ez(),e=KJ(),n=qd();function r(i,s){this.parentReport=i instanceof r?i:void 0,this.options=i instanceof r?i.options:i||{},this.reportOptions=s||{},this.errors=[],this.path=[],this.asyncTasks=[],this.rootSchema=void 0,this.commonErrorMessage=void 0,this.json=void 0}return r.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return this.errors.length===0},r.prototype.addAsyncTask=function(i,s,a){this.asyncTasks.push([i,s,a])},r.prototype.getAncestor=function(i){if(this.parentReport)return this.parentReport.getSchemaId()===i?this.parentReport:this.parentReport.getAncestor(i)},r.prototype.processAsyncTasks=function(i,s){var a=i||2e3,o=this.asyncTasks.length,u=o,f=!1,h=this;function d(){process.nextTick(function(){var y=h.errors.length===0,v=y?null:h.errors;s(v,y)})}function m(y){return function(v){f||(y(v),--o===0&&d())}}if(o===0||this.errors.length>0&&this.options.breakOnFirstError){d();return}for(;u--;){var O=this.asyncTasks[u];O[0].apply(null,O[1].concat(m(O[2])))}setTimeout(function(){o>0&&(f=!0,h.addError("ASYNC_TIMEOUT",[o,a]),s(h.errors,!1))},a)},r.prototype.getPath=function(i){var s=[];return this.parentReport&&(s=s.concat(this.parentReport.path)),s=s.concat(this.path),i!==!0&&(s="#/"+s.map(function(a){return a=a.toString(),n.isAbsoluteUri(a)?"uri("+a+")":a.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),s},r.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var i=[];for(this.parentReport&&(i=i.concat(this.parentReport.path)),i=i.concat(this.path);i.length>0;){var s=t(this.rootSchema,i);if(s&&s.id)return s.id;i.pop()}return this.rootSchema.id},r.prototype.hasError=function(i,s){for(var a=this.errors.length;a--;)if(this.errors[a].code===i){for(var o=!0,u=this.errors[a].params.length;u--;)this.errors[a].params[u]!==s[u]&&(o=!1);if(o)return o}return!1},r.prototype.addError=function(i,s,a,o){if(!i)throw new Error("No errorCode passed into addError()");this.addCustomError(i,e[i],s,a,o)},r.prototype.getJson=function(){for(var i=this;i.json===void 0;)if(i=i.parentReport,i===void 0)return;return i.json},r.prototype.addCustomError=function(i,s,a,o,u){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!s)throw new Error("No errorMessage known for code "+i);a=a||[];for(var f=a.length;f--;){var h=n.whatIs(a[f]),d=h==="object"||h==="null"?JSON.stringify(a[f]):a[f];s=s.replace("{"+f+"}",d)}var m={code:i,params:a,message:s,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(m[n.schemaSymbol]=u,m[n.jsonSymbol]=this.getJson(),u&&typeof u=="string"?m.description=u:u&&typeof u=="object"&&(u.title&&(m.title=u.title),u.description&&(m.description=u.description)),o!=null){for(Array.isArray(o)||(o=[o]),m.inner=[],f=o.length;f--;)for(var O=o[f],y=O.errors.length;y--;)m.inner.push(O.errors[y]);m.inner.length===0&&(m.inner=void 0)}this.errors.push(m)}},Cx=r,Cx}var Zy={exports:{}},Uy={exports:{}},qy={exports:{}},ZI;function Xe(){return ZI||(ZI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r==null)throw new TypeError("Expected a string but received a ".concat(r));if(r.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(r.constructor.name))}t.exports=e.default,t.exports.default=e.default})(qy,qy.exports)),qy.exports}var UI;function iC(){return UI||(UI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),s=Date.parse(s),isNaN(s)?null:new Date(s)}t.exports=e.default,t.exports.default=e.default})(Uy,Uy.exports)),Uy.exports}var Vy={exports:{}},rh={},Xy={exports:{}},qI;function tz(){return qI||(qI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){return r==null}t.exports=e.default,t.exports.default=e.default})(Xy,Xy.exports)),Xy.exports}var wr={},VI;function oO(){if(VI)return wr;VI=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.farsiLocales=wr.englishLocales=wr.dotDecimal=wr.decimal=wr.commaDecimal=wr.bengaliLocales=wr.arabicLocales=wr.alphanumeric=wr.alpha=void 0;for(var t=wr.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,eo:/^[ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/,"ta-IN":/^[\u0B80-\u0BFF]+$/i,"te-IN":/^[\u0C00-\u0C7F]+$/i,"kn-IN":/^[\u0C80-\u0CFF]+$/i,"ml-IN":/^[\u0D00-\u0D7F]+$/i,"gu-IN":/^[\u0A80-\u0AFF]+$/i,"pa-IN":/^[\u0A00-\u0A7F]+$/i,"or-IN":/^[\u0B00-\u0B7F]+$/i},e=wr.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,eo:/^[0-9ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/,"ta-IN":/^[0-9\u0B80-\u0BFF.]+$/i,"te-IN":/^[0-9\u0C00-\u0C7F.]+$/i,"kn-IN":/^[0-9\u0C80-\u0CFF.]+$/i,"ml-IN":/^[0-9\u0D00-\u0D7F.]+$/i,"gu-IN":/^[0-9\u0A80-\u0AFF.]+$/i,"pa-IN":/^[0-9\u0A00-\u0A7F.]+$/i,"or-IN":/^[0-9\u0B00-\u0B7F.]+$/i},n=wr.decimal={"en-US":".",ar:""},r=wr.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],i,s=0;s<r.length;s++)i="en-".concat(r[s]),t[i]=t["en-US"],e[i]=e["en-US"],n[i]=n["en-US"];for(var a=wr.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],o,u=0;u<a.length;u++)o="ar-".concat(a[u]),t[o]=t.ar,e[o]=e.ar,n[o]=n.ar;for(var f=wr.farsiLocales=["IR","AF"],h,d=0;d<f.length;d++)h="fa-".concat(f[d]),e[h]=e.fa,n[h]=n.ar;for(var m=wr.bengaliLocales=["BD","IN"],O,y=0;y<m.length;y++)O="bn-".concat(m[y]),t[O]=t.bn,e[O]=e.bn,n[O]=n["en-US"];for(var v=wr.dotDecimal=["ar-EG","ar-LB","ar-LY"],w=wr.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","gu-IN","hi-IN","hu-HU","id-ID","it-IT","kk-KZ","kn-IN","ku-IQ","ml-IN","nb-NO","nl-NL","nn-NO","or-IN","pa-IN","pl-PL","pt-PT","ru-RU","si-LK","sl-SI","sr-RS","sr-RS@latin","sv-SE","ta-IN","te-IN","tr-TR","uk-UA","vi-VN"],k=0;k<v.length;k++)n[v[k]]=n["en-US"];for(var T=0;T<w.length;T++)n[w[T]]=",";return t["fr-CA"]=t["fr-FR"],e["fr-CA"]=e["fr-FR"],t["pt-BR"]=t["pt-PT"],e["pt-BR"]=e["pt-PT"],n["pt-BR"]=n["pt-PT"],t["pl-Pl"]=t["pl-PL"],e["pl-Pl"]=e["pl-PL"],n["pl-Pl"]=n["pl-PL"],t["fa-AF"]=t.fa,wr}var XI;function nz(){if(XI)return rh;XI=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.default=i,rh.locales=void 0;var t=r(Xe()),e=r(tz()),n=oO();function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,t.default)(s),a=a||{};var o=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(a.locale?n.decimal[a.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(s===""||s==="."||s===","||s==="-"||s==="+")return!1;var u=parseFloat(s.replace(",","."));return o.test(s)&&(!a.hasOwnProperty("min")||(0,e.default)(a.min)||u>=a.min)&&(!a.hasOwnProperty("max")||(0,e.default)(a.max)||u<=a.max)&&(!a.hasOwnProperty("lt")||(0,e.default)(a.lt)||u<a.lt)&&(!a.hasOwnProperty("gt")||(0,e.default)(a.gt)||u>a.gt)}return rh.locales=Object.keys(n.decimal),rh}var FI;function rz(){return FI||(FI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(nz());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s)?parseFloat(s):NaN}t.exports=e.default,t.exports.default=e.default})(Vy,Vy.exports)),Vy.exports}var Fy={exports:{}},YI;function HJ(){return YI||(YI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,n.default)(s),parseInt(s,a||10)}t.exports=e.default,t.exports.default=e.default})(Fy,Fy.exports)),Fy.exports}var Yy={exports:{}},WI;function JJ(){return WI||(WI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,n.default)(s),a?s==="1"||/^true$/i.test(s):s!=="0"&&!/^false$/i.test(s)&&s!==""}t.exports=e.default,t.exports.default=e.default})(Yy,Yy.exports)),Yy.exports}var Wy={exports:{}},GI;function eee(){return GI||(GI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,n.default)(s),s===a}t.exports=e.default,t.exports.default=e.default})(Wy,Wy.exports)),Wy.exports}var Gy={exports:{}},Ky={exports:{}},KI;function iz(){return KI||(KI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(i){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},n(i)}function r(i){return n(i)==="object"&&i!==null?typeof i.toString=="function"?i=i.toString():i="[object Object]":(i===null||typeof i>"u"||isNaN(i)&&!i.length)&&(i=""),String(i)}t.exports=e.default,t.exports.default=e.default})(Ky,Ky.exports)),Ky.exports}var Hy={exports:{}},HI;function Ii(){return HI||(HI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var s in i)typeof r[s]>"u"&&(r[s]=i[s]);return r}t.exports=e.default,t.exports.default=e.default})(Hy,Hy.exports)),Hy.exports}var JI;function tee(){return JI||(JI=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=s(Xe()),r=s(iz()),i=s(Ii());function s(u){return u&&u.__esModule?u:{default:u}}var a={ignoreCase:!1,minOccurrences:1};function o(u,f,h){return(0,n.default)(u),h=(0,i.default)(h,a),h.ignoreCase?u.toLowerCase().split((0,r.default)(f).toLowerCase()).length>h.minOccurrences:u.split((0,r.default)(f)).length>h.minOccurrences}t.exports=e.default,t.exports.default=e.default})(Gy,Gy.exports)),Gy.exports}var Jy={exports:{}},eD;function nee(){return eD||(eD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a,o){return(0,n.default)(s),Object.prototype.toString.call(a)!=="[object RegExp]"&&(a=new RegExp(a,o)),!!s.match(a)}t.exports=e.default,t.exports.default=e.default})(Jy,Jy.exports)),Jy.exports}var ev={exports:{}},tv={exports:{}},tD;function sz(){return tD||(tD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(i){return Object.prototype.toString.call(i)==="[object RegExp]"}function r(i,s){for(var a=0;a<s.length;a++){var o=s[a];if(i===o||n(o)&&o.test(i))return!0}return!1}t.exports=e.default,t.exports.default=e.default})(tv,tv.exports)),tv.exports}var nv={exports:{}},nD;function az(){return nD||(nD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,n.default)(a);var u,f;i(o)==="object"?(u=o.min||0,f=o.max):(u=arguments[1],f=arguments[2]);var h=encodeURI(a).split(/%..|./).length-1;return h>=u&&(typeof f>"u"||h<=f)}t.exports=e.default,t.exports.default=e.default})(nv,nv.exports)),nv.exports}var rv={exports:{}},rD;function sC(){return rD||(rD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=i(Ii());function i(o){return o&&o.__esModule?o:{default:o}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(o,u){(0,n.default)(o),u=(0,r.default)(u,s),u.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),u.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var f=o.split("."),h=f[f.length-1];return u.require_tld&&(f.length<2||!u.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(h)||/\s/.test(h))||!u.allow_numeric_tld&&/^\d+$/.test(h)?!1:f.every(function(d){return!(d.length>63&&!u.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(d)||/[\uff01-\uff5e]/.test(d)||/^-|-$/.test(d)||!u.allow_underscores&&/_/.test(d))})}t.exports=e.default,t.exports.default=e.default})(rv,rv.exports)),rv.exports}var iv={exports:{}},iD;function Cw(){return iD||(iD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var n=r(Xe());function r(d){return d&&d.__esModule?d:{default:d}}function i(d){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i(d)}var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(s,"[.]){3}").concat(s),o=new RegExp("^".concat(a,"$")),u="(?:[0-9a-fA-F]{1,4})",f=new RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(a,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(a,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(a,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(a,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(a,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(a,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(a,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function h(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(d);var O=(i(m)==="object"?m.version:arguments[1])||"";return O?O.toString()==="4"?o.test(d):O.toString()==="6"?f.test(d):!1:h(d,{version:4})||h(d,{version:6})}t.exports=e.default,t.exports.default=e.default})(iv,iv.exports)),iv.exports}var sD;function oz(){return sD||(sD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var n=u(Xe()),r=u(sz()),i=u(az()),s=u(sC()),a=u(Cw()),o=u(Ii());function u(A){return A&&A.__esModule?A:{default:A}}var f={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},h=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,m=/^[a-z\d]+$/,O=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,y=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,w=254;function k(A){var C=A.replace(/^"(.+)"$/,"$1");if(!C.trim())return!1;var I=/[\.";<>]/.test(C);if(I){if(C===A)return!1;var Q=C.split('"').length===C.split('\\"').length;if(!Q)return!1}return!0}function T(A,C){if((0,n.default)(A),C=(0,o.default)(C,f),C.require_display_name||C.allow_display_name){var I=A.match(h);if(I){var Q=I[1];if(A=A.replace(Q,"").replace(/(^<|>$)/g,""),Q.endsWith(" ")&&(Q=Q.slice(0,-1)),!k(Q))return!1}else if(C.require_display_name)return!1}if(!C.ignore_max_length&&A.length>w)return!1;var N=A.split("@"),j=N.pop(),q=j.toLowerCase();if(C.host_blacklist.length>0&&(0,r.default)(q,C.host_blacklist)||C.host_whitelist.length>0&&!(0,r.default)(q,C.host_whitelist))return!1;var oe=N.join("@");if(C.domain_specific_validation&&(q==="gmail.com"||q==="googlemail.com")){oe=oe.toLowerCase();var we=oe.split("+")[0];if(!(0,i.default)(we.replace(/\./g,""),{min:6,max:30}))return!1;for(var K=we.split("."),Ae=0;Ae<K.length;Ae++)if(!m.test(K[Ae]))return!1}if(C.ignore_max_length===!1&&(!(0,i.default)(oe,{max:64})||!(0,i.default)(j,{max:254})))return!1;if(!(0,s.default)(j,{require_tld:C.require_tld,ignore_max_length:C.ignore_max_length,allow_underscores:C.allow_underscores})){if(!C.allow_ip_domain)return!1;if(!(0,a.default)(j)){if(!j.startsWith("[")||!j.endsWith("]"))return!1;var Ee=j.slice(1,-1);if(Ee.length===0||!(0,a.default)(Ee))return!1}}if(C.blacklisted_chars&&oe.search(new RegExp("[".concat(C.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(oe[0]==='"'&&oe[oe.length-1]==='"')return oe=oe.slice(1,oe.length-1),C.allow_utf8_local_part?v.test(oe):O.test(oe);for(var Be=C.allow_utf8_local_part?y:d,G=oe.split("."),ye=0;ye<G.length;ye++)if(!Be.test(G[ye]))return!1;return!0}t.exports=e.default,t.exports.default=e.default})(ev,ev.exports)),ev.exports}var sv={exports:{}},av={exports:{}},aD;function lz(){return aD||(aD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(i,s){return i.indexOf(s)!==-1};e.default=n,t.exports=e.default,t.exports.default=e.default})(av,av.exports)),av.exports}var oD;function ree(){return oD||(oD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var n=u(Xe()),r=u(sz()),i=u(lz()),s=u(sC()),a=u(Cw()),o=u(Ii());function u(T){return T&&T.__esModule?T:{default:T}}function f(T,A){return y(T)||O(T,A)||d(T,A)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(T,A){if(T){if(typeof T=="string")return m(T,A);var C={}.toString.call(T).slice(8,-1);return C==="Object"&&T.constructor&&(C=T.constructor.name),C==="Map"||C==="Set"?Array.from(T):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?m(T,A):void 0}}function m(T,A){(A==null||A>T.length)&&(A=T.length);for(var C=0,I=Array(A);C<A;C++)I[C]=T[C];return I}function O(T,A){var C=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(C!=null){var I,Q,N,j,q=[],oe=!0,we=!1;try{if(N=(C=C.call(T)).next,A!==0)for(;!(oe=(I=N.call(C)).done)&&(q.push(I.value),q.length!==A);oe=!0);}catch(K){we=!0,Q=K}finally{try{if(!oe&&C.return!=null&&(j=C.return(),Object(j)!==j))return}finally{if(we)throw Q}}return q}}function y(T){if(Array.isArray(T))return T}var v={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},w=/^\[([^\]]+)\](?::([0-9]+))?$/;function k(T,A){if((0,n.default)(T),!T||/[\s<>]/.test(T)||T.indexOf("mailto:")===0||(A=(0,o.default)(A,v),A.validate_length&&T.length>A.max_allowed_length)||!A.allow_fragments&&(0,i.default)(T,"#")||!A.allow_query_components&&((0,i.default)(T,"?")||(0,i.default)(T,"&")))return!1;var C,I,Q,N,j,q,oe,we;oe=T.split("#"),T=oe.shift(),oe=T.split("?"),T=oe.shift();var K=T.match(/^([a-z][a-z0-9+\-.]*):/i),Ae=!1,Ee=function(yt){return Ae=!0,C=yt.toLowerCase(),A.require_valid_protocol&&A.protocols.indexOf(C)===-1?!1:T.substring(K[0].length)};if(K){var Be=K[1],G=T.substring(K[0].length),ye=G.slice(0,2)==="//";if(ye){if(T=Ee(Be),T===!1)return!1}else{var Se=G.indexOf("/"),Te=Se===-1?G:G.substring(0,Se),he=Te.indexOf("@");if(he!==-1){var z=Te.substring(0,he),ne=/^[a-zA-Z0-9\-_.%:]*$/,ge=ne.test(z),Pe=/%[0-9a-fA-F]{2}/.test(z);if(ge&&!Pe){if(A.require_protocol)return!1}else if(T=Ee(Be),T===!1)return!1}else{var De=/^[0-9]/.test(G);if(De){if(A.require_protocol)return!1}else if(T=Ee(Be),T===!1)return!1}}}else if(A.require_protocol)return!1;if(T.slice(0,2)==="//"){if(!Ae&&!A.allow_protocol_relative_urls)return!1;T=T.slice(2)}if(T==="")return!1;if(oe=T.split("/"),T=oe.shift(),T===""&&!A.require_host)return!0;if(oe=T.split("@"),oe.length>1){if(A.disallow_auth||oe[0]===""||(I=oe.shift(),I.indexOf(":")>=0&&I.split(":").length>2))return!1;var tt=I.split(":"),it=f(tt,2),ut=it[0],qe=it[1];if(ut===""&&qe==="")return!1}N=oe.join("@"),q=null,we=null;var Cn=N.match(w);if(Cn?(Q="",we=Cn[1],q=Cn[2]||null):(oe=N.split(":"),Q=oe.shift(),oe.length&&(q=oe.join(":"))),q!==null&&q.length>0){if(j=parseInt(q,10),!/^[0-9]+$/.test(q)||j<=0||j>65535)return!1}else if(A.require_port)return!1;return A.host_whitelist?(0,r.default)(Q,A.host_whitelist):Q===""&&!A.require_host?!0:!(!(0,a.default)(Q)&&!(0,s.default)(Q,A)&&(!we||!(0,a.default)(we,6))||(Q=Q||we,A.host_blacklist&&(0,r.default)(Q,A.host_blacklist)))}t.exports=e.default,t.exports.default=e.default})(sv,sv.exports)),sv.exports}var ov={exports:{}},lD;function iee(){return lD||(lD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var n=r(Xe());function r(d){return d&&d.__esModule?d:{default:d}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,s=/^([0-9a-fA-F]){12}$/,a=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,u=/^([0-9a-fA-F]){16}$/,f=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function h(d,m){return(0,n.default)(d),m!=null&&m.eui&&(m.eui=String(m.eui)),m!=null&&m.no_colons||m!=null&&m.no_separators?m.eui==="48"?s.test(d):m.eui==="64"?u.test(d):s.test(d)||u.test(d):m?.eui==="48"?i.test(d)||a.test(d):m?.eui==="64"?o.test(d)||f.test(d):h(d,{eui:"48"})||h(d,{eui:"64"})}t.exports=e.default,t.exports.default=e.default})(ov,ov.exports)),ov.exports}var lv={exports:{}},uD;function see(){return uD||(uD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=i(Xe()),r=i(Cw());function i(f){return f&&f.__esModule?f:{default:f}}var s=/^\d{1,3}$/,a=32,o=128;function u(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,n.default)(f);var d=f.split("/");if(d.length!==2||!s.test(d[1])||d[1].length>1&&d[1].startsWith("0"))return!1;var m=(0,r.default)(d[0],h);if(!m)return!1;var O=null;switch(String(h)){case"4":O=a;break;case"6":O=o;break;default:O=(0,r.default)(d[0],"6")?o:a}return d[1]<=O&&d[1]>=0}t.exports=e.default,t.exports.default=e.default})(lv,lv.exports)),lv.exports}var uv={exports:{}},cD;function uz(){return cD||(cD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=r(Ii());function r(v){return v&&v.__esModule?v:{default:v}}function i(v,w){return o(v)||a(v,w)||f(v,w)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(v,w){var k=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(k!=null){var T,A,C,I,Q=[],N=!0,j=!1;try{if(C=(k=k.call(v)).next,w!==0)for(;!(N=(T=C.call(k)).done)&&(Q.push(T.value),Q.length!==w);N=!0);}catch(q){j=!0,A=q}finally{try{if(!N&&k.return!=null&&(I=k.return(),Object(I)!==I))return}finally{if(j)throw A}}return Q}}function o(v){if(Array.isArray(v))return v}function u(v,w){var k=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!k){if(Array.isArray(v)||(k=f(v))||w){k&&(v=k);var T=0,A=function(){};return{s:A,n:function(){return T>=v.length?{done:!0}:{done:!1,value:v[T++]}},e:function(j){throw j},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,I=!0,Q=!1;return{s:function(){k=k.call(v)},n:function(){var j=k.next();return I=j.done,j},e:function(j){Q=!0,C=j},f:function(){try{I||k.return==null||k.return()}finally{if(Q)throw C}}}}function f(v,w){if(v){if(typeof v=="string")return h(v,w);var k={}.toString.call(v).slice(8,-1);return k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set"?Array.from(v):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?h(v,w):void 0}}function h(v,w){(w==null||w>v.length)&&(w=v.length);for(var k=0,T=Array(w);k<w;k++)T[k]=v[k];return T}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function m(v){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(v)}function O(v,w){for(var k=[],T=Math.max(v.length,w.length),A=0;A<T;A++)k.push([v[A],w[A]]);return k}function y(v,w){if(typeof w=="string"?w=(0,n.default)({format:w},d):w=(0,n.default)(w,d),typeof v=="string"&&m(w.format)){if(w.strictMode&&v.length!==w.format.length)return!1;var k=w.delimiters.find(function(Be){return w.format.indexOf(Be)!==-1}),T=w.strictMode?k:w.delimiters.find(function(Be){return v.indexOf(Be)!==-1}),A=O(v.split(T),w.format.toLowerCase().split(k)),C={},I=u(A),Q;try{for(I.s();!(Q=I.n()).done;){var N=i(Q.value,2),j=N[0],q=N[1];if(!j||!q||j.length!==q.length)return!1;C[q.charAt(0)]=j}}catch(Be){I.e(Be)}finally{I.f()}var oe=C.y;if(oe.startsWith("-"))return!1;if(C.y.length===2){var we=parseInt(C.y,10);if(isNaN(we))return!1;var K=new Date().getFullYear()%100;we<K?oe="20".concat(C.y):oe="19".concat(C.y)}var Ae=C.m;C.m.length===1&&(Ae="0".concat(C.m));var Ee=C.d;return C.d.length===1&&(Ee="0".concat(C.d)),new Date("".concat(oe,"-").concat(Ae,"-").concat(Ee,"T00:00:00.000Z")).getUTCDate()===+C.d}return w.strictMode?!1:Object.prototype.toString.call(v)==="[object Date]"&&isFinite(v)}t.exports=e.default,t.exports.default=e.default})(uv,uv.exports)),uv.exports}var cv={exports:{}},fD;function aee(){return fD||(fD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(Ii());function r(o){return o&&o.__esModule?o:{default:o}}var i={hourFormat:"hour24",mode:"default"},s={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,withOptionalSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9]))?$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/,withOptionalSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9])(?::([0-5][0-9]))? (A|P)M$/}};function a(o,u){return u=(0,n.default)(u,i),typeof o!="string"?!1:s[u.hourFormat][u.mode].test(o)}t.exports=e.default,t.exports.default=e.default})(cv,cv.exports)),cv.exports}var fv={exports:{}},hv={exports:{}},hD;function lO(){return hD||(hD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(i,s){return i.some(function(a){return s===a})};e.default=n,t.exports=e.default,t.exports.default=e.default})(hv,hv.exports)),hv.exports}var dD;function oee(){return dD||(dD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=i(Xe()),r=i(lO());function i(f){return f&&f.__esModule?f:{default:f}}var s={loose:!1},a=["true","false","1","0"],o=[].concat(a,["yes","no"]);function u(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return(0,n.default)(f),h.loose?(0,r.default)(o,f.toLowerCase()):(0,r.default)(a,f)}t.exports=e.default,t.exports.default=e.default})(fv,fv.exports)),fv.exports}var dv={exports:{}},pD;function lee(){return pD||(pD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var n=r(Xe());function r(A){return A&&A.__esModule?A:{default:A}}var i="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",s="(([a-zA-Z]{2,3}(-".concat(i,")?)|([a-zA-Z]{5,8}))"),a="([A-Za-z]{4})",o="([A-Za-z]{2}|\\d{3})",u="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",f="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",h="(".concat(f,"(-[A-Za-z0-9]{2,8})+)"),d="(x(-[A-Za-z0-9]{1,8})+)",m="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",O="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",y="(".concat(m,"|").concat(O,")"),v="(-|_)",w="".concat(s,"(").concat(v).concat(a,")?(").concat(v).concat(o,")?(").concat(v).concat(u,")*(").concat(v).concat(h,")*(").concat(v).concat(d,")?"),k=new RegExp("(^".concat(d,"$)|(^").concat(y,"$)|(^").concat(w,"$)"));function T(A){return(0,n.default)(A),k.test(A)}t.exports=e.default,t.exports.default=e.default})(dv,dv.exports)),dv.exports}var pv={exports:{}},mD;function uee(){return mD||(mD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function s(a){if((0,n.default)(a),!i.test(a))return!1;for(var o=0,u=0;u<a.length;u++)u%3===0?o+=a[u]*3:u%3===1?o+=a[u]*7:o+=a[u]*1;return o%10===0}t.exports=e.default,t.exports.default=e.default})(pv,pv.exports)),pv.exports}var ih={},gD;function cee(){if(gD)return ih;gD=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.default=r,ih.locales=void 0;var t=n(Xe()),e=oO();function n(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,t.default)(i);var o=i,u=a.ignore;if(u)if(u instanceof RegExp)o=o.replace(u,"");else if(typeof u=="string")o=o.replace(new RegExp("[".concat(u.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alpha)return e.alpha[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return ih.locales=Object.keys(e.alpha),ih}var sh={},OD;function fee(){if(OD)return sh;OD=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.default=r,sh.locales=void 0;var t=n(Xe()),e=oO();function n(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,t.default)(i);var o=i,u=a.ignore;if(u)if(u instanceof RegExp)o=o.replace(u,"");else if(typeof u=="string")o=o.replace(new RegExp("[".concat(u.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alphanumeric)return e.alphanumeric[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return sh.locales=Object.keys(e.alphanumeric),sh}var mv={exports:{}},yD;function hee(){return yD||(yD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=oO();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[0-9]+$/;function a(o,u){return(0,n.default)(o),u&&u.no_symbols?s.test(o):new RegExp("^[+-]?([0-9]*[".concat((u||{}).locale?r.decimal[u.locale]:".","])?[0-9]+$")).test(o)}t.exports=e.default,t.exports.default=e.default})(mv,mv.exports)),mv.exports}var ah={},vD;function dee(){if(vD)return ah;vD=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.default=r,ah.locales=void 0;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$|^[A-Z]\d{6}[A-Z]{2}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$|^[A-Z]\d{8}$/,ZA:/^[TAMD]\d{8}$/};ah.locales=Object.keys(n);function r(i,s){(0,t.default)(i);var a=i.replace(/\s/g,"").toUpperCase();return s.toUpperCase()in n&&n[s].test(a)}return ah}var gv={exports:{}},Ov={exports:{}},bD;function aC(){return bD||(bD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(Xe()),r=i(tz());function i(u){return u&&u.__esModule?u:{default:u}}var s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;function o(u,f){(0,n.default)(u),f=f||{};var h=f.allow_leading_zeroes===!1?s:a,d=!f.hasOwnProperty("min")||(0,r.default)(f.min)||u>=f.min,m=!f.hasOwnProperty("max")||(0,r.default)(f.max)||u<=f.max,O=!f.hasOwnProperty("lt")||(0,r.default)(f.lt)||u<f.lt,y=!f.hasOwnProperty("gt")||(0,r.default)(f.gt)||u>f.gt;return h.test(u)&&d&&m&&O&&y}t.exports=e.default,t.exports.default=e.default})(Ov,Ov.exports)),Ov.exports}var _D;function pee(){return _D||(_D=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(aC());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s,{allow_leading_zeroes:!1,min:0,max:65535})}t.exports=e.default,t.exports.default=e.default})(gv,gv.exports)),gv.exports}var yv={exports:{}},wD;function mee(){return wD||(wD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),s===s.toLowerCase()}t.exports=e.default,t.exports.default=e.default})(yv,yv.exports)),yv.exports}var vv={exports:{}},SD;function gee(){return SD||(SD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),s===s.toUpperCase()}t.exports=e.default,t.exports.default=e.default})(vv,vv.exports)),vv.exports}var bv={exports:{}},xD;function Oee(){return xD||(xD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(Xe());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^[0-9]{15}$/,s=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function a(o,u){(0,n.default)(o),u=u||{};var f=i;if(u.allow_hyphens&&(f=s),!f.test(o))return!1;o=o.replace(/-/g,"");for(var h=0,d=2,m=14,O=0;O<m;O++){var y=o.substring(m-O-1,m-O),v=parseInt(y,10)*d;v>=10?h+=v%10+1:h+=v,d===1?d+=1:d-=1}var w=(10-h%10)%10;return w===parseInt(o.substring(14,15),10)}t.exports=e.default,t.exports.default=e.default})(bv,bv.exports)),bv.exports}var _v={exports:{}},kD;function yee(){return kD||(kD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[\x00-\x7F]+$/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(_v,_v.exports)),_v.exports}var oh={},TD;function cz(){if(TD)return oh;TD=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.default=r,oh.fullWidth=void 0;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n=oh.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(i){return(0,t.default)(i),n.test(i)}return oh}var lh={},ED;function fz(){if(ED)return lh;ED=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.default=r,lh.halfWidth=void 0;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n=lh.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(i){return(0,t.default)(i),n.test(i)}return lh}var wv={exports:{}},AD;function vee(){return AD||(AD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=s(Xe()),r=cz(),i=fz();function s(o){return o&&o.__esModule?o:{default:o}}function a(o){return(0,n.default)(o),r.fullWidth.test(o)&&i.halfWidth.test(o)}t.exports=e.default,t.exports.default=e.default})(wv,wv.exports)),wv.exports}var Sv={exports:{}},CD;function bee(){return CD||(CD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/[^\x00-\x7F]/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Sv,Sv.exports)),Sv.exports}var xv={exports:{}},kv={exports:{}},PD;function _ee(){return PD||(PD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){var s=r.join("");return new RegExp(s,i)}t.exports=e.default,t.exports.default=e.default})(kv,kv.exports)),kv.exports}var RD;function wee(){return RD||(RD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=i(_ee());function i(o){return o&&o.__esModule?o:{default:o}}var s=(0,r.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function a(o){return(0,n.default)(o),s.test(o)}t.exports=e.default,t.exports.default=e.default})(xv,xv.exports)),xv.exports}var Tv={exports:{}},$D;function See(){return $D||($D=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Tv,Tv.exports)),Tv.exports}var Ev={exports:{}},MD;function xee(){return MD||(MD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var n=a(Ii()),r=a(Xe()),i=a(lO()),s=oO();function a(d){return d&&d.__esModule?d:{default:d}}function o(d){var m=new RegExp("^[-+]?([0-9]+)?(\\".concat(s.decimal[d.locale],"[0-9]{").concat(d.decimal_digits,"})").concat(d.force_decimal?"":"?","$"));return m}var u={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},f=["","-","+"];function h(d,m){if((0,r.default)(d),m=(0,n.default)(m,u),m.locale in s.decimal)return!(0,i.default)(f,d.replace(/ /g,""))&&o(m).test(d);throw new Error("Invalid locale '".concat(m.locale,"'"))}t.exports=e.default,t.exports.default=e.default})(Ev,Ev.exports)),Ev.exports}var Av={exports:{}},ID;function hz(){return ID||(ID=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x|0h)?[0-9A-F]+$/i;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Av,Av.exports)),Av.exports}var Cv={exports:{}},DD;function kee(){return DD||(DD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0o)?[0-7]+$/i;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Cv,Cv.exports)),Cv.exports}var Pv={exports:{}},QD;function Tee(){return QD||(QD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Xe()),r=i(rz());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,n.default)(a),(0,r.default)(a)%parseInt(o,10)===0}t.exports=e.default,t.exports.default=e.default})(Pv,Pv.exports)),Pv.exports}var Rv={exports:{}},ND;function Eee(){return ND||(ND=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=i(Xe()),r=i(Ii());function i(f){return f&&f.__esModule?f:{default:f}}var s=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i,a=/^#([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i,o={require_hashtag:!1};function u(f,h){(0,n.default)(f),h=(0,r.default)(h,o);var d=h.require_hashtag?a:s;return d.test(f)}t.exports=e.default,t.exports.default=e.default})(Rv,Rv.exports)),Rv.exports}var $v={exports:{}},LD;function Aee(){return LD||(LD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var n=r(Xe());function r(d){return d&&d.__esModule?d:{default:d}}function i(d){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i(d)}var s=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d\d?|1(\.0)?|0(\.0)?)\)$/,o=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,u=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d\d?|1(\.0)?|0(\.0)?)\)$/,f=/^rgba?/;function h(d,m){(0,n.default)(d);var O=!1,y=!0;if(i(m)!=="object"?arguments.length>=2&&(y=arguments[1]):(O=m.allowSpaces!==void 0?m.allowSpaces:O,y=m.includePercentValues!==void 0?m.includePercentValues:y),O){if(!f.test(d))return!1;d=d.replace(/\s/g,"")}return y?s.test(d)||a.test(d)||o.test(d)||u.test(d):s.test(d)||a.test(d)}t.exports=e.default,t.exports.default=e.default})($v,$v.exports)),$v.exports}var Mv={exports:{}},jD;function Cee(){return jD||(jD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(Xe());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function a(o){(0,n.default)(o);var u=o.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return u.indexOf(",")!==-1?i.test(u):s.test(u)}t.exports=e.default,t.exports.default=e.default})(Mv,Mv.exports)),Mv.exports}var Iv={exports:{}},BD;function Pee(){return BD||(BD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Iv,Iv.exports)),Iv.exports}var uh={},zD;function Ree(){if(zD)return uh;zD=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.default=o,uh.locales=void 0;var t=n(Xe()),e=n(lO());function n(u){return u&&u.__esModule?u:{default:u}}var r={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})\d{22}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function i(u){var f=u.filter(function(h){return!(h in r)});return!(f.length>0)}function s(u,f){var h=u.replace(/[\s\-]+/gi,"").toUpperCase(),d=h.slice(0,2).toUpperCase(),m=d in r;if(f.whitelist){if(!i(f.whitelist))return!1;var O=(0,e.default)(f.whitelist,d);if(!O)return!1}if(f.blacklist){var y=(0,e.default)(f.blacklist,d);if(y)return!1}return m&&r[d].test(h)}function a(u){var f=u.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),h=f.slice(4)+f.slice(0,4),d=h.replace(/[A-Z]/g,function(O){return O.charCodeAt(0)-55}),m=d.match(/\d{1,7}/g).reduce(function(O,y){return Number(O+y)%97},"");return m===1}function o(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t.default)(u),s(u,f)&&a(u)}return uh.locales=Object.keys(r),uh}var Dv={exports:{}},ch={},ZD;function dz(){if(ZD)return ch;ZD=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.CountryCodes=void 0,ch.default=r;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function r(i){return(0,t.default)(i),n.has(i.toUpperCase())}return ch.CountryCodes=n,ch}var UD;function $ee(){return UD||(UD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=dz();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function a(o){(0,n.default)(o);var u=o.slice(4,6).toUpperCase();return!r.CountryCodes.has(u)&&u!=="XK"?!1:s.test(o)}t.exports=e.default,t.exports.default=e.default})(Dv,Dv.exports)),Dv.exports}var Qv={exports:{}},qD;function Mee(){return qD||(qD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[a-f0-9]{32}$/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(Qv,Qv.exports)),Qv.exports}var Nv={exports:{}},VD;function Iee(){return VD||(VD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function s(a,o){(0,n.default)(a);var u=new RegExp("^[a-fA-F0-9]{".concat(i[o],"}$"));return u.test(a)}t.exports=e.default,t.exports.default=e.default})(Nv,Nv.exports)),Nv.exports}var Lv={exports:{}},jv={exports:{}},XD;function pz(){return XD||(XD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=i(Xe()),r=i(Ii());function i(h){return h&&h.__esModule?h:{default:h}}var s=/^[A-Za-z0-9+/]+={0,2}$/,a=/^[A-Za-z0-9+/]+$/,o=/^[A-Za-z0-9_-]+={0,2}$/,u=/^[A-Za-z0-9_-]+$/;function f(h,d){var m;if((0,n.default)(h),d=(0,r.default)(d,{urlSafe:!1,padding:!((m=d)!==null&&m!==void 0&&m.urlSafe)}),h==="")return!0;if(d.padding&&h.length%4!==0)return!1;var O;return d.urlSafe?O=d.padding?o:u:O=d.padding?s:a,(!d.padding||h.length%4===0)&&O.test(h)}t.exports=e.default,t.exports.default=e.default})(jv,jv.exports)),jv.exports}var FD;function Dee(){return FD||(FD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Xe()),r=i(pz());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){(0,n.default)(a);var o=a.split("."),u=o.length;return u!==3?!1:o.reduce(function(f,h){return f&&(0,r.default)(h,{urlSafe:!0})},!0)}t.exports=e.default,t.exports.default=e.default})(Lv,Lv.exports)),Lv.exports}var Bv={exports:{}},YD;function Qee(){return YD||(YD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=s(Xe()),r=s(lO()),i=s(Ii());function s(f){return f&&f.__esModule?f:{default:f}}function a(f){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a(f)}var o={allow_primitives:!1};function u(f,h){(0,n.default)(f);try{h=(0,i.default)(h,o);var d=[];h.allow_primitives&&(d=[null,!1,!0]);var m=JSON.parse(f);return(0,r.default)(d,m)||!!m&&a(m)==="object"}catch{}return!1}t.exports=e.default,t.exports.default=e.default})(Bv,Bv.exports)),Bv.exports}var zv={exports:{}},WD;function Nee(){return WD||(WD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=i(Ii());function i(o){return o&&o.__esModule?o:{default:o}}var s={ignore_whitespace:!1};function a(o,u){return(0,n.default)(o),u=(0,r.default)(u,s),(u.ignore_whitespace?o.trim().length:o.length)===0}t.exports=e.default,t.exports.default=e.default})(zv,zv.exports)),zv.exports}var Zv={exports:{}},GD;function Lee(){return GD||(GD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,n.default)(a);var u,f;i(o)==="object"?(u=o.min||0,f=o.max):(u=arguments[1]||0,f=arguments[2]);var h=a.match(/[^\uFE0F\uFE0E][\uFE0F\uFE0E]/g)||[],d=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],m=a.length-h.length-d.length,O=m>=u&&(typeof f>"u"||m<=f);return O&&Array.isArray(o?.discreteLengths)?o.discreteLengths.some(function(y){return y===m}):O}t.exports=e.default,t.exports.default=e.default})(Zv,Zv.exports)),Zv.exports}var Uv={exports:{}},KD;function jee(){return KD||(KD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i.test(s)}t.exports=e.default,t.exports.default=e.default})(Uv,Uv.exports)),Uv.exports}var qv={exports:{}},HD;function Bee(){return HD||(HD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,6:/^[0-9A-F]{8}-[0-9A-F]{4}-6[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,8:/^[0-9A-F]{8}-[0-9A-F]{4}-8[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,nil:/^00000000-0000-0000-0000-000000000000$/i,max:/^ffffffff-ffff-ffff-ffff-ffffffffffff$/i,loose:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,all:/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i};function s(a,o){return(0,n.default)(a),o==null&&(o="all"),o in i?i[o].test(a):!1}t.exports=e.default,t.exports.default=e.default})(qv,qv.exports)),qv.exports}var Vv={exports:{}},JD;function zee(){return JD||(JD=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Xe()),r=i(hz());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,n.default)(a),(0,r.default)(a)&&a.length===24}t.exports=e.default,t.exports.default=e.default})(Vv,Vv.exports)),Vv.exports}var Xv={exports:{}},eQ;function Zee(){return eQ||(eQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(iC());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){var u=(i(o)==="object"?o.comparisonDate:o)||Date().toString(),f=(0,n.default)(u),h=(0,n.default)(a);return!!(h&&f&&h>f)}t.exports=e.default,t.exports.default=e.default})(Xv,Xv.exports)),Xv.exports}var Fv={exports:{}},tQ;function Uee(){return tQ||(tQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(iC());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){var u=(i(o)==="object"?o.comparisonDate:o)||Date().toString(),f=(0,n.default)(u),h=(0,n.default)(a);return!!(h&&f&&h<f)}t.exports=e.default,t.exports.default=e.default})(Fv,Fv.exports)),Fv.exports}var Yv={exports:{}},nQ;function qee(){return nQ||(nQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(Xe()),r=i(iz());function i(o){return o&&o.__esModule?o:{default:o}}function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(o)}function a(o,u){(0,n.default)(o);var f;if(Object.prototype.toString.call(u)==="[object Array]"){var h=[];for(f in u)({}).hasOwnProperty.call(u,f)&&(h[f]=(0,r.default)(u[f]));return h.indexOf(o)>=0}else{if(s(u)==="object")return u.hasOwnProperty(o);if(u&&typeof u.indexOf=="function")return u.indexOf(o)>=0}return!1}t.exports=e.default,t.exports.default=e.default})(Yv,Yv.exports)),Yv.exports}var Wv={exports:{}},rQ;function mz(){return rQ||(rQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){(0,n.default)(s);for(var a=s.replace(/[- ]+/g,""),o=0,u,f,h,d=a.length-1;d>=0;d--)u=a.substring(d,d+1),f=parseInt(u,10),h?(f*=2,f>=10?o+=f%10+1:o+=f):o+=f,h=!h;return!!(o%10===0&&a)}t.exports=e.default,t.exports.default=e.default})(Wv,Wv.exports)),Wv.exports}var Gv={exports:{}},iQ;function Vee(){return iQ||(iQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(Xe()),r=i(mz());function i(u){return u&&u.__esModule?u:{default:u}}var s={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},a=(function(){var u=[];for(var f in s)s.hasOwnProperty(f)&&u.push(s[f]);return u})();function o(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(u);var h=f.provider,d=u.replace(/[- ]+/g,"");if(h&&h.toLowerCase()in s){if(!s[h.toLowerCase()].test(d))return!1}else{if(h&&!(h.toLowerCase()in s))throw new Error("".concat(h," is not a valid credit card provider."));if(!a.some(function(m){return m.test(d)}))return!1}return(0,r.default)(u)}t.exports=e.default,t.exports.default=e.default})(Gv,Gv.exports)),Gv.exports}var Kv={exports:{}},sQ;function Xee(){return sQ||(sQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=s(Xe()),r=s(lO()),i=s(aC());function s(u){return u&&u.__esModule?u:{default:u}}var a={PL:function(f){(0,n.default)(f);var h={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(f!=null&&f.length===11&&(0,i.default)(f,{allow_leading_zeroes:!0})){var d=f.split("").slice(0,-1),m=d.reduce(function(v,w,k){return v+Number(w)*h[k+1]},0),O=m%10,y=Number(f.charAt(f.length-1));if(O===0&&y===0||y===10-O)return!0}return!1},ES:function(f){(0,n.default)(f);var h=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,d={X:0,Y:1,Z:2},m=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],O=f.trim().toUpperCase();if(!h.test(O))return!1;var y=O.slice(0,-1).replace(/[X,Y,Z]/g,function(v){return d[v]});return O.endsWith(m[y%23])},FI:function(f){if((0,n.default)(f),f.length!==11||!f.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var h="0123456789ABCDEFHJKLMNPRSTUVWXY",d=parseInt(f.slice(0,6),10)*1e3+parseInt(f.slice(7,10),10),m=d%31,O=h[m];return O===f.slice(10,11)},IN:function(f){var h=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,d=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],m=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],O=f.trim();if(!h.test(O))return!1;var y=0,v=O.replace(/\s/g,"").split("").map(Number).reverse();return v.forEach(function(w,k){y=d[y][m[k%8][w]]}),y===0},IR:function(f){if(!f.match(/^\d{10}$/)||(f="0000".concat(f).slice(f.length-6),parseInt(f.slice(3,9),10)===0))return!1;for(var h=parseInt(f.slice(9,10),10),d=0,m=0;m<9;m++)d+=parseInt(f.slice(m,m+1),10)*(10-m);return d%=11,d<2&&h===d||d>=2&&h===11-d},IT:function(f){return f.length!==9||f==="CA00000AA"?!1:f.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(f){var h=f.trim();if(isNaN(Number(h))||h.length!==11||h==="00000000000")return!1;var d=h.split("").map(Number),m=(11-(3*d[0]+7*d[1]+6*d[2]+1*d[3]+8*d[4]+9*d[5]+4*d[6]+5*d[7]+2*d[8])%11)%11,O=(11-(5*d[0]+4*d[1]+3*d[2]+2*d[3]+7*d[4]+6*d[5]+5*d[6]+4*d[7]+3*d[8]+2*m)%11)%11;return!(m!==d[9]||O!==d[10])},TH:function(f){if(!f.match(/^[1-8]\d{12}$/))return!1;for(var h=0,d=0;d<12;d++)h+=parseInt(f[d],10)*(13-d);return f[12]===((11-h%11)%10).toString()},LK:function(f){var h=/^[1-9]\d{8}[vx]$/i,d=/^[1-9]\d{11}$/i;return f.length===10&&h.test(f)?!0:!!(f.length===12&&d.test(f))},"he-IL":function(f){var h=/^\d{9}$/,d=f.trim();if(!h.test(d))return!1;for(var m=d,O=0,y,v=0;v<m.length;v++)y=Number(m[v])*(v%2+1),O+=y>9?y-9:y;return O%10===0},"ar-LY":function(f){var h=/^(1|2)\d{11}$/,d=f.trim();return!!h.test(d)},"ar-TN":function(f){var h=/^\d{8}$/,d=f.trim();return!!h.test(d)},"zh-CN":function(f){var h=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],d=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],m=["1","0","X","9","8","7","6","5","4","3","2"],O=function(I){return(0,r.default)(h,I)},y=function(I){var Q=parseInt(I.substring(0,4),10),N=parseInt(I.substring(4,6),10),j=parseInt(I.substring(6),10),q=new Date(Q,N-1,j);return q>new Date?!1:q.getFullYear()===Q&&q.getMonth()===N-1&&q.getDate()===j},v=function(I){for(var Q=I.substring(0,17),N=0,j=0;j<17;j++)N+=parseInt(Q.charAt(j),10)*parseInt(d[j],10);var q=N%11;return m[q]},w=function(I){return v(I)===I.charAt(17).toUpperCase()},k=function(I){var Q=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(I);if(!Q)return!1;var N=I.substring(0,2);if(Q=O(N),!Q)return!1;var j="19".concat(I.substring(6,12));return Q=y(j),!!Q},T=function(I){var Q=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(I);if(!Q)return!1;var N=I.substring(0,2);if(Q=O(N),!Q)return!1;var j=I.substring(6,14);return Q=y(j),Q?w(I):!1},A=function(I){var Q=/^\d{15}|(\d{17}(\d|x|X))$/.test(I);return Q?I.length===15?k(I):T(I):!1};return A(f)},"zh-HK":function(f){f=f.trim();var h=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,d=/^[0-9]$/;if(f=f.toUpperCase(),!h.test(f))return!1;f=f.replace(/\[|\]|\(|\)/g,""),f.length===8&&(f="3".concat(f));for(var m=0,O=0;O<=7;O++){var y=void 0;d.test(f[O])?y=f[O]:y=(f[O].charCodeAt(0)-55)%11,m+=y*(9-O)}m%=11;var v;return m===0?v="0":m===1?v="A":v=String(11-m),v===f[f.length-1]},"zh-TW":function(f){var h={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},d=f.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(d)?Array.from(d).reduce(function(m,O,y){if(y===0){var v=h[O];return v%10*9+Math.floor(v/10)}return y===9?(10-m%10-Number(O))%10===0:m+Number(O)*(9-y)},0):!1},PK:function(f){var h=/^[1-7][0-9]{4}-[0-9]{7}-[1-9]$/,d=f.trim();return h.test(d)}};function o(u,f){if((0,n.default)(u),f in a)return a[f](u);if(f==="any"){for(var h in a)if(a.hasOwnProperty(h)){var d=a[h];if(d(u))return!0}return!1}throw new Error("Invalid locale '".concat(f,"'"))}t.exports=e.default,t.exports.default=e.default})(Kv,Kv.exports)),Kv.exports}var Hv={exports:{}},aQ;function Fee(){return aQ||(aQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=r(Xe());function r(h){return h&&h.__esModule?h:{default:h}}var i=8,s=14,a=/^(\d{8}|\d{13}|\d{14})$/;function o(h,d){return h===i||h===s?d%2===0?3:1:d%2===0?1:3}function u(h){var d=h.slice(0,-1).split("").map(function(O,y){return Number(O)*o(h.length,y)}).reduce(function(O,y){return O+y},0),m=10-d%10;return m<10?m:0}function f(h){(0,n.default)(h);var d=Number(h.slice(-1));return a.test(h)&&d===u(h)}t.exports=e.default,t.exports.default=e.default})(Hv,Hv.exports)),Hv.exports}var Jv={exports:{}},oQ;function Yee(){return oQ||(oQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function s(a){if((0,n.default)(a),!i.test(a))return!1;for(var o=!0,u=0,f=a.length-2;f>=0;f--)if(a[f]>="A"&&a[f]<="Z")for(var h=a[f].charCodeAt(0)-55,d=h%10,m=Math.trunc(h/10),O=0,y=[d,m];O<y.length;O++){var v=y[O];o?v>=5?u+=1+(v-5)*2:u+=v*2:u+=v,o=!o}else{var w=a[f].charCodeAt(0)-48;o?w>=5?u+=1+(w-5)*2:u+=w*2:u+=w,o=!o}var k=Math.trunc((u+9)/10)*10-u;return+a[a.length-1]===k}t.exports=e.default,t.exports.default=e.default})(Jv,Jv.exports)),Jv.exports}var e0={exports:{}},lQ;function Wee(){return lQ||(lQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(Xe());function r(u){return u&&u.__esModule?u:{default:u}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,a=[1,3];function o(u,f){(0,n.default)(u);var h=String(f?.version||f);if(!(f!=null&&f.version||f))return o(u,{version:10})||o(u,{version:13});var d=u.replace(/[\s-]+/g,""),m=0;if(h==="10"){if(!i.test(d))return!1;for(var O=0;O<h-1;O++)m+=(O+1)*d.charAt(O);if(d.charAt(9)==="X"?m+=100:m+=10*d.charAt(9),m%11===0)return!0}else if(h==="13"){if(!s.test(d))return!1;for(var y=0;y<12;y++)m+=a[y%2]*d.charAt(y);if(d.charAt(12)-(10-m%10)%10===0)return!0}return!1}t.exports=e.default,t.exports.default=e.default})(e0,e0.exports)),e0.exports}var t0={exports:{}},uQ;function Gee(){return uQ||(uQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i="^\\d{4}-?\\d{3}[\\dX]$";function s(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(a);var u=i;if(u=o.require_hyphen?u.replace("?",""):u,u=o.case_sensitive?new RegExp(u):new RegExp(u,"i"),!u.test(a))return!1;for(var f=a.replace("-","").toUpperCase(),h=0,d=0;d<f.length;d++){var m=f[d];h+=(m==="X"?10:+m)*(8-d)}return h%11===0}t.exports=e.default,t.exports.default=e.default})(t0,t0.exports)),t0.exports}var n0={exports:{}},Cc={},cQ;function gz(){if(cQ)return Cc;cQ=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.iso7064Check=t,Cc.luhnCheck=e,Cc.reverseMultiplyAndSum=n,Cc.verhoeffCheck=r;function t(i){for(var s=10,a=0;a<i.length-1;a++)s=(parseInt(i[a],10)+s)%10===0?20%11:(parseInt(i[a],10)+s)%10*2%11;return s=s===1?0:11-s,s===parseInt(i[10],10)}function e(i){for(var s=0,a=!1,o=i.length-1;o>=0;o--){if(a){var u=parseInt(i[o],10)*2;u>9?s+=u.toString().split("").map(function(f){return parseInt(f,10)}).reduce(function(f,h){return f+h},0):s+=u}else s+=parseInt(i[o],10);a=!a}return s%10===0}function n(i,s){for(var a=0,o=0;o<i.length;o++)a+=i[o]*(s-o);return a}function r(i){for(var s=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],a=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],o=i.split("").reverse().join(""),u=0,f=0;f<o.length;f++)u=s[u][a[f%8][parseInt(o[f],10)]];return u===0}return Cc}var fQ;function Kee(){return fQ||(fQ=1,(function(t,e){function n(X){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},n(X)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ts;var r=o(Xe()),i=a(gz()),s=o(uz());function a(X,W){if(typeof WeakMap=="function")var ve=new WeakMap,Ue=new WeakMap;return(a=function(Ze,ft){if(!ft&&Ze&&Ze.__esModule)return Ze;var at,Tt,Mt={__proto__:null,default:Ze};if(Ze===null||n(Ze)!="object"&&typeof Ze!="function")return Mt;if(at=ft?Ue:ve){if(at.has(Ze))return at.get(Ze);at.set(Ze,Mt)}for(var un in Ze)un!=="default"&&{}.hasOwnProperty.call(Ze,un)&&((Tt=(at=Object.defineProperty)&&Object.getOwnPropertyDescriptor(Ze,un))&&(Tt.get||Tt.set)?at(Mt,un,Tt):Mt[un]=Ze[un]);return Mt})(X,W)}function o(X){return X&&X.__esModule?X:{default:X}}function u(X){return m(X)||d(X)||h(X)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(X,W){if(X){if(typeof X=="string")return O(X,W);var ve={}.toString.call(X).slice(8,-1);return ve==="Object"&&X.constructor&&(ve=X.constructor.name),ve==="Map"||ve==="Set"?Array.from(X):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?O(X,W):void 0}}function d(X){if(typeof Symbol<"u"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}function m(X){if(Array.isArray(X))return O(X)}function O(X,W){(W==null||W>X.length)&&(W=X.length);for(var ve=0,Ue=Array(W);ve<W;ve++)Ue[ve]=X[ve];return Ue}function y(X){var W=X.slice(0,2),ve=parseInt(X.slice(2,4),10);ve>40?(ve-=40,W="20".concat(W)):ve>20?(ve-=20,W="18".concat(W)):W="19".concat(W),ve<10&&(ve="0".concat(ve));var Ue="".concat(W,"/").concat(ve,"/").concat(X.slice(4,6));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1;for(var Ne=X.split("").map(function(Tt){return parseInt(Tt,10)}),Ze=[2,4,8,5,10,9,7,3,6],ft=0,at=0;at<Ze.length;at++)ft+=Ne[at]*Ze[at];return ft=ft%11===10?0:ft%11,ft===Ne[9]}function v(X){var W=X.split(""),ve=W.filter(function(Ne,Ze){return Ze%2}).map(function(Ne){return Number(Ne)*2}).join("").split(""),Ue=W.filter(function(Ne,Ze){return!(Ze%2)}).concat(ve).map(function(Ne){return Number(Ne)}).reduce(function(Ne,Ze){return Ne+Ze});return Ue%10===0}function w(X){X=X.replace(/\W/,"");var W=parseInt(X.slice(0,2),10);if(X.length===10)W<54?W="20".concat(W):W="19".concat(W);else{if(X.slice(6)==="000")return!1;if(W<54)W="19".concat(W);else return!1}W.length===3&&(W=[W.slice(0,2),"0",W.slice(2)].join(""));var ve=parseInt(X.slice(2,4),10);if(ve>50&&(ve-=50),ve>20){if(parseInt(W,10)<2004)return!1;ve-=20}ve<10&&(ve="0".concat(ve));var Ue="".concat(W,"/").concat(ve,"/").concat(X.slice(4,6));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1;if(X.length===10&&parseInt(X,10)%11!==0){var Ne=parseInt(X.slice(0,9),10)%11;if(parseInt(W,10)<1986&&Ne===10){if(parseInt(X.slice(9),10)!==0)return!1}else return!1}return!0}function k(X){return i.luhnCheck(X)}function T(X){for(var W=X.split("").map(function(Tt){return parseInt(Tt,10)}),ve=[],Ue=0;Ue<W.length-1;Ue++){ve.push("");for(var Ne=0;Ne<W.length-1;Ne++)W[Ue]===W[Ne]&&(ve[Ue]+=Ne)}if(ve=ve.filter(function(Tt){return Tt.length>1}),ve.length!==2&&ve.length!==3)return!1;if(ve[0].length===3){for(var Ze=ve[0].split("").map(function(Tt){return parseInt(Tt,10)}),ft=0,at=0;at<Ze.length-1;at++)Ze[at]+1===Ze[at+1]&&(ft+=1);if(ft===2)return!1}return i.iso7064Check(X)}function A(X){X=X.replace(/\W/,"");var W=parseInt(X.slice(4,6),10),ve=X.slice(6,7);switch(ve){case"0":case"1":case"2":case"3":W="19".concat(W);break;case"4":case"9":W<37?W="20".concat(W):W="19".concat(W);break;default:if(W<37)W="20".concat(W);else if(W>58)W="18".concat(W);else return!1;break}W.length===3&&(W=[W.slice(0,2),"0",W.slice(2)].join(""));var Ue="".concat(W,"/").concat(X.slice(2,4),"/").concat(X.slice(0,2));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1;for(var Ne=X.split("").map(function(Tt){return parseInt(Tt,10)}),Ze=0,ft=4,at=0;at<9;at++)Ze+=Ne[at]*ft,ft-=1,ft===1&&(ft=7);return Ze%=11,Ze===1?!1:Ze===0?Ne[9]===0:Ne[9]===11-Ze}function C(X){for(var W=X.slice(0,8).split("").map(function(Ze){return parseInt(Ze,10)}),ve=0,Ue=1;Ue<W.length;Ue+=2)ve+=W[Ue];for(var Ne=0;Ne<W.length;Ne+=2)W[Ne]<2?ve+=1-W[Ne]:(ve+=2*(W[Ne]-2)+5,W[Ne]>4&&(ve+=2));return String.fromCharCode(ve%26+65)===X.charAt(8)}function I(X){for(var W=X.split("").map(function(Ne){return parseInt(Ne,10)}),ve=0,Ue=0;Ue<8;Ue++)ve+=W[Ue]*Math.pow(2,8-Ue);return ve%11%10===W[8]}function Q(X){var W=i.reverseMultiplyAndSum(X.split("").slice(0,7).map(function(ve){return parseInt(ve,10)}),8);return X.length===9&&X[8]!=="W"&&(W+=(X[8].charCodeAt(0)-64)*9),W%=23,W===0?X[7].toUpperCase()==="W":X[7].toUpperCase()===String.fromCharCode(64+W)}var N={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function j(){var X=[];for(var W in N)N.hasOwnProperty(W)&&X.push.apply(X,u(N[W]));return X}function q(X){return j().indexOf(X.slice(0,2))!==-1}function oe(X){for(var W=0,ve=X.split(""),Ue=parseInt(ve.pop(),10),Ne=0;Ne<ve.length;Ne++)W+=ve[9-Ne]*(2+Ne%6);var Ze=11-W%11;return Ze===11?Ze=0:Ze===10&&(Ze=9),Ue===Ze}function we(X){var W=X.toUpperCase().split("");if(isNaN(parseInt(W[0],10))&&W.length>1){var ve=0;switch(W[0]){case"Y":ve=1;break;case"Z":ve=2;break}W.splice(0,1,ve)}else for(;W.length<9;)W.unshift(0);var Ue=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];W=W.join("");var Ne=parseInt(W.slice(0,8),10)%23;return W[8]===Ue[Ne]}function K(X){var W=X.slice(1,3),ve=X.slice(0,1);switch(ve){case"1":case"2":W="18".concat(W);break;case"3":case"4":W="19".concat(W);break;default:W="20".concat(W);break}var Ue="".concat(W,"/").concat(X.slice(3,5),"/").concat(X.slice(5,7));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1;for(var Ne=X.split("").map(function(Mt){return parseInt(Mt,10)}),Ze=0,ft=1,at=0;at<10;at++)Ze+=Ne[at]*ft,ft+=1,ft===10&&(ft=1);if(Ze%11===10){Ze=0,ft=3;for(var Tt=0;Tt<10;Tt++)Ze+=Ne[Tt]*ft,ft+=1,ft===10&&(ft=1);if(Ze%11===10)return Ne[10]===0}return Ze%11===Ne[10]}function Ae(X){var W=X.slice(4,6),ve=X.slice(6,7);switch(ve){case"+":W="18".concat(W);break;case"-":W="19".concat(W);break;default:W="20".concat(W);break}var Ue="".concat(W,"/").concat(X.slice(2,4),"/").concat(X.slice(0,2));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1;var Ne=parseInt(X.slice(0,6)+X.slice(7,10),10)%31;if(Ne<10)return Ne===parseInt(X.slice(10),10);Ne-=10;var Ze=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return Ze[Ne]===X.slice(10)}function Ee(X){if(X.slice(2,4)!=="00"||X.slice(4,6)!=="00"){var W="".concat(X.slice(0,2),"/").concat(X.slice(2,4),"/").concat(X.slice(4,6));if(!(0,s.default)(W,"YY/MM/DD"))return!1}var ve=97-parseInt(X.slice(0,9),10)%97,Ue=parseInt(X.slice(9,11),10);return!(ve!==Ue&&(ve=97-parseInt("2".concat(X.slice(0,9)),10)%97,ve!==Ue))}function Be(X){X=X.replace(/\s/g,"");var W=parseInt(X.slice(0,10),10)%511,ve=parseInt(X.slice(10,13),10);return W===ve}function G(X){var W="".concat(X.slice(0,4),"/").concat(X.slice(4,6),"/").concat(X.slice(6,8));return!(0,s.default)(W,"YYYY/MM/DD")||!i.luhnCheck(X.slice(0,12))?!1:i.verhoeffCheck("".concat(X.slice(0,11)).concat(X[12]))}function ye(X){return i.iso7064Check(X)}function Se(X){for(var W=X.split("").map(function(Ne){return parseInt(Ne,10)}),ve=8,Ue=1;Ue<9;Ue++)ve+=W[Ue]*(Ue+1);return ve%11===W[9]}function Te(X){for(var W=!1,ve=!1,Ue=0;Ue<3;Ue++)if(!W&&/[AEIOU]/.test(X[Ue]))W=!0;else if(!ve&&W&&X[Ue]==="X")ve=!0;else if(Ue>0&&(W&&!ve&&!/[AEIOU]/.test(X[Ue])||ve&&!/X/.test(X[Ue])))return!1;return!0}function he(X){var W=X.toUpperCase().split("");if(!Te(W.slice(0,3))||!Te(W.slice(3,6)))return!1;for(var ve=[6,7,9,10,12,13,14],Ue={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},Ne=0,Ze=ve;Ne<Ze.length;Ne++){var ft=Ze[Ne];W[ft]in Ue&&W.splice(ft,1,Ue[W[ft]])}var at={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},Tt=at[W[8]],Mt=parseInt(W[9]+W[10],10);Mt>40&&(Mt-=40),Mt<10&&(Mt="0".concat(Mt));var un="".concat(W[6]).concat(W[7],"/").concat(Tt,"/").concat(Mt);if(!(0,s.default)(un,"YY/MM/DD"))return!1;for(var Pn=0,ar=1;ar<W.length-1;ar+=2){var Rn=parseInt(W[ar],10);isNaN(Rn)&&(Rn=W[ar].charCodeAt(0)-65),Pn+=Rn}for(var Pr={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},qr=0;qr<W.length-1;qr+=2){var Gn=0;if(W[qr]in Pr)Gn=Pr[W[qr]];else{var Jt=parseInt(W[qr],10);Gn=2*Jt+1,Jt>4&&(Gn+=2)}Pn+=Gn}return String.fromCharCode(65+Pn%26)===W[15]}function z(X){X=X.replace(/\W/,"");var W=X.slice(0,2);if(W!=="32"){var ve=X.slice(2,4);if(ve!=="00"){var Ue=X.slice(4,6);switch(X[6]){case"0":Ue="18".concat(Ue);break;case"1":Ue="19".concat(Ue);break;default:Ue="20".concat(Ue);break}var Ne="".concat(Ue,"/").concat(X.slice(2,4),"/").concat(W);if(!(0,s.default)(Ne,"YYYY/MM/DD"))return!1}for(var Ze=1101,ft=[1,6,3,7,9,10,5,8,4,2],at=0;at<X.length-1;at++)Ze-=parseInt(X[at],10)*ft[at];return parseInt(X[10],10)===Ze%11}return!0}function ne(X){if(X.length!==9){for(var W=X.toUpperCase().split("");W.length<8;)W.unshift(0);switch(X[7]){case"A":case"P":if(parseInt(W[6],10)===0)return!1;break;default:{var ve=parseInt(W.join("").slice(0,5),10);if(ve>32e3)return!1;var Ue=parseInt(W.join("").slice(5,7),10);if(ve===Ue)return!1}}}return!0}function ge(X){return i.reverseMultiplyAndSum(X.split("").slice(0,8).map(function(W){return parseInt(W,10)}),9)%11===parseInt(X[8],10)}function Pe(X){if(X.length===10){for(var W=[6,5,7,2,3,4,5,6,7],ve=0,Ue=0;Ue<W.length;Ue++)ve+=parseInt(X[Ue],10)*W[Ue];return ve%=11,ve===10?!1:ve===parseInt(X[9],10)}var Ne=X.slice(0,2),Ze=parseInt(X.slice(2,4),10);Ze>80?(Ne="18".concat(Ne),Ze-=80):Ze>60?(Ne="22".concat(Ne),Ze-=60):Ze>40?(Ne="21".concat(Ne),Ze-=40):Ze>20?(Ne="20".concat(Ne),Ze-=20):Ne="19".concat(Ne),Ze<10&&(Ze="0".concat(Ze));var ft="".concat(Ne,"/").concat(Ze,"/").concat(X.slice(4,6));if(!(0,s.default)(ft,"YYYY/MM/DD"))return!1;for(var at=0,Tt=1,Mt=0;Mt<X.length-1;Mt++)at+=parseInt(X[Mt],10)*Tt%10,Tt+=2,Tt>10?Tt=1:Tt===5&&(Tt+=2);return at=10-at%10,at===parseInt(X[10],10)}function De(X){if(X.length===11){var W,ve;if(W=0,X==="11111111111"||X==="22222222222"||X==="33333333333"||X==="44444444444"||X==="55555555555"||X==="66666666666"||X==="77777777777"||X==="88888888888"||X==="99999999999"||X==="00000000000")return!1;for(var Ue=1;Ue<=9;Ue++)W+=parseInt(X.substring(Ue-1,Ue),10)*(11-Ue);if(ve=W*10%11,ve===10&&(ve=0),ve!==parseInt(X.substring(9,10),10))return!1;W=0;for(var Ne=1;Ne<=10;Ne++)W+=parseInt(X.substring(Ne-1,Ne),10)*(12-Ne);return ve=W*10%11,ve===10&&(ve=0),ve===parseInt(X.substring(10,11),10)}if(X==="00000000000000"||X==="11111111111111"||X==="22222222222222"||X==="33333333333333"||X==="44444444444444"||X==="55555555555555"||X==="66666666666666"||X==="77777777777777"||X==="88888888888888"||X==="99999999999999")return!1;for(var Ze=X.length-2,ft=X.substring(0,Ze),at=X.substring(Ze),Tt=0,Mt=Ze-7,un=Ze;un>=1;un--)Tt+=ft.charAt(Ze-un)*Mt,Mt-=1,Mt<2&&(Mt=9);var Pn=Tt%11<2?0:11-Tt%11;if(Pn!==parseInt(at.charAt(0),10))return!1;Ze+=1,ft=X.substring(0,Ze),Tt=0,Mt=Ze-7;for(var ar=Ze;ar>=1;ar--)Tt+=ft.charAt(Ze-ar)*Mt,Mt-=1,Mt<2&&(Mt=9);return Pn=Tt%11<2?0:11-Tt%11,Pn===parseInt(at.charAt(1),10)}function tt(X){var W=11-i.reverseMultiplyAndSum(X.split("").slice(0,8).map(function(ve){return parseInt(ve,10)}),9)%11;return W>9?parseInt(X[8],10)===0:W===parseInt(X[8],10)}function it(X){if(X.slice(0,4)!=="9000"){var W=X.slice(1,3);switch(X[0]){case"1":case"2":W="19".concat(W);break;case"3":case"4":W="18".concat(W);break;case"5":case"6":W="20".concat(W);break}var ve="".concat(W,"/").concat(X.slice(3,5),"/").concat(X.slice(5,7));if(ve.length===8){if(!(0,s.default)(ve,"YY/MM/DD"))return!1}else if(!(0,s.default)(ve,"YYYY/MM/DD"))return!1;for(var Ue=X.split("").map(function(at){return parseInt(at,10)}),Ne=[2,7,9,1,4,6,3,5,8,2,7,9],Ze=0,ft=0;ft<Ne.length;ft++)Ze+=Ue[ft]*Ne[ft];return Ze%11===10?Ue[12]===1:Ue[12]===Ze%11}return!0}function ut(X){if(X.length===9){if(X=X.replace(/\W/,""),X.slice(6)==="000")return!1;var W=parseInt(X.slice(0,2),10);if(W>53)return!1;W<10?W="190".concat(W):W="19".concat(W);var ve=parseInt(X.slice(2,4),10);ve>50&&(ve-=50),ve<10&&(ve="0".concat(ve));var Ue="".concat(W,"/").concat(ve,"/").concat(X.slice(4,6));if(!(0,s.default)(Ue,"YYYY/MM/DD"))return!1}return!0}function qe(X){var W=11-i.reverseMultiplyAndSum(X.split("").slice(0,7).map(function(ve){return parseInt(ve,10)}),8)%11;return W===10?parseInt(X[7],10)===0:W===parseInt(X[7],10)}function Cn(X){var W=X.slice(0);X.length>11&&(W=W.slice(2));var ve="",Ue=W.slice(2,4),Ne=parseInt(W.slice(4,6),10);if(X.length>11)ve=X.slice(0,4);else if(ve=X.slice(0,2),X.length===11&&Ne<60){var Ze=new Date().getFullYear().toString(),ft=parseInt(Ze.slice(0,2),10);if(Ze=parseInt(Ze,10),X[6]==="-")parseInt("".concat(ft).concat(ve),10)>Ze?ve="".concat(ft-1).concat(ve):ve="".concat(ft).concat(ve);else if(ve="".concat(ft-1).concat(ve),Ze-parseInt(ve,10)<100)return!1}Ne>60&&(Ne-=60),Ne<10&&(Ne="0".concat(Ne));var at="".concat(ve,"/").concat(Ue,"/").concat(Ne);if(at.length===8){if(!(0,s.default)(at,"YY/MM/DD"))return!1}else if(!(0,s.default)(at,"YYYY/MM/DD"))return!1;return i.luhnCheck(X.replace(/\W/,""))}function mr(X){for(var W=X.split("").map(function(Ze){return parseInt(Ze,10)}),ve=[-1,5,7,9,4,6,10,5,7],Ue=0,Ne=0;Ne<ve.length;Ne++)Ue+=W[Ne]*ve[Ne];return Ue%11===10?W[9]===0:W[9]===Ue%11}var yt={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};yt["lb-LU"]=yt["fr-LU"],yt["lt-LT"]=yt["et-EE"],yt["nl-BE"]=yt["fr-BE"],yt["fr-CA"]=yt["en-CA"];var rn={"bg-BG":y,"cs-CZ":w,"de-AT":k,"de-DE":T,"dk-DK":A,"el-CY":C,"el-GR":I,"en-CA":v,"en-IE":Q,"en-US":q,"es-AR":oe,"es-ES":we,"et-EE":K,"fi-FI":Ae,"fr-BE":Ee,"fr-FR":Be,"fr-LU":G,"hr-HR":ye,"hu-HU":Se,"it-IT":he,"lv-LV":z,"mt-MT":ne,"nl-NL":ge,"pl-PL":Pe,"pt-BR":De,"pt-PT":tt,"ro-RO":it,"sk-SK":ut,"sl-SI":qe,"sv-SE":Cn,"uk-UA":mr};rn["lb-LU"]=rn["fr-LU"],rn["lt-LT"]=rn["et-EE"],rn["nl-BE"]=rn["fr-BE"],rn["fr-CA"]=rn["en-CA"];var ir=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,sr={"de-AT":ir,"de-DE":/[\/\\]/g,"fr-BE":ir};sr["nl-BE"]=sr["fr-BE"];function Ts(X){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,r.default)(X);var ve=X.slice(0);if(W in yt)return W in sr&&(ve=ve.replace(sr[W],"")),yt[W].test(ve)?W in rn?rn[W](ve):!0:!1;throw new Error("Invalid locale '".concat(W,"'"))}t.exports=e.default,t.exports.default=e.default})(n0,n0.exports)),n0.exports}var fh={},hQ;function Hee(){if(hQ)return fh;hQ=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.default=r,fh.locales=void 0;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?([79][1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"ar-QA":/^(\+?974|0)?([3567]\d{7})$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|7|6|5|4)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7[1-9]\d{8}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|53|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?0[79][567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-GT":/^(\+?502)?[2|6|7]\d{7}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+996\s?)?(22[0-9]|50[0-9]|55[0-9]|70[0-9]|75[0-9]|77[0-9]|880|990|995|996|997|998)\s?\d{3}\s?\d{3}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+?244)?9\d{8}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[2-9]\d{7}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38)?0(50|6[36-8]|7[357]|9[1-9])\d{7}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/,"mk-MK":/^(\+?389|0)?((?:2[2-9]\d{6}|(?:3[1-4]|4[2-8])\d{6}|500\d{5}|5[2-9]\d{6}|7[0-9][2-9]\d{5}|8[1-9]\d{6}|800\d{5}|8009\d{4}))$/};n["en-CA"]=n["en-US"],n["fr-CA"]=n["en-CA"],n["fr-BE"]=n["nl-BE"],n["zh-HK"]=n["en-HK"],n["zh-MO"]=n["en-MO"],n["ga-IE"]=n["en-IE"],n["fr-CH"]=n["de-CH"],n["it-CH"]=n["fr-CH"];function r(i,s,a){if((0,t.default)(i),a&&a.strictMode&&!i.startsWith("+"))return!1;if(Array.isArray(s))return s.some(function(f){if(n.hasOwnProperty(f)){var h=n[f];if(h.test(i))return!0}return!1});if(s in n)return n[s].test(i);if(!s||s==="any"){for(var o in n)if(n.hasOwnProperty(o)){var u=n[o];if(u.test(i))return!0}return!1}throw new Error("Invalid locale '".concat(s,"'"))}return fh.locales=Object.keys(n),fh}var r0={exports:{}},dQ;function Jee(){return dQ||(dQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x)[0-9a-f]{40}$/i;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(r0,r0.exports)),r0.exports}var i0={exports:{}},pQ;function ete(){return pQ||(pQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=i(Ii()),r=i(Xe());function i(u){return u&&u.__esModule?u:{default:u}}function s(u){var f="\\d{".concat(u.digits_after_decimal[0],"}");u.digits_after_decimal.forEach(function(T,A){A!==0&&(f="".concat(f,"|\\d{").concat(T,"}"))});var h="(".concat(u.symbol.replace(/\W/,function(T){return"\\".concat(T)}),")").concat(u.require_symbol?"":"?"),d="-?",m="[1-9]\\d*",O="[1-9]\\d{0,2}(\\".concat(u.thousands_separator,"\\d{3})*"),y=["0",m,O],v="(".concat(y.join("|"),")?"),w="(\\".concat(u.decimal_separator,"(").concat(f,"))").concat(u.require_decimal?"":"?"),k=v+(u.allow_decimal||u.require_decimal?w:"");return u.allow_negatives&&!u.parens_for_negatives&&(u.negative_sign_after_digits?k+=d:u.negative_sign_before_digits&&(k=d+k)),u.allow_negative_sign_placeholder?k="( (?!\\-))?".concat(k):u.allow_space_after_symbol?k=" ?".concat(k):u.allow_space_after_digits&&(k+="( (?!$))?"),u.symbol_after_digits?k+=h:k=h+k,u.allow_negatives&&(u.parens_for_negatives?k="(\\(".concat(k,"\\)|").concat(k,")"):u.negative_sign_before_digits||u.negative_sign_after_digits||(k=d+k)),new RegExp("^(?!-? )(?=.*\\d)".concat(k,"$"))}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function o(u,f){return(0,r.default)(u),f=(0,n.default)(f,a),s(f).test(u)}t.exports=e.default,t.exports.default=e.default})(i0,i0.exports)),i0.exports}var s0={exports:{}},mQ;function tte(){return mQ||(mQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(Xe());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^(bc1|tb1|bc1p|tb1p)[ac-hj-np-z02-9]{39,58}$/,s=/^(1|2|3|m)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function a(o){return(0,n.default)(o),i.test(o)||s.test(o)}t.exports=e.default,t.exports.default=e.default})(s0,s0.exports)),s0.exports}var hh={},gQ;function nte(){if(gQ)return hh;gQ=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.isFreightContainerID=void 0,hh.isISO6346=i;var t=e(Xe());function e(s){return s&&s.__esModule?s:{default:s}}var n=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,r=/^[0-9]$/;function i(s){if((0,t.default)(s),s=s.toUpperCase(),!n.test(s))return!1;if(s.length===11){for(var a=0,o=0;o<s.length-1;o++)if(r.test(s[o]))a+=s[o]*Math.pow(2,o);else{var u=void 0,f=s.charCodeAt(o)-55;f<11?u=f:f>=11&&f<=20?u=12+f%11:f>=21&&f<=30?u=23+f%21:u=34+f%31,a+=u*Math.pow(2,o)}var h=a%11;return h===10&&(h=0),Number(s[s.length-1])===h}return!0}return hh.isFreightContainerID=i,hh}var a0={exports:{}},OQ;function rte(){return OQ||(OQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function s(a){return(0,n.default)(a),i.has(a)}t.exports=e.default,t.exports.default=e.default})(a0,a0.exports)),a0.exports}var o0={exports:{}},yQ;function ite(){return yQ||(yQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(Xe());function r(u){return u&&u.__esModule?u:{default:u}}var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=function(f){var h=f.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(h){var d=Number(h[1]),m=Number(h[2]);return d%4===0&&d%100!==0||d%400===0?m<=366:m<=365}var O=f.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),y=O[1],v=O[2],w=O[3],k=v&&"0".concat(v).slice(-2),T=w&&"0".concat(w).slice(-2),A=new Date("".concat(y,"-").concat(k||"01","-").concat(T||"01"));return v&&w?A.getUTCFullYear()===y&&A.getUTCMonth()+1===v&&A.getUTCDate()===w:!0};function o(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(u);var h=f.strictSeparator?s.test(u):i.test(u);return h&&f.strict?a(u):h}t.exports=e.default,t.exports.default=e.default})(o0,o0.exports)),o0.exports}var l0={exports:{}},vQ;function ste(){return vQ||(vQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=k;var n=r(Xe());function r(T){return T&&T.__esModule?T:{default:T}}var i=/[0-9]{4}/,s=/(0[1-9]|1[0-2])/,a=/([12]\d|0[1-9]|3[01])/,o=/([01][0-9]|2[0-3])/,u=/[0-5][0-9]/,f=/([0-5][0-9]|60)/,h=/(\.[0-9]+)?/,d=new RegExp("[-+]".concat(o.source,":").concat(u.source)),m=new RegExp("([zZ]|".concat(d.source,")")),O=new RegExp("".concat(o.source,":").concat(u.source,":").concat(f.source).concat(h.source)),y=new RegExp("".concat(i.source,"-").concat(s.source,"-").concat(a.source)),v=new RegExp("".concat(O.source).concat(m.source)),w=new RegExp("^".concat(y.source,"[ tT]").concat(v.source,"$"));function k(T){return(0,n.default)(T),w.test(T)}t.exports=e.default,t.exports.default=e.default})(l0,l0.exports)),l0.exports}var dh={},bQ;function ate(){if(bQ)return dh;bQ=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.ScriptCodes=void 0,dh.default=r;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n=new Set(["Adlm","Afak","Aghb","Ahom","Arab","Aran","Armi","Armn","Avst","Bali","Bamu","Bass","Batk","Beng","Bhks","Blis","Bopo","Brah","Brai","Bugi","Buhd","Cakm","Cans","Cari","Cham","Cher","Chis","Chrs","Cirt","Copt","Cpmn","Cprt","Cyrl","Cyrs","Deva","Diak","Dogr","Dsrt","Dupl","Egyd","Egyh","Egyp","Elba","Elym","Ethi","Gara","Geok","Geor","Glag","Gong","Gonm","Goth","Gran","Grek","Gujr","Gukh","Guru","Hanb","Hang","Hani","Hano","Hans","Hant","Hatr","Hebr","Hira","Hluw","Hmng","Hmnp","Hrkt","Hung","Inds","Ital","Jamo","Java","Jpan","Jurc","Kali","Kana","Kawi","Khar","Khmr","Khoj","Kitl","Kits","Knda","Kore","Kpel","Krai","Kthi","Lana","Laoo","Latf","Latg","Latn","Leke","Lepc","Limb","Lina","Linb","Lisu","Loma","Lyci","Lydi","Mahj","Maka","Mand","Mani","Marc","Maya","Medf","Mend","Merc","Mero","Mlym","Modi","Mong","Moon","Mroo","Mtei","Mult","Mymr","Nagm","Nand","Narb","Nbat","Newa","Nkdb","Nkgb","Nkoo","Nshu","Ogam","Olck","Onao","Orkh","Orya","Osge","Osma","Ougr","Palm","Pauc","Pcun","Pelm","Perm","Phag","Phli","Phlp","Phlv","Phnx","Plrd","Piqd","Prti","Psin","Qaaa","Qaab","Qaac","Qaad","Qaae","Qaaf","Qaag","Qaah","Qaai","Qaaj","Qaak","Qaal","Qaam","Qaan","Qaao","Qaap","Qaaq","Qaar","Qaas","Qaat","Qaau","Qaav","Qaaw","Qaax","Qaay","Qaaz","Qaba","Qabb","Qabc","Qabd","Qabe","Qabf","Qabg","Qabh","Qabi","Qabj","Qabk","Qabl","Qabm","Qabn","Qabo","Qabp","Qabq","Qabr","Qabs","Qabt","Qabu","Qabv","Qabw","Qabx","Ranj","Rjng","Rohg","Roro","Runr","Samr","Sara","Sarb","Saur","Sgnw","Shaw","Shrd","Shui","Sidd","Sidt","Sind","Sinh","Sogd","Sogo","Sora","Soyo","Sund","Sunu","Sylo","Syrc","Syre","Syrj","Syrn","Tagb","Takr","Tale","Talu","Taml","Tang","Tavt","Tayo","Telu","Teng","Tfng","Tglg","Thaa","Thai","Tibt","Tirh","Tnsa","Todr","Tols","Toto","Tutg","Ugar","Vaii","Visp","Vith","Wara","Wcho","Wole","Xpeo","Xsux","Yezi","Yiii","Zanb","Zinh","Zmth","Zsye","Zsym","Zxxx","Zyyy","Zzzz"]);function r(i){return(0,t.default)(i),n.has(i)}return dh.ScriptCodes=n,dh}var u0={exports:{}},_Q;function ote(){return _Q||(_Q=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function s(a){return(0,n.default)(a),i.has(a.toUpperCase())}t.exports=e.default,t.exports.default=e.default})(u0,u0.exports)),u0.exports}var c0={exports:{}},wQ;function lte(){return wQ||(wQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["004","008","010","012","016","020","024","028","031","032","036","040","044","048","050","051","052","056","060","064","068","070","072","074","076","084","086","090","092","096","100","104","108","112","116","120","124","132","136","140","144","148","152","156","158","162","166","170","174","175","178","180","184","188","191","192","196","203","204","208","212","214","218","222","226","231","232","233","234","238","239","242","246","248","250","254","258","260","262","266","268","270","275","276","288","292","296","300","304","308","312","316","320","324","328","332","334","336","340","344","348","352","356","360","364","368","372","376","380","384","388","392","398","400","404","408","410","414","417","418","422","426","428","430","434","438","440","442","446","450","454","458","462","466","470","474","478","480","484","492","496","498","499","500","504","508","512","516","520","524","528","531","533","534","535","540","548","554","558","562","566","570","574","578","580","581","583","584","585","586","591","598","600","604","608","612","616","620","624","626","630","634","638","642","643","646","652","654","659","660","662","663","666","670","674","678","682","686","688","690","694","702","703","704","705","706","710","716","724","728","729","732","740","744","748","752","756","760","762","764","768","772","776","780","784","788","792","795","796","798","800","804","807","818","826","831","832","833","834","840","850","854","858","860","862","876","882","887","894"]);function s(a){return(0,n.default)(a),i.has(a)}t.exports=e.default,t.exports.default=e.default})(c0,c0.exports)),c0.exports}var ph={},SQ;function ute(){if(SQ)return ph;SQ=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.CurrencyCodes=void 0,ph.default=r;var t=e(Xe());function e(i){return i&&i.__esModule?i:{default:i}}var n=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VED","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function r(i){return(0,t.default)(i),n.has(i.toUpperCase())}return ph.CurrencyCodes=n,ph}var f0={exports:{}},xQ;function cte(){return xQ||(xQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=i(Xe()),r=i(Ii());function i(f){return f&&f.__esModule?f:{default:f}}var s=/^[A-Z2-7]+=*$/,a=/^[A-HJKMNP-TV-Z0-9]+$/,o={crockford:!1};function u(f,h){if((0,n.default)(f),h=(0,r.default)(h,o),h.crockford)return a.test(f);var d=f.length;return!!(d%8===0&&s.test(f))}t.exports=e.default,t.exports.default=e.default})(f0,f0.exports)),f0.exports}var h0={exports:{}},kQ;function fte(){return kQ||(kQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-HJ-NP-Za-km-z1-9]*$/;function s(a){return(0,n.default)(a),!!i.test(a)}t.exports=e.default,t.exports.default=e.default})(h0,h0.exports)),h0.exports}var d0={exports:{}},TQ;function hte(){return TQ||(TQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(Xe());function r(u){return u&&u.__esModule?u:{default:u}}var i=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,s=/^[a-z\-]+=[a-z0-9\-]+$/i,a=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function o(u){(0,n.default)(u);var f=u.split(",");if(f.length<2)return!1;var h=f.shift().trim().split(";"),d=h.shift();if(d.slice(0,5)!=="data:")return!1;var m=d.slice(5);if(m!==""&&!i.test(m))return!1;for(var O=0;O<h.length;O++)if(!(O===h.length-1&&h[O].toLowerCase()==="base64")&&!s.test(h[O]))return!1;for(var y=0;y<f.length;y++)if(!a.test(f[y]))return!1;return!0}t.exports=e.default,t.exports.default=e.default})(d0,d0.exports)),d0.exports}var p0={exports:{}},EQ;function dte(){return EQ||(EQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function s(a){return(0,n.default)(a),a.indexOf("magnet:?")!==0?!1:i.test(a)}t.exports=e.default,t.exports.default=e.default})(p0,p0.exports)),p0.exports}var m0={exports:{}},g0={exports:{}},O0={exports:{}},AQ;function Oz(){return AQ||(AQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){if((0,n.default)(s),a){var o=new RegExp("[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return s.replace(o,"")}for(var u=s.length-1;/\s/.test(s.charAt(u));)u-=1;return s.slice(0,u+1)}t.exports=e.default,t.exports.default=e.default})(O0,O0.exports)),O0.exports}var y0={exports:{}},CQ;function yz(){return CQ||(CQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,n.default)(s);var o=a?new RegExp("^[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return s.replace(o,"")}t.exports=e.default,t.exports.default=e.default})(y0,y0.exports)),y0.exports}var PQ;function vz(){return PQ||(PQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Oz()),r=i(yz());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,n.default)((0,r.default)(a,o),o)}t.exports=e.default,t.exports.default=e.default})(g0,g0.exports)),g0.exports}var RQ;function pte(){return RQ||(RQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=s(vz()),r=s(oz()),i=s(Xe());function s(v){return v&&v.__esModule?v:{default:v}}function a(v,w){return f(v)||u(v,w)||d(v,w)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(v,w){var k=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(k!=null){var T,A,C,I,Q=[],N=!0,j=!1;try{if(C=(k=k.call(v)).next,w!==0)for(;!(N=(T=C.call(k)).done)&&(Q.push(T.value),Q.length!==w);N=!0);}catch(q){j=!0,A=q}finally{try{if(!N&&k.return!=null&&(I=k.return(),Object(I)!==I))return}finally{if(j)throw A}}return Q}}function f(v){if(Array.isArray(v))return v}function h(v,w){var k=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!k){if(Array.isArray(v)||(k=d(v))||w){k&&(v=k);var T=0,A=function(){};return{s:A,n:function(){return T>=v.length?{done:!0}:{done:!1,value:v[T++]}},e:function(j){throw j},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,I=!0,Q=!1;return{s:function(){k=k.call(v)},n:function(){var j=k.next();return I=j.done,j},e:function(j){Q=!0,C=j},f:function(){try{I||k.return==null||k.return()}finally{if(Q)throw C}}}}function d(v,w){if(v){if(typeof v=="string")return m(v,w);var k={}.toString.call(v).slice(8,-1);return k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set"?Array.from(v):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?m(v,w):void 0}}function m(v,w){(w==null||w>v.length)&&(w=v.length);for(var k=0,T=Array(w);k<w;k++)T[k]=v[k];return T}function O(v){var w=new Set(["subject","body","cc","bcc"]),k={cc:"",bcc:""},T=!1,A=v.split("&");if(A.length>4)return!1;var C=h(A),I;try{for(C.s();!(I=C.n()).done;){var Q=I.value,N=Q.split("="),j=a(N,2),q=j[0],oe=j[1];if(q&&!w.has(q)){T=!0;break}oe&&(q==="cc"||q==="bcc")&&(k[q]=oe),q&&w.delete(q)}}catch(we){C.e(we)}finally{C.f()}return T?!1:k}function y(v,w){if((0,i.default)(v),v.indexOf("mailto:")!==0)return!1;var k=v.replace("mailto:","").split("?"),T=a(k,2),A=T[0],C=T[1],I=C===void 0?"":C;if(!A&&!I)return!0;var Q=O(I);return Q?"".concat(A,",").concat(Q.cc,",").concat(Q.bcc).split(",").every(function(N){return N=(0,n.default)(N," "),N?(0,r.default)(N,w):!0}):!1}t.exports=e.default,t.exports.default=e.default})(m0,m0.exports)),m0.exports}var v0={exports:{}},$Q;function mte(){return $Q||($Q=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(Xe());function r(u){return u&&u.__esModule?u:{default:u}}var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,s=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,a=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function o(u){return(0,n.default)(u),i.test(u)||s.test(u)||a.test(u)}t.exports=e.default,t.exports.default=e.default})(v0,v0.exports)),v0.exports}var b0={exports:{}},MQ;function gte(){return MQ||(MQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=s(Xe()),r=s(Ii()),i=s(lz());function s(m){return m&&m.__esModule?m:{default:m}}var a=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,o=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,u=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,f=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,h={checkDMS:!1};function d(m,O){if((0,n.default)(m),O=(0,r.default)(O,h),!(0,i.default)(m,","))return!1;var y=m.split(",");return y[0].startsWith("(")&&!y[1].endsWith(")")||y[1].endsWith(")")&&!y[0].startsWith("(")?!1:O.checkDMS?u.test(y[0])&&f.test(y[1]):a.test(y[0])&&o.test(y[1])}t.exports=e.default,t.exports.default=e.default})(b0,b0.exports)),b0.exports}var mh={},IQ;function Ote(){if(IQ)return mh;IQ=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.default=o,mh.locales=void 0;var t=e(Xe());function e(u){return u&&u.__esModule?u:{default:u}}var n=/^\d{3}$/,r=/^\d{4}$/,i=/^\d{5}$/,s=/^\d{6}$/,a={AD:/^AD\d{3}$/,AT:r,AU:r,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BD:/^([1-8][0-9]{3}|9[0-4][0-9]{2})$/,BE:r,BG:r,BR:/^\d{5}-?\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:r,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CO:/^(05|08|11|13|15|17|18|19|20|23|25|27|41|44|47|50|52|54|63|66|68|70|73|76|81|85|86|88|91|94|95|97|99)(\d{4})$/,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:r,DO:i,DZ:i,EE:i,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:i,FR:/^(?:(?:0[1-9]|[1-8]\d|9[0-5])\d{3}|97[1-46]\d{2})$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:r,ID:i,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:n,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:r,LV:/^LV\-\d{4}$/,LK:i,MG:n,MX:i,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:i,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:r,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:r,PK:i,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:i,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:s,SI:r,SK:/^\d{3}\s?\d{2}$/,TH:i,TN:r,TW:/^\d{3}(\d{2,3})?$/,UA:i,US:/^\d{5}(-\d{4})?$/,ZA:r,ZM:i};mh.locales=Object.keys(a);function o(u,f){if((0,t.default)(u),f in a)return a[f].test(u);if(f==="any"){for(var h in a)if(a.hasOwnProperty(h)){var d=a[h];if(d.test(u))return!0}return!1}throw new Error("Invalid locale '".concat(f,"'"))}return mh}var _0={exports:{}},DQ;function yte(){return DQ||(DQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}t.exports=e.default,t.exports.default=e.default})(_0,_0.exports)),_0.exports}var w0={exports:{}},QQ;function vte(){return QQ||(QQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s),s.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}t.exports=e.default,t.exports.default=e.default})(w0,w0.exports)),w0.exports}var S0={exports:{}},x0={exports:{}},NQ;function bz(){return NQ||(NQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,n.default)(s),s.replace(new RegExp("[".concat(a,"]+"),"g"),"")}t.exports=e.default,t.exports.default=e.default})(x0,x0.exports)),x0.exports}var LQ;function bte(){return LQ||(LQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(Xe()),r=i(bz());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){(0,n.default)(a);var u=o?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,r.default)(a,u)}t.exports=e.default,t.exports.default=e.default})(S0,S0.exports)),S0.exports}var k0={exports:{}},jQ;function _te(){return jQ||(jQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,n.default)(s),s.replace(new RegExp("[^".concat(a,"]+"),"g"),"")}t.exports=e.default,t.exports.default=e.default})(k0,k0.exports)),k0.exports}var T0={exports:{}},BQ;function wte(){return BQ||(BQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(Xe());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,n.default)(s);for(var o=s.length-1;o>=0;o--)if(a.indexOf(s[o])===-1)return!1;return!0}t.exports=e.default,t.exports.default=e.default})(T0,T0.exports)),T0.exports}var E0={exports:{}},zQ;function Ste(){return zQ||(zQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var n=r(Ii());function r(d){return d&&d.__esModule?d:{default:d}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,yandex_convert_yandexru:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function f(d){return d.length>1?d:""}function h(d,m){m=(0,n.default)(m,i);var O=d.split("@"),y=O.pop(),v=O.join("@"),w=[v,y];if(w[1]=w[1].toLowerCase(),w[1]==="gmail.com"||w[1]==="googlemail.com"){if(m.gmail_remove_subaddress&&(w[0]=w[0].split("+")[0]),m.gmail_remove_dots&&(w[0]=w[0].replace(/\.+/g,f)),!w[0].length)return!1;(m.all_lowercase||m.gmail_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]=m.gmail_convert_googlemaildotcom?"gmail.com":w[1]}else if(s.indexOf(w[1])>=0){if(m.icloud_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(m.all_lowercase||m.icloud_lowercase)&&(w[0]=w[0].toLowerCase())}else if(a.indexOf(w[1])>=0){if(m.outlookdotcom_remove_subaddress&&(w[0]=w[0].split("+")[0]),!w[0].length)return!1;(m.all_lowercase||m.outlookdotcom_lowercase)&&(w[0]=w[0].toLowerCase())}else if(o.indexOf(w[1])>=0){if(m.yahoo_remove_subaddress){var k=w[0].split("-");w[0]=k.length>1?k.slice(0,-1).join("-"):k[0]}if(!w[0].length)return!1;(m.all_lowercase||m.yahoo_lowercase)&&(w[0]=w[0].toLowerCase())}else u.indexOf(w[1])>=0?((m.all_lowercase||m.yandex_lowercase)&&(w[0]=w[0].toLowerCase()),w[1]=m.yandex_convert_yandexru?"yandex.ru":w[1]):m.all_lowercase&&(w[0]=w[0].toLowerCase());return w.join("@")}t.exports=e.default,t.exports.default=e.default})(E0,E0.exports)),E0.exports}var A0={exports:{}},ZQ;function xte(){return ZQ||(ZQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function s(a){return(0,n.default)(a),i.test(a)}t.exports=e.default,t.exports.default=e.default})(A0,A0.exports)),A0.exports}var C0={exports:{}},UQ;function kte(){return UQ||(UQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(Xe());function r(a){return a&&a.__esModule?a:{default:a}}var i={"cs-CZ":function(o){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(o)},"de-DE":function(o){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(o)},"de-LI":function(o){return/^FL[- ]?\d{1,5}[UZ]?$/.test(o)},"en-IN":function(o){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(o)},"en-SG":function(o){return/^[A-Z]{3}[ -]?[\d]{4}[ -]?[A-Z]{1}$/.test(o)},"es-AR":function(o){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(o)},"fi-FI":function(o){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(o)},"hu-HU":function(o){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(o)},"pt-BR":function(o){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(o)},"pt-PT":function(o){return/^(([A-Z]{2}[ -]?[0-9]{2}[ -]?[0-9]{2})|([0-9]{2}[ -]?[A-Z]{2}[ -]?[0-9]{2})|([0-9]{2}[ -]?[0-9]{2}[ -]?[A-Z]{2})|([A-Z]{2}[ -]?[0-9]{2}[ -]?[A-Z]{2}))$/.test(o)},"sq-AL":function(o){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(o)},"sv-SE":function(o){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(o.trim())},"en-PK":function(o){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(o.trim())}};function s(a,o){if((0,n.default)(a),o in i)return i[o](a);if(o==="any"){for(var u in i){var f=i[u];if(f(a))return!0}return!1}throw new Error("Invalid locale '".concat(o,"'"))}t.exports=e.default,t.exports.default=e.default})(C0,C0.exports)),C0.exports}var P0={exports:{}},qQ;function Tte(){return qQ||(qQ=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=O;var n=i(Ii()),r=i(Xe());function i(y){return y&&y.__esModule?y:{default:y}}var s=/^[A-Z]$/,a=/^[a-z]$/,o=/^[0-9]$/,u=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,f={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function h(y){var v={};return Array.from(y).forEach(function(w){var k=v[w];k?v[w]+=1:v[w]=1}),v}function d(y){var v=h(y),w={length:y.length,uniqueChars:Object.keys(v).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(v).forEach(function(k){s.test(k)?w.uppercaseCount+=v[k]:a.test(k)?w.lowercaseCount+=v[k]:o.test(k)?w.numberCount+=v[k]:u.test(k)&&(w.symbolCount+=v[k])}),w}function m(y,v){var w=0;return w+=y.uniqueChars*v.pointsPerUnique,w+=(y.length-y.uniqueChars)*v.pointsPerRepeat,y.lowercaseCount>0&&(w+=v.pointsForContainingLower),y.uppercaseCount>0&&(w+=v.pointsForContainingUpper),y.numberCount>0&&(w+=v.pointsForContainingNumber),y.symbolCount>0&&(w+=v.pointsForContainingSymbol),w}function O(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,r.default)(y);var w=d(y);return v=(0,n.default)(v||{},f),v.returnScore?m(w,v):w.length>=v.minLength&&w.lowercaseCount>=v.minLowercase&&w.uppercaseCount>=v.minUppercase&&w.numberCount>=v.minNumbers&&w.symbolCount>=v.minSymbols}t.exports=e.default,t.exports.default=e.default})(P0,P0.exports)),P0.exports}var gh={},VQ;function Ete(){if(VQ)return gh;VQ=1;function t(h){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(h)}Object.defineProperty(gh,"__esModule",{value:!0}),gh.default=f,gh.vatMatchers=void 0;var e=i(Xe()),n=r(gz());function r(h,d){if(typeof WeakMap=="function")var m=new WeakMap,O=new WeakMap;return(r=function(v,w){if(!w&&v&&v.__esModule)return v;var k,T,A={__proto__:null,default:v};if(v===null||t(v)!="object"&&typeof v!="function")return A;if(k=w?O:m){if(k.has(v))return k.get(v);k.set(v,A)}for(var C in v)C!=="default"&&{}.hasOwnProperty.call(v,C)&&((T=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,C))&&(T.get||T.set)?k(A,C,T):A[C]=v[C]);return A})(h,d)}function i(h){return h&&h.__esModule?h:{default:h}}var s=function(d){var m=d.match(/^(AU)?(\d{11})$/);if(!m)return!1;var O=[10,1,3,5,7,9,11,13,15,17,19];d=d.replace(/^AU/,"");for(var y=(parseInt(d.slice(0,1),10)-1).toString()+d.slice(1),v=0,w=0;w<11;w++)v+=O[w]*y.charAt(w);return v!==0&&v%89===0},a=function(d){var m=function(y){var v=y.pop(),w=[5,4,3,2,7,6,5,4],k=(11-y.reduce(function(T,A,C){return T+A*w[C]},0)%11)%11;return v===k};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(d)&&m(d.match(/\d/g).map(function(O){return+O}))},o=function(d){var m=d.match(/^(PT)?(\d{9})$/);if(!m)return!1;var O=m[2],y=11-n.reverseMultiplyAndSum(O.split("").slice(0,8).map(function(v){return parseInt(v,10)}),9)%11;return y>9?parseInt(O[8],10)===0:y===parseInt(O[8],10)},u=gh.vatMatchers={AT:function(d){return/^(AT)?U\d{8}$/.test(d)},BE:function(d){return/^(BE)?\d{10}$/.test(d)},BG:function(d){return/^(BG)?\d{9,10}$/.test(d)},HR:function(d){return/^(HR)?\d{11}$/.test(d)},CY:function(d){return/^(CY)?\w{9}$/.test(d)},CZ:function(d){return/^(CZ)?\d{8,10}$/.test(d)},DK:function(d){return/^(DK)?\d{8}$/.test(d)},EE:function(d){return/^(EE)?\d{9}$/.test(d)},FI:function(d){return/^(FI)?\d{8}$/.test(d)},FR:function(d){return/^(FR)([A-Z0-9]{2}\d{9})$/.test(d)},DE:function(d){return/^(DE)?\d{9}$/.test(d)},EL:function(d){return/^(EL)?\d{9}$/.test(d)},HU:function(d){return/^(HU)?\d{8}$/.test(d)},IE:function(d){return/^(IE)?\d{7}\w{1}(W)?$/.test(d)},IT:function(d){return/^(IT)?\d{11}$/.test(d)},LV:function(d){return/^(LV)?\d{11}$/.test(d)},LT:function(d){return/^(LT)?\d{9,12}$/.test(d)},LU:function(d){return/^(LU)?\d{8}$/.test(d)},MT:function(d){return/^(MT)?\d{8}$/.test(d)},NL:function(d){return/^(NL)?\d{9}B\d{2}$/.test(d)},PL:function(d){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(d)},PT:o,RO:function(d){return/^(RO)?\d{2,10}$/.test(d)},SK:function(d){return/^(SK)?\d{10}$/.test(d)},SI:function(d){return/^(SI)?\d{8}$/.test(d)},ES:function(d){return/^(ES)?\w\d{7}[A-Z]$/.test(d)},SE:function(d){return/^(SE)?\d{12}$/.test(d)},AL:function(d){return/^(AL)?\w{9}[A-Z]$/.test(d)},MK:function(d){return/^(MK)?\d{13}$/.test(d)},AU:s,BY:function(d){return/^( )?\d{9}$/.test(d)},CA:function(d){return/^(CA)?\d{9}$/.test(d)},IS:function(d){return/^(IS)?\d{5,6}$/.test(d)},IN:function(d){return/^(IN)?\d{15}$/.test(d)},ID:function(d){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(d)},IL:function(d){return/^(IL)?\d{9}$/.test(d)},KZ:function(d){return/^(KZ)?\d{12}$/.test(d)},NZ:function(d){return/^(NZ)?\d{9}$/.test(d)},NG:function(d){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(d)},NO:function(d){return/^(NO)?\d{9}MVA$/.test(d)},PH:function(d){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(d)},RU:function(d){return/^(RU)?(\d{10}|\d{12})$/.test(d)},SM:function(d){return/^(SM)?\d{5}$/.test(d)},SA:function(d){return/^(SA)?\d{15}$/.test(d)},RS:function(d){return/^(RS)?\d{9}$/.test(d)},CH:a,TR:function(d){return/^(TR)?\d{10}$/.test(d)},UA:function(d){return/^(UA)?\d{12}$/.test(d)},GB:function(d){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(d)},UZ:function(d){return/^(UZ)?\d{9}$/.test(d)},AR:function(d){return/^(AR)?\d{11}$/.test(d)},BO:function(d){return/^(BO)?\d{7}$/.test(d)},BR:function(d){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(d)},CL:function(d){return/^(CL)?\d{8}-\d{1}$/.test(d)},CO:function(d){return/^(CO)?\d{10}$/.test(d)},CR:function(d){return/^(CR)?\d{9,12}$/.test(d)},EC:function(d){return/^(EC)?\d{13}$/.test(d)},SV:function(d){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(d)},GT:function(d){return/^(GT)?\d{7}-\d{1}$/.test(d)},HN:function(d){return/^(HN)?$/.test(d)},MX:function(d){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(d)},NI:function(d){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(d)},PA:function(d){return/^(PA)?$/.test(d)},PY:function(d){return/^(PY)?\d{6,8}-\d{1}$/.test(d)},PE:function(d){return/^(PE)?\d{11}$/.test(d)},DO:function(d){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(d)},UY:function(d){return/^(UY)?\d{12}$/.test(d)},VE:function(d){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(d)}};function f(h,d){if((0,e.default)(h),(0,e.default)(d),d in u)return u[d](h);throw new Error("Invalid country code: '".concat(d,"'"))}return gh}var XQ;function Ate(){return XQ||(XQ=1,(function(t,e){function n(ti){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rr){return typeof Rr}:function(Rr){return Rr&&typeof Symbol=="function"&&Rr.constructor===Symbol&&Rr!==Symbol.prototype?"symbol":typeof Rr},n(ti)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=Qe(iC()),i=Qe(rz()),s=Qe(HJ()),a=Qe(JJ()),o=Qe(eee()),u=Qe(tee()),f=Qe(nee()),h=Qe(oz()),d=Qe(ree()),m=Qe(iee()),O=Qe(Cw()),y=Qe(see()),v=Qe(sC()),w=Qe(uz()),k=Qe(aee()),T=Qe(oee()),A=Qe(lee()),C=Qe(uee()),I=Bn(cee()),Q=Bn(fee()),N=Qe(hee()),j=Bn(dee()),q=Qe(pee()),oe=Qe(mee()),we=Qe(gee()),K=Qe(Oee()),Ae=Qe(yee()),Ee=Qe(cz()),Be=Qe(fz()),G=Qe(vee()),ye=Qe(bee()),Se=Qe(wee()),Te=Qe(See()),he=Qe(aC()),z=Bn(nz()),ne=Qe(xee()),ge=Qe(hz()),Pe=Qe(kee()),De=Qe(Tee()),tt=Qe(Eee()),it=Qe(Aee()),ut=Qe(Cee()),qe=Qe(Pee()),Cn=Bn(Ree()),mr=Qe($ee()),yt=Qe(Mee()),rn=Qe(Iee()),ir=Qe(Dee()),sr=Qe(Qee()),Ts=Qe(Nee()),X=Qe(Lee()),W=Qe(az()),ve=Qe(jee()),Ue=Qe(Bee()),Ne=Qe(zee()),Ze=Qe(Zee()),ft=Qe(Uee()),at=Qe(qee()),Tt=Qe(mz()),Mt=Qe(Vee()),un=Qe(Xee()),Pn=Qe(Fee()),ar=Qe(Yee()),Rn=Qe(Wee()),Pr=Qe(Gee()),qr=Qe(Kee()),Gn=Bn(Hee()),Jt=Qe(Jee()),nt=Qe(ete()),de=Qe(tte()),ze=nte(),dt=Qe(rte()),Le=Qe(ite()),Vr=Qe(ste()),li=Qe(ate()),Di=Qe(dz()),Ti=Qe(ote()),Ei=Qe(lte()),Es=Qe(ute()),Xo=Qe(cte()),Qi=Qe(fte()),ei=Qe(pz()),As=Qe(hte()),so=Qe(dte()),sn=Qe(pte()),jn=Qe(mte()),Zl=Qe(gte()),rs=Bn(Ote()),is=Qe(yz()),ui=Qe(Oz()),Ul=Qe(vz()),gr=Qe(yte()),vn=Qe(vte()),xn=Qe(bte()),Ni=Qe(_te()),ci=Qe(bz()),ss=Qe(wte()),ql=Qe(Ste()),as=Qe(xte()),aa=Qe(kte()),Ma=Qe(Tte()),Vt=Qe(Ete());function Bn(ti,Rr){if(typeof WeakMap=="function")var Li=new WeakMap,ni=new WeakMap;return(Bn=function(qn,ao){if(!ao&&qn&&qn.__esModule)return qn;var Pt,ls,ji={__proto__:null,default:qn};if(qn===null||n(qn)!="object"&&typeof qn!="function")return ji;if(Pt=ao?ni:Li){if(Pt.has(qn))return Pt.get(qn);Pt.set(qn,ji)}for(var Or in qn)Or!=="default"&&{}.hasOwnProperty.call(qn,Or)&&((ls=(Pt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(qn,Or))&&(ls.get||ls.set)?Pt(ji,Or,ls):ji[Or]=qn[Or]);return ji})(ti,Rr)}function Qe(ti){return ti&&ti.__esModule?ti:{default:ti}}var Cs="13.15.26",hn={version:Cs,toDate:r.default,toFloat:i.default,toInt:s.default,toBoolean:a.default,equals:o.default,contains:u.default,matches:f.default,isEmail:h.default,isURL:d.default,isMACAddress:m.default,isIP:O.default,isIPRange:y.default,isFQDN:v.default,isBoolean:T.default,isIBAN:Cn.default,isBIC:mr.default,isAbaRouting:C.default,isAlpha:I.default,isAlphaLocales:I.locales,isAlphanumeric:Q.default,isAlphanumericLocales:Q.locales,isNumeric:N.default,isPassportNumber:j.default,passportNumberLocales:j.locales,isPort:q.default,isLowercase:oe.default,isUppercase:we.default,isAscii:Ae.default,isFullWidth:Ee.default,isHalfWidth:Be.default,isVariableWidth:G.default,isMultibyte:ye.default,isSemVer:Se.default,isSurrogatePair:Te.default,isInt:he.default,isIMEI:K.default,isFloat:z.default,isFloatLocales:z.locales,isDecimal:ne.default,isHexadecimal:ge.default,isOctal:Pe.default,isDivisibleBy:De.default,isHexColor:tt.default,isRgbColor:it.default,isHSL:ut.default,isISRC:qe.default,isMD5:yt.default,isHash:rn.default,isJWT:ir.default,isJSON:sr.default,isEmpty:Ts.default,isLength:X.default,isLocale:A.default,isByteLength:W.default,isULID:ve.default,isUUID:Ue.default,isMongoId:Ne.default,isAfter:Ze.default,isBefore:ft.default,isIn:at.default,isLuhnNumber:Tt.default,isCreditCard:Mt.default,isIdentityCard:un.default,isEAN:Pn.default,isISIN:ar.default,isISBN:Rn.default,isISSN:Pr.default,isMobilePhone:Gn.default,isMobilePhoneLocales:Gn.locales,isPostalCode:rs.default,isPostalCodeLocales:rs.locales,isEthereumAddress:Jt.default,isCurrency:nt.default,isBtcAddress:de.default,isISO6346:ze.isISO6346,isFreightContainerID:ze.isFreightContainerID,isISO6391:dt.default,isISO8601:Le.default,isISO15924:li.default,isRFC3339:Vr.default,isISO31661Alpha2:Di.default,isISO31661Alpha3:Ti.default,isISO31661Numeric:Ei.default,isISO4217:Es.default,isBase32:Xo.default,isBase58:Qi.default,isBase64:ei.default,isDataURI:As.default,isMagnetURI:so.default,isMailtoURI:sn.default,isMimeType:jn.default,isLatLong:Zl.default,ltrim:is.default,rtrim:ui.default,trim:Ul.default,escape:gr.default,unescape:vn.default,stripLow:xn.default,whitelist:Ni.default,blacklist:ci.default,isWhitelisted:ss.default,normalizeEmail:ql.default,toString,isSlug:as.default,isStrongPassword:Ma.default,isTaxID:qr.default,isDate:w.default,isTime:k.default,isLicensePlate:aa.default,isVAT:Vt.default,ibanLocales:Cn.locales};e.default=hn,t.exports=e.default,t.exports.default=e.default})(Zy,Zy.exports)),Zy.exports}var Px,FQ;function oC(){if(FQ)return Px;FQ=1;var t=Ate(),e={date:function(n){if(typeof n!="string")return!0;var r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(n);return!(r===null||r[2]<"01"||r[2]>"12"||r[3]<"01"||r[3]>"31")},"date-time":function(n){if(typeof n!="string")return!0;var r=n.toLowerCase().split("t");if(!e.date(r[0]))return!1;var i=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(r[1]);return!(i===null||i[1]>"23"||i[2]>"59"||i[3]>"59")},email:function(n){return typeof n!="string"?!0:t.isEmail(n,{require_tld:!0})},hostname:function(n){if(typeof n!="string")return!0;var r=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(n);if(r){if(n.length>255)return!1;for(var i=n.split("."),s=0;s<i.length;s++)if(i[s].length>63)return!1}return r},"host-name":function(n){return e.hostname.call(this,n)},ipv4:function(n){return typeof n!="string"?!0:t.isIP(n,4)},ipv6:function(n){return typeof n!="string"?!0:t.isIP(n,6)},regex:function(n){try{return RegExp(n),!0}catch{return!1}},uri:function(n){return this.options.strictUris?e["strict-uri"].apply(this,arguments):typeof n!="string"||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(n)},"strict-uri":function(n){return typeof n!="string"||t.isURL(n)}};return Px=e,Px}var Rx={},YQ;function _z(){return YQ||(YQ=1,(function(t){var e=oC(),n=aO(),r=qd(),i=function(u,f){return u&&Array.isArray(u.includeErrors)&&u.includeErrors.length>0&&!f.some(function(h){return u.includeErrors.includes(h)})},s={multipleOf:function(u,f,h){if(!i(this.validateOptions,["MULTIPLE_OF"])&&typeof h=="number"){var d=String(f.multipleOf),m=Math.pow(10,d.length-d.indexOf(".")-1);r.whatIs(h*m/(f.multipleOf*m))!=="integer"&&u.addError("MULTIPLE_OF",[h,f.multipleOf],null,f)}},maximum:function(u,f,h){i(this.validateOptions,["MAXIMUM","MAXIMUM_EXCLUSIVE"])||typeof h=="number"&&(f.exclusiveMaximum!==!0?h>f.maximum&&u.addError("MAXIMUM",[h,f.maximum],null,f):h>=f.maximum&&u.addError("MAXIMUM_EXCLUSIVE",[h,f.maximum],null,f))},exclusiveMaximum:function(){},minimum:function(u,f,h){i(this.validateOptions,["MINIMUM","MINIMUM_EXCLUSIVE"])||typeof h=="number"&&(f.exclusiveMinimum!==!0?h<f.minimum&&u.addError("MINIMUM",[h,f.minimum],null,f):h<=f.minimum&&u.addError("MINIMUM_EXCLUSIVE",[h,f.minimum],null,f))},exclusiveMinimum:function(){},maxLength:function(u,f,h){i(this.validateOptions,["MAX_LENGTH"])||typeof h=="string"&&r.ucs2decode(h).length>f.maxLength&&u.addError("MAX_LENGTH",[h.length,f.maxLength],null,f)},minLength:function(u,f,h){i(this.validateOptions,["MIN_LENGTH"])||typeof h=="string"&&r.ucs2decode(h).length<f.minLength&&u.addError("MIN_LENGTH",[h.length,f.minLength],null,f)},pattern:function(u,f,h){i(this.validateOptions,["PATTERN"])||typeof h=="string"&&RegExp(f.pattern).test(h)===!1&&u.addError("PATTERN",[f.pattern,h],null,f)},additionalItems:function(u,f,h){i(this.validateOptions,["ARRAY_ADDITIONAL_ITEMS"])||Array.isArray(h)&&f.additionalItems===!1&&Array.isArray(f.items)&&h.length>f.items.length&&u.addError("ARRAY_ADDITIONAL_ITEMS",null,null,f)},items:function(){},maxItems:function(u,f,h){i(this.validateOptions,["ARRAY_LENGTH_LONG"])||Array.isArray(h)&&h.length>f.maxItems&&u.addError("ARRAY_LENGTH_LONG",[h.length,f.maxItems],null,f)},minItems:function(u,f,h){i(this.validateOptions,["ARRAY_LENGTH_SHORT"])||Array.isArray(h)&&h.length<f.minItems&&u.addError("ARRAY_LENGTH_SHORT",[h.length,f.minItems],null,f)},uniqueItems:function(u,f,h){if(!i(this.validateOptions,["ARRAY_UNIQUE"])&&Array.isArray(h)&&f.uniqueItems===!0){var d=[];r.isUniqueArray(h,d)===!1&&u.addError("ARRAY_UNIQUE",d,null,f)}},maxProperties:function(u,f,h){if(!i(this.validateOptions,["OBJECT_PROPERTIES_MAXIMUM"])&&r.whatIs(h)==="object"){var d=Object.keys(h).length;d>f.maxProperties&&u.addError("OBJECT_PROPERTIES_MAXIMUM",[d,f.maxProperties],null,f)}},minProperties:function(u,f,h){if(!i(this.validateOptions,["OBJECT_PROPERTIES_MINIMUM"])&&r.whatIs(h)==="object"){var d=Object.keys(h).length;d<f.minProperties&&u.addError("OBJECT_PROPERTIES_MINIMUM",[d,f.minProperties],null,f)}},required:function(u,f,h){if(!i(this.validateOptions,["OBJECT_MISSING_REQUIRED_PROPERTY"])&&r.whatIs(h)==="object")for(var d=f.required.length;d--;){var m=f.required[d];h[m]===void 0&&u.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[m],null,f)}},additionalProperties:function(u,f,h){if(f.properties===void 0&&f.patternProperties===void 0)return s.properties.call(this,u,f,h)},patternProperties:function(u,f,h){if(f.properties===void 0)return s.properties.call(this,u,f,h)},properties:function(u,f,h){if(!i(this.validateOptions,["OBJECT_ADDITIONAL_PROPERTIES"])&&r.whatIs(h)==="object"){var d=f.properties!==void 0?f.properties:{},m=f.patternProperties!==void 0?f.patternProperties:{};if(f.additionalProperties===!1){var O=Object.keys(h),y=Object.keys(d),v=Object.keys(m);O=r.difference(O,y);for(var w=v.length;w--;)for(var k=RegExp(v[w]),T=O.length;T--;)k.test(O[T])===!0&&O.splice(T,1);if(O.length>0){var A=this.options.assumeAdditional.length;if(A)for(;A--;){var C=O.indexOf(this.options.assumeAdditional[A]);C!==-1&&O.splice(C,1)}var I=O.length;if(I)for(;I--;)u.addError("OBJECT_ADDITIONAL_PROPERTIES",[O[I]],null,f)}}}},dependencies:function(u,f,h){if(!i(this.validateOptions,["OBJECT_DEPENDENCY_KEY"])&&r.whatIs(h)==="object")for(var d=Object.keys(f.dependencies),m=d.length;m--;){var O=d[m];if(h[O]){var y=f.dependencies[O];if(r.whatIs(y)==="object")t.validate.call(this,u,y,h);else for(var v=y.length;v--;){var w=y[v];h[w]===void 0&&u.addError("OBJECT_DEPENDENCY_KEY",[w,O],null,f)}}}},enum:function(u,f,h){if(!i(this.validateOptions,["ENUM_CASE_MISMATCH","ENUM_MISMATCH"])){for(var d=!1,m=!1,O=f.enum.length;O--;)if(r.areEqual(h,f.enum[O])){d=!0;break}else r.areEqual(h,f.enum[O]),m=!0;if(d===!1){var y=m&&this.options.enumCaseInsensitiveComparison?"ENUM_CASE_MISMATCH":"ENUM_MISMATCH";u.addError(y,[h],null,f)}}},type:function(u,f,h){if(!i(this.validateOptions,["INVALID_TYPE"])){var d=r.whatIs(h);typeof f.type=="string"?d!==f.type&&(d!=="integer"||f.type!=="number")&&u.addError("INVALID_TYPE",[f.type,d],null,f):f.type.indexOf(d)===-1&&(d!=="integer"||f.type.indexOf("number")===-1)&&u.addError("INVALID_TYPE",[f.type,d],null,f)}},allOf:function(u,f,h){for(var d=f.allOf.length;d--;){var m=t.validate.call(this,u,f.allOf[d],h);if(this.options.breakOnFirstError&&m===!1)break}},anyOf:function(u,f,h){for(var d=[],m=!1,O=f.anyOf.length;O--&&m===!1;){var y=new n(u);d.push(y),m=t.validate.call(this,y,f.anyOf[O],h)}m===!1&&u.addError("ANY_OF_MISSING",void 0,d,f)},oneOf:function(u,f,h){for(var d=0,m=[],O=f.oneOf.length;O--;){var y=new n(u,{maxErrors:1});m.push(y),t.validate.call(this,y,f.oneOf[O],h)===!0&&d++}d===0?u.addError("ONE_OF_MISSING",void 0,m,f):d>1&&u.addError("ONE_OF_MULTIPLE",null,null,f)},not:function(u,f,h){var d=new n(u);t.validate.call(this,d,f.not,h)===!0&&u.addError("NOT_PASSED",null,null,f)},definitions:function(){},format:function(u,f,h){var d=e[f.format];if(typeof d=="function"){if(i(this.validateOptions,["INVALID_FORMAT"])||u.hasError("INVALID_TYPE",[f.type,r.whatIs(h)]))return;if(d.length===2){var m=r.clone(u.path);u.addAsyncTask(d,[h],function(O){if(O!==!0){var y=u.path;u.path=m,u.addError("INVALID_FORMAT",[f.format,h],null,f),u.path=y}})}else d.call(this,h)!==!0&&u.addError("INVALID_FORMAT",[f.format,h],null,f)}else this.options.ignoreUnknownFormats!==!0&&u.addError("UNKNOWN_FORMAT",[f.format],null,f)}},a=function(u,f,h){var d=h.length;if(Array.isArray(f.items))for(;d--;)d<f.items.length?(u.path.push(d),t.validate.call(this,u,f.items[d],h[d]),u.path.pop()):typeof f.additionalItems=="object"&&(u.path.push(d),t.validate.call(this,u,f.additionalItems,h[d]),u.path.pop());else if(typeof f.items=="object")for(;d--;)u.path.push(d),t.validate.call(this,u,f.items,h[d]),u.path.pop()},o=function(u,f,h){var d=f.additionalProperties;(d===!0||d===void 0)&&(d={});for(var m=f.properties?Object.keys(f.properties):[],O=f.patternProperties?Object.keys(f.patternProperties):[],y=Object.keys(h),v=y.length;v--;){var w=y[v],k=h[w],T=[];m.indexOf(w)!==-1&&T.push(f.properties[w]);for(var A=O.length;A--;){var C=O[A];RegExp(C).test(w)===!0&&T.push(f.patternProperties[C])}for(T.length===0&&d!==!1&&T.push(d),A=T.length;A--;)u.path.push(w),t.validate.call(this,u,T[A],k),u.path.pop()}};t.JsonValidators=s,t.validate=function(u,f,h){u.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var d=r.whatIs(f);if(d!=="object")return u.addError("SCHEMA_NOT_AN_OBJECT",[d],null,f),!1;var m=Object.keys(f);if(m.length===0)return!0;var O=!1;if(u.rootSchema||(u.rootSchema=f,O=!0),f.$ref!==void 0){for(var y=99;f.$ref&&y>0;){if(f.__$refResolved){if(f.__$refResolved===f)break;f=f.__$refResolved,m=Object.keys(f)}else{u.addError("REF_UNRESOLVED",[f.$ref],null,f);break}y--}if(y===0)throw new Error("Circular dependency by $ref references!")}var v=r.whatIs(h);if(f.type&&(m.splice(m.indexOf("type"),1),s.type.call(this,u,f,h),u.errors.length&&this.options.breakOnFirstError))return!1;for(var w=m.length;w--&&!(s[m[w]]&&(s[m[w]].call(this,u,f,h),u.errors.length&&this.options.breakOnFirstError)););return(u.errors.length===0||this.options.breakOnFirstError===!1)&&(v==="array"?a.call(this,u,f,h):v==="object"&&o.call(this,u,f,h)),typeof this.options.customValidator=="function"&&this.options.customValidator.call(this,u,f,h),O&&(u.rootSchema=void 0),u.errors.length===0}})(Rx)),Rx}var $x={},Om={exports:{}};Om.exports;var WQ;function Cte(){return WQ||(WQ=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,o="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",m="[object Error]",O="[object Function]",y="[object GeneratorFunction]",v="[object Map]",w="[object Number]",k="[object Null]",T="[object Object]",A="[object Promise]",C="[object Proxy]",I="[object RegExp]",Q="[object Set]",N="[object String]",j="[object Symbol]",q="[object Undefined]",oe="[object WeakMap]",we="[object ArrayBuffer]",K="[object DataView]",Ae="[object Float32Array]",Ee="[object Float64Array]",Be="[object Int8Array]",G="[object Int16Array]",ye="[object Int32Array]",Se="[object Uint8Array]",Te="[object Uint8ClampedArray]",he="[object Uint16Array]",z="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,ge=/^\[object .+?Constructor\]$/,Pe=/^(?:0|[1-9]\d*)$/,De={};De[Ae]=De[Ee]=De[Be]=De[G]=De[ye]=De[Se]=De[Te]=De[he]=De[z]=!0,De[o]=De[u]=De[we]=De[h]=De[K]=De[d]=De[m]=De[O]=De[v]=De[w]=De[T]=De[I]=De[Q]=De[N]=De[oe]=!1;var tt=typeof yl=="object"&&yl&&yl.Object===Object&&yl,it=typeof self=="object"&&self&&self.Object===Object&&self,ut=tt||it||Function("return this")(),qe=e&&!e.nodeType&&e,Cn=qe&&!0&&t&&!t.nodeType&&t,mr=Cn&&Cn.exports===qe,yt=mr&&tt.process,rn=(function(){try{return yt&&yt.binding&&yt.binding("util")}catch{}})(),ir=rn&&rn.isTypedArray;function sr(U,se){for(var je=-1,Ke=U==null?0:U.length,Xt=0,wt=[];++je<Ke;){var en=U[je];se(en,je,U)&&(wt[Xt++]=en)}return wt}function Ts(U,se){for(var je=-1,Ke=se.length,Xt=U.length;++je<Ke;)U[Xt+je]=se[je];return U}function X(U,se){for(var je=-1,Ke=U==null?0:U.length;++je<Ke;)if(se(U[je],je,U))return!0;return!1}function W(U,se){for(var je=-1,Ke=Array(U);++je<U;)Ke[je]=se(je);return Ke}function ve(U){return function(se){return U(se)}}function Ue(U,se){return U.has(se)}function Ne(U,se){return U?.[se]}function Ze(U){var se=-1,je=Array(U.size);return U.forEach(function(Ke,Xt){je[++se]=[Xt,Ke]}),je}function ft(U,se){return function(je){return U(se(je))}}function at(U){var se=-1,je=Array(U.size);return U.forEach(function(Ke){je[++se]=Ke}),je}var Tt=Array.prototype,Mt=Function.prototype,un=Object.prototype,Pn=ut["__core-js_shared__"],ar=Mt.toString,Rn=un.hasOwnProperty,Pr=(function(){var U=/[^.]+$/.exec(Pn&&Pn.keys&&Pn.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""})(),qr=un.toString,Gn=RegExp("^"+ar.call(Rn).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=mr?ut.Buffer:void 0,nt=ut.Symbol,de=ut.Uint8Array,ze=un.propertyIsEnumerable,dt=Tt.splice,Le=nt?nt.toStringTag:void 0,Vr=Object.getOwnPropertySymbols,li=Jt?Jt.isBuffer:void 0,Di=ft(Object.keys,Object),Ti=Rt(ut,"DataView"),Ei=Rt(ut,"Map"),Es=Rt(ut,"Promise"),Xo=Rt(ut,"Set"),Qi=Rt(ut,"WeakMap"),ei=Rt(Object,"create"),As=fs(Ti),so=fs(Ei),sn=fs(Es),jn=fs(Xo),Zl=fs(Qi),rs=nt?nt.prototype:void 0,is=rs?rs.valueOf:void 0;function ui(U){var se=-1,je=U==null?0:U.length;for(this.clear();++se<je;){var Ke=U[se];this.set(Ke[0],Ke[1])}}function Ul(){this.__data__=ei?ei(null):{},this.size=0}function gr(U){var se=this.has(U)&&delete this.__data__[U];return this.size-=se?1:0,se}function vn(U){var se=this.__data__;if(ei){var je=se[U];return je===r?void 0:je}return Rn.call(se,U)?se[U]:void 0}function xn(U){var se=this.__data__;return ei?se[U]!==void 0:Rn.call(se,U)}function Ni(U,se){var je=this.__data__;return this.size+=this.has(U)?0:1,je[U]=ei&&se===void 0?r:se,this}ui.prototype.clear=Ul,ui.prototype.delete=gr,ui.prototype.get=vn,ui.prototype.has=xn,ui.prototype.set=Ni;function ci(U){var se=-1,je=U==null?0:U.length;for(this.clear();++se<je;){var Ke=U[se];this.set(Ke[0],Ke[1])}}function ss(){this.__data__=[],this.size=0}function ql(U){var se=this.__data__,je=Dt(se,U);if(je<0)return!1;var Ke=se.length-1;return je==Ke?se.pop():dt.call(se,je,1),--this.size,!0}function as(U){var se=this.__data__,je=Dt(se,U);return je<0?void 0:se[je][1]}function aa(U){return Dt(this.__data__,U)>-1}function Ma(U,se){var je=this.__data__,Ke=Dt(je,U);return Ke<0?(++this.size,je.push([U,se])):je[Ke][1]=se,this}ci.prototype.clear=ss,ci.prototype.delete=ql,ci.prototype.get=as,ci.prototype.has=aa,ci.prototype.set=Ma;function Vt(U){var se=-1,je=U==null?0:U.length;for(this.clear();++se<je;){var Ke=U[se];this.set(Ke[0],Ke[1])}}function Bn(){this.size=0,this.__data__={hash:new ui,map:new(Ei||ci),string:new ui}}function Qe(U){var se=Yo(this,U).delete(U);return this.size-=se?1:0,se}function Cs(U){return Yo(this,U).get(U)}function hn(U){return Yo(this,U).has(U)}function ti(U,se){var je=Yo(this,U),Ke=je.size;return je.set(U,se),this.size+=je.size==Ke?0:1,this}Vt.prototype.clear=Bn,Vt.prototype.delete=Qe,Vt.prototype.get=Cs,Vt.prototype.has=hn,Vt.prototype.set=ti;function Rr(U){var se=-1,je=U==null?0:U.length;for(this.__data__=new Vt;++se<je;)this.add(U[se])}function Li(U){return this.__data__.set(U,r),this}function ni(U){return this.__data__.has(U)}Rr.prototype.add=Rr.prototype.push=Li,Rr.prototype.has=ni;function os(U){var se=this.__data__=new ci(U);this.size=se.size}function qn(){this.__data__=new ci,this.size=0}function ao(U){var se=this.__data__,je=se.delete(U);return this.size=se.size,je}function Pt(U){return this.__data__.get(U)}function ls(U){return this.__data__.has(U)}function ji(U,se){var je=this.__data__;if(je instanceof ci){var Ke=je.__data__;if(!Ei||Ke.length<n-1)return Ke.push([U,se]),this.size=++je.size,this;je=this.__data__=new Vt(Ke)}return je.set(U,se),this.size=je.size,this}os.prototype.clear=qn,os.prototype.delete=ao,os.prototype.get=Pt,os.prototype.has=ls,os.prototype.set=ji;function Or(U,se){var je=hi(U),Ke=!je&&Fr(U),Xt=!je&&!Ke&&Ia(U),wt=!je&&!Ke&&!Xt&&Zi(U),en=je||Ke||Xt||wt,or=en?W(U.length,String):[],Hn=or.length;for(var dn in U)Rn.call(U,dn)&&!(en&&(dn=="length"||Xt&&(dn=="offset"||dn=="parent")||wt&&(dn=="buffer"||dn=="byteLength"||dn=="byteOffset")||Xr(dn,Hn)))&&or.push(dn);return or}function Dt(U,se){for(var je=U.length;je--;)if(zn(U[je][0],se))return je;return-1}function oo(U,se,je){var Ke=se(U);return hi(U)?Ke:Ts(Ke,je(U))}function Ps(U){return U==null?U===void 0?q:k:Le&&Le in Object(U)?uc(U):cs(U)}function Rs(U){return hs(U)&&Ps(U)==o}function Fo(U,se,je,Ke,Xt){return U===se?!0:U==null||se==null||!hs(U)&&!hs(se)?U!==U&&se!==se:lo(U,se,je,Ke,Fo,Xt)}function lo(U,se,je,Ke,Xt,wt){var en=hi(U),or=hi(se),Hn=en?u:$s(U),dn=or?u:$s(se);Hn=Hn==o?T:Hn,dn=dn==o?T:dn;var Jn=Hn==T,$r=dn==T,lr=Hn==dn;if(lr&&Ia(U)){if(!Ia(se))return!1;en=!0,Jn=!1}if(lr&&!Jn)return wt||(wt=new os),en||Zi(U)?Xl(U,se,je,Ke,Xt,wt):Bi(U,se,Hn,je,Ke,Xt,wt);if(!(je&i)){var Yr=Jn&&Rn.call(U,"__wrapped__"),Wr=$r&&Rn.call(se,"__wrapped__");if(Yr||Wr){var Ui=Yr?U.value():U,Ai=Wr?se.value():se;return wt||(wt=new os),Xt(Ui,Ai,je,Ke,wt)}}return lr?(wt||(wt=new os),us(U,se,je,Ke,Xt,wt)):!1}function Vl(U){if(!po(U)||Yl(U))return!1;var se=ho(U)?Gn:ge;return se.test(fs(U))}function fi(U){return hs(U)&&Kn(U.length)&&!!De[Ps(U)]}function uo(U){if(!zi(U))return Di(U);var se=[];for(var je in Object(U))Rn.call(U,je)&&je!="constructor"&&se.push(je);return se}function Xl(U,se,je,Ke,Xt,wt){var en=je&i,or=U.length,Hn=se.length;if(or!=Hn&&!(en&&Hn>or))return!1;var dn=wt.get(U);if(dn&&wt.get(se))return dn==se;var Jn=-1,$r=!0,lr=je&s?new Rr:void 0;for(wt.set(U,se),wt.set(se,U);++Jn<or;){var Yr=U[Jn],Wr=se[Jn];if(Ke)var Ui=en?Ke(Wr,Yr,Jn,se,U,wt):Ke(Yr,Wr,Jn,U,se,wt);if(Ui!==void 0){if(Ui)continue;$r=!1;break}if(lr){if(!X(se,function(Ai,Qa){if(!Ue(lr,Qa)&&(Yr===Ai||Xt(Yr,Ai,je,Ke,wt)))return lr.push(Qa)})){$r=!1;break}}else if(!(Yr===Wr||Xt(Yr,Wr,je,Ke,wt))){$r=!1;break}}return wt.delete(U),wt.delete(se),$r}function Bi(U,se,je,Ke,Xt,wt,en){switch(je){case K:if(U.byteLength!=se.byteLength||U.byteOffset!=se.byteOffset)return!1;U=U.buffer,se=se.buffer;case we:return!(U.byteLength!=se.byteLength||!wt(new de(U),new de(se)));case h:case d:case w:return zn(+U,+se);case m:return U.name==se.name&&U.message==se.message;case I:case N:return U==se+"";case v:var or=Ze;case Q:var Hn=Ke&i;if(or||(or=at),U.size!=se.size&&!Hn)return!1;var dn=en.get(U);if(dn)return dn==se;Ke|=s,en.set(U,se);var Jn=Xl(or(U),or(se),Ke,Xt,wt,en);return en.delete(U),Jn;case j:if(is)return is.call(U)==is.call(se)}return!1}function us(U,se,je,Ke,Xt,wt){var en=je&i,or=Fl(U),Hn=or.length,dn=Fl(se),Jn=dn.length;if(Hn!=Jn&&!en)return!1;for(var $r=Hn;$r--;){var lr=or[$r];if(!(en?lr in se:Rn.call(se,lr)))return!1}var Yr=wt.get(U);if(Yr&&wt.get(se))return Yr==se;var Wr=!0;wt.set(U,se),wt.set(se,U);for(var Ui=en;++$r<Hn;){lr=or[$r];var Ai=U[lr],Qa=se[lr];if(Ke)var Wo=en?Ke(Qa,Ai,lr,se,U,wt):Ke(Ai,Qa,lr,U,se,wt);if(!(Wo===void 0?Ai===Qa||Xt(Ai,Qa,je,Ke,wt):Wo)){Wr=!1;break}Ui||(Ui=lr=="constructor")}if(Wr&&!Ui){var go=U.constructor,Oo=se.constructor;go!=Oo&&"constructor"in U&&"constructor"in se&&!(typeof go=="function"&&go instanceof go&&typeof Oo=="function"&&Oo instanceof Oo)&&(Wr=!1)}return wt.delete(U),wt.delete(se),Wr}function Fl(U){return oo(U,Da,xf)}function Yo(U,se){var je=U.__data__;return co(se)?je[typeof se=="string"?"string":"hash"]:je.map}function Rt(U,se){var je=Ne(U,se);return Vl(je)?je:void 0}function uc(U){var se=Rn.call(U,Le),je=U[Le];try{U[Le]=void 0;var Ke=!0}catch{}var Xt=qr.call(U);return Ke&&(se?U[Le]=je:delete U[Le]),Xt}var xf=Vr?function(U){return U==null?[]:(U=Object(U),sr(Vr(U),function(se){return ze.call(U,se)}))}:mo,$s=Ps;(Ti&&$s(new Ti(new ArrayBuffer(1)))!=K||Ei&&$s(new Ei)!=v||Es&&$s(Es.resolve())!=A||Xo&&$s(new Xo)!=Q||Qi&&$s(new Qi)!=oe)&&($s=function(U){var se=Ps(U),je=se==T?U.constructor:void 0,Ke=je?fs(je):"";if(Ke)switch(Ke){case As:return K;case so:return v;case sn:return A;case jn:return Q;case Zl:return oe}return se});function Xr(U,se){return se=se??a,!!se&&(typeof U=="number"||Pe.test(U))&&U>-1&&U%1==0&&U<se}function co(U){var se=typeof U;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?U!=="__proto__":U===null}function Yl(U){return!!Pr&&Pr in U}function zi(U){var se=U&&U.constructor,je=typeof se=="function"&&se.prototype||un;return U===je}function cs(U){return qr.call(U)}function fs(U){if(U!=null){try{return ar.call(U)}catch{}try{return U+""}catch{}}return""}function zn(U,se){return U===se||U!==U&&se!==se}var Fr=Rs((function(){return arguments})())?Rs:function(U){return hs(U)&&Rn.call(U,"callee")&&!ze.call(U,"callee")},hi=Array.isArray;function fo(U){return U!=null&&Kn(U.length)&&!ho(U)}var Ia=li||cc;function Ms(U,se){return Fo(U,se)}function ho(U){if(!po(U))return!1;var se=Ps(U);return se==O||se==y||se==f||se==C}function Kn(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=a}function po(U){var se=typeof U;return U!=null&&(se=="object"||se=="function")}function hs(U){return U!=null&&typeof U=="object"}var Zi=ir?ve(ir):fi;function Da(U){return fo(U)?Or(U):uo(U)}function mo(){return[]}function cc(){return!1}t.exports=Ms})(Om,Om.exports)),Om.exports}var Mx={},GQ;function wz(){return GQ||(GQ=1,(function(t){var e=aO(),n=xz(),r=qd();function i(f,h){if(r.isAbsoluteUri(h))return h;var d=f.join(""),m=r.isAbsoluteUri(d),O=r.isRelativeUri(d),y=r.isRelativeUri(h),v;m&&y?(v=d.match(/\/[^\/]*$/),v&&(d=d.slice(0,v.index+1))):O&&y?d="":(v=d.match(/[^#/]+$/),v&&(d=d.slice(0,v.index)));var w=d+h;return w=w.replace(/##/,"#"),w}function s(f,h,d,m){if(h=h||[],d=d||[],m=m||[],typeof f!="object"||f===null)return h;typeof f.id=="string"&&d.push(f.id),typeof f.$ref=="string"&&typeof f.__$refResolved>"u"&&h.push({ref:i(d,f.$ref),key:"$ref",obj:f,path:m.slice(0)}),typeof f.$schema=="string"&&typeof f.__$schemaResolved>"u"&&h.push({ref:i(d,f.$schema),key:"$schema",obj:f,path:m.slice(0)});var O;if(Array.isArray(f))for(O=f.length;O--;)m.push(O.toString()),s(f[O],h,d,m),m.pop();else{var y=Object.keys(f);for(O=y.length;O--;)y[O].indexOf("__$")!==0&&(m.push(y[O]),s(f[y[O]],h,d,m),m.pop())}return typeof f.id=="string"&&d.pop(),h}var a=function(f,h){for(var d=h.length,m=0;d--;){var O=new e(f),y=t.compileSchema.call(this,O,h[d]);y&&m++,f.errors=f.errors.concat(O.errors)}return m};function o(f,h){for(var d=f.length;d--;)if(f[d].id===h)return f[d];return null}var u=function(f,h){var d=0,m;do{for(var O=f.errors.length;O--;)f.errors[O].code==="UNRESOLVABLE_REFERENCE"&&f.errors.splice(O,1);for(m=d,d=a.call(this,f,h),O=h.length;O--;){var y=h[O];if(y.__$missingReferences){for(var v=y.__$missingReferences.length;v--;){var w=y.__$missingReferences[v],k=o(h,w.ref);k&&(w.obj["__"+w.key+"Resolved"]=k,y.__$missingReferences.splice(v,1))}y.__$missingReferences.length===0&&delete y.__$missingReferences}}}while(d!==h.length&&d!==m);return f.isValid()};t.compileSchema=function(f,h){if(f.commonErrorMessage="SCHEMA_COMPILATION_FAILED",typeof h=="string"){var d=n.getSchemaByUri.call(this,f,h);if(!d)return f.addError("SCHEMA_NOT_REACHABLE",[h]),!1;h=d}if(Array.isArray(h))return u.call(this,f,h);if(h.__$compiled&&h.id&&n.checkCacheForUri.call(this,h.id)===!1&&(h.__$compiled=void 0),h.__$compiled)return!0;h.id&&typeof h.id=="string"&&n.cacheSchemaByUri.call(this,h.id,h);var m=!1;f.rootSchema||(f.rootSchema=h,m=!0);var O=f.isValid();delete h.__$missingReferences;for(var y=s.call(this,h),v=y.length;v--;){var w=y[v],k=n.getSchemaByUri.call(this,f,w.ref,h);if(!k){var T=this.getSchemaReader();if(T){var A=T(w.ref);if(A){A.id=w.ref;var C=new e(f);t.compileSchema.call(this,C,A)?k=n.getSchemaByUri.call(this,f,w.ref,h):f.errors=f.errors.concat(C.errors)}}}if(!k){var I=f.hasError("REMOTE_NOT_VALID",[w.ref]),Q=r.isAbsoluteUri(w.ref),N=!1,j=this.options.ignoreUnresolvableReferences===!0;Q&&(N=n.checkCacheForUri.call(this,w.ref)),I||j&&Q||N||(Array.prototype.push.apply(f.path,w.path),f.addError("UNRESOLVABLE_REFERENCE",[w.ref]),f.path=f.path.slice(0,-w.path.length),O&&(h.__$missingReferences=h.__$missingReferences||[],h.__$missingReferences.push(w)))}w.obj["__"+w.key+"Resolved"]=k}var q=f.isValid();return q?h.__$compiled=!0:h.id&&typeof h.id=="string"&&n.removeFromCacheByUri.call(this,h.id),m&&(f.rootSchema=void 0),q}})(Mx)),Mx}var Ix={},KQ;function Sz(){return KQ||(KQ=1,(function(t){var e=oC(),n=_z(),r=aO(),i=qd(),s={$ref:function(o,u){typeof u.$ref!="string"&&o.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(o,u){typeof u.$schema!="string"&&o.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(o,u){typeof u.multipleOf!="number"?o.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):u.multipleOf<=0&&o.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(o,u){typeof u.maximum!="number"&&o.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(o,u){typeof u.exclusiveMaximum!="boolean"?o.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):u.maximum===void 0&&o.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(o,u){typeof u.minimum!="number"&&o.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(o,u){typeof u.exclusiveMinimum!="boolean"?o.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):u.minimum===void 0&&o.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(o,u){i.whatIs(u.maxLength)!=="integer"?o.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):u.maxLength<0&&o.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(o,u){i.whatIs(u.minLength)!=="integer"?o.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):u.minLength<0&&o.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(o,u){if(typeof u.pattern!="string")o.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(u.pattern)}catch{o.addError("KEYWORD_PATTERN",["pattern",u.pattern])}},additionalItems:function(o,u){var f=i.whatIs(u.additionalItems);f!=="boolean"&&f!=="object"?o.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):f==="object"&&(o.path.push("additionalItems"),t.validateSchema.call(this,o,u.additionalItems),o.path.pop())},items:function(o,u){var f=i.whatIs(u.items);if(f==="object")o.path.push("items"),t.validateSchema.call(this,o,u.items),o.path.pop();else if(f==="array")for(var h=u.items.length;h--;)o.path.push("items"),o.path.push(h.toString()),t.validateSchema.call(this,o,u.items[h]),o.path.pop(),o.path.pop();else o.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);this.options.forceAdditional===!0&&u.additionalItems===void 0&&Array.isArray(u.items)&&o.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&u.additionalItems===void 0&&Array.isArray(u.items)&&(u.additionalItems=!1)},maxItems:function(o,u){typeof u.maxItems!="number"?o.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):u.maxItems<0&&o.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(o,u){i.whatIs(u.minItems)!=="integer"?o.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):u.minItems<0&&o.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(o,u){typeof u.uniqueItems!="boolean"&&o.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(o,u){i.whatIs(u.maxProperties)!=="integer"?o.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):u.maxProperties<0&&o.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(o,u){i.whatIs(u.minProperties)!=="integer"?o.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):u.minProperties<0&&o.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(o,u){if(i.whatIs(u.required)!=="array")o.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(u.required.length===0)o.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var f=u.required.length;f--;)typeof u.required[f]!="string"&&o.addError("KEYWORD_VALUE_TYPE",["required","string"]);i.isUniqueArray(u.required)===!1&&o.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(o,u){var f=i.whatIs(u.additionalProperties);f!=="boolean"&&f!=="object"?o.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):f==="object"&&(o.path.push("additionalProperties"),t.validateSchema.call(this,o,u.additionalProperties),o.path.pop())},properties:function(o,u){if(i.whatIs(u.properties)!=="object"){o.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);return}for(var f=Object.keys(u.properties),h=f.length;h--;){var d=f[h],m=u.properties[d];o.path.push("properties"),o.path.push(d),t.validateSchema.call(this,o,m),o.path.pop(),o.path.pop()}this.options.forceAdditional===!0&&u.additionalProperties===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&u.additionalProperties===void 0&&(u.additionalProperties=!1),this.options.forceProperties===!0&&f.length===0&&o.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(o,u){if(i.whatIs(u.patternProperties)!=="object"){o.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);return}for(var f=Object.keys(u.patternProperties),h=f.length;h--;){var d=f[h],m=u.patternProperties[d];try{RegExp(d)}catch{o.addError("KEYWORD_PATTERN",["patternProperties",d])}o.path.push("patternProperties"),o.path.push(d.toString()),t.validateSchema.call(this,o,m),o.path.pop(),o.path.pop()}this.options.forceProperties===!0&&f.length===0&&o.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(o,u){if(i.whatIs(u.dependencies)!=="object")o.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var f=Object.keys(u.dependencies),h=f.length;h--;){var d=f[h],m=u.dependencies[d],O=i.whatIs(m);if(O==="object")o.path.push("dependencies"),o.path.push(d),t.validateSchema.call(this,o,m),o.path.pop(),o.path.pop();else if(O==="array"){var y=m.length;for(y===0&&o.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);y--;)typeof m[y]!="string"&&o.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);i.isUniqueArray(m)===!1&&o.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else o.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},enum:function(o,u){Array.isArray(u.enum)===!1?o.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):u.enum.length===0?o.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):i.isUniqueArray(u.enum)===!1&&o.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(o,u){var f=["array","boolean","integer","number","null","object","string"],h=f.join(","),d=Array.isArray(u.type);if(d){for(var m=u.type.length;m--;)f.indexOf(u.type[m])===-1&&o.addError("KEYWORD_TYPE_EXPECTED",["type",h]);i.isUniqueArray(u.type)===!1&&o.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else typeof u.type=="string"?f.indexOf(u.type)===-1&&o.addError("KEYWORD_TYPE_EXPECTED",["type",h]):o.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);this.options.noEmptyStrings===!0&&(u.type==="string"||d&&u.type.indexOf("string")!==-1)&&u.minLength===void 0&&u.enum===void 0&&u.format===void 0&&(u.minLength=1),this.options.noEmptyArrays===!0&&(u.type==="array"||d&&u.type.indexOf("array")!==-1)&&u.minItems===void 0&&(u.minItems=1),this.options.forceProperties===!0&&(u.type==="object"||d&&u.type.indexOf("object")!==-1)&&u.properties===void 0&&u.patternProperties===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),this.options.forceItems===!0&&(u.type==="array"||d&&u.type.indexOf("array")!==-1)&&u.items===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["items"]),this.options.forceMinItems===!0&&(u.type==="array"||d&&u.type.indexOf("array")!==-1)&&u.minItems===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),this.options.forceMaxItems===!0&&(u.type==="array"||d&&u.type.indexOf("array")!==-1)&&u.maxItems===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),this.options.forceMinLength===!0&&(u.type==="string"||d&&u.type.indexOf("string")!==-1)&&u.minLength===void 0&&u.format===void 0&&u.enum===void 0&&u.pattern===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),this.options.forceMaxLength===!0&&(u.type==="string"||d&&u.type.indexOf("string")!==-1)&&u.maxLength===void 0&&u.format===void 0&&u.enum===void 0&&u.pattern===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(o,u){if(Array.isArray(u.allOf)===!1)o.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(u.allOf.length===0)o.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var f=u.allOf.length;f--;)o.path.push("allOf"),o.path.push(f.toString()),t.validateSchema.call(this,o,u.allOf[f]),o.path.pop(),o.path.pop()},anyOf:function(o,u){if(Array.isArray(u.anyOf)===!1)o.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(u.anyOf.length===0)o.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var f=u.anyOf.length;f--;)o.path.push("anyOf"),o.path.push(f.toString()),t.validateSchema.call(this,o,u.anyOf[f]),o.path.pop(),o.path.pop()},oneOf:function(o,u){if(Array.isArray(u.oneOf)===!1)o.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(u.oneOf.length===0)o.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var f=u.oneOf.length;f--;)o.path.push("oneOf"),o.path.push(f.toString()),t.validateSchema.call(this,o,u.oneOf[f]),o.path.pop(),o.path.pop()},not:function(o,u){i.whatIs(u.not)!=="object"?o.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(o.path.push("not"),t.validateSchema.call(this,o,u.not),o.path.pop())},definitions:function(o,u){if(i.whatIs(u.definitions)!=="object")o.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var f=Object.keys(u.definitions),h=f.length;h--;){var d=f[h],m=u.definitions[d];o.path.push("definitions"),o.path.push(d),t.validateSchema.call(this,o,m),o.path.pop(),o.path.pop()}},format:function(o,u){typeof u.format!="string"?o.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):e[u.format]===void 0&&this.options.ignoreUnknownFormats!==!0&&o.addError("UNKNOWN_FORMAT",[u.format])},id:function(o,u){typeof u.id!="string"&&o.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(o,u){typeof u.title!="string"&&o.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(o,u){typeof u.description!="string"&&o.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},default:function(){}},a=function(o,u){for(var f=u.length;f--;)t.validateSchema.call(this,o,u[f]);return o.isValid()};t.validateSchema=function(o,u){if(o.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(u))return a.call(this,o,u);if(u.__$validated)return!0;var f=u.$schema&&u.id!==u.$schema;if(f)if(u.__$schemaResolved&&u.__$schemaResolved!==u){var h=new r(o),d=n.validate.call(this,h,u.__$schemaResolved,u);d===!1&&o.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,h)}else this.options.ignoreUnresolvableReferences!==!0&&o.addError("REF_UNRESOLVED",[u.$schema]);if(this.options.noTypeless===!0){if(u.type!==void 0){var m=[];Array.isArray(u.anyOf)&&(m=m.concat(u.anyOf)),Array.isArray(u.oneOf)&&(m=m.concat(u.oneOf)),Array.isArray(u.allOf)&&(m=m.concat(u.allOf)),m.forEach(function(T){T.type||(T.type=u.type)})}u.enum===void 0&&u.type===void 0&&u.anyOf===void 0&&u.oneOf===void 0&&u.not===void 0&&u.$ref===void 0&&o.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var O=Object.keys(u),y=O.length;y--;){var v=O[y];v.indexOf("__")!==0&&(s[v]!==void 0?s[v].call(this,o,u):f||this.options.noExtraKeywords===!0&&o.addError("KEYWORD_UNEXPECTED",[v]))}if(this.options.pedanticCheck===!0){if(u.enum){var w=i.clone(u);for(delete w.enum,delete w.default,o.path.push("enum"),y=u.enum.length;y--;)o.path.push(y.toString()),n.validate.call(this,o,w,u.enum[y]),o.path.pop();o.path.pop()}u.default&&(o.path.push("default"),n.validate.call(this,o,u,u.default),o.path.pop())}var k=o.isValid();return k&&(u.__$validated=!0),k}})(Ix)),Ix}var HQ;function xz(){return HQ||(HQ=1,(function(t){var e=Cte(),n=aO(),r=wz(),i=Sz(),s=qd();function a(h){return decodeURIComponent(h).replace(/~[0-1]/g,function(d){return d==="~1"?"/":"~"})}function o(h){var d=h.indexOf("#");return d===-1?h:h.slice(0,d)}function u(h){var d=h.indexOf("#"),m=d===-1?void 0:h.slice(d+1);return m}function f(h,d){if(!(typeof h!="object"||h===null)){if(!d||h.id&&(h.id===d||h.id[0]==="#"&&h.id.substring(1)===d))return h;var m,O;if(Array.isArray(h)){for(m=h.length;m--;)if(O=f(h[m],d),O)return O}else{var y=Object.keys(h);for(m=y.length;m--;){var v=y[m];if(v.indexOf("__$")!==0&&(O=f(h[v],d),O))return O}}}}t.cacheSchemaByUri=function(h,d){var m=o(h);m&&(this.cache[m]=d)},t.removeFromCacheByUri=function(h){var d=o(h);d&&delete this.cache[d]},t.checkCacheForUri=function(h){var d=o(h);return d?this.cache[d]!=null:!1},t.getSchema=function(h,d){return typeof d=="object"&&(d=t.getSchemaByReference.call(this,h,d)),typeof d=="string"&&(d=t.getSchemaByUri.call(this,h,d)),d},t.getSchemaByReference=function(h,d){for(var m=this.referenceCache.length;m--;)if(e(this.referenceCache[m][0],d))return this.referenceCache[m][1];var O=s.cloneDeep(d);return this.referenceCache.push([d,O]),O},t.getSchemaByUri=function(h,d,m){var O=o(d),y=u(d),v=O?this.cache[O]:m;if(v&&O){var w=v!==m;if(w){h.path.push(O);var k,T=h.getAncestor(v.id);if(T)k=T;else if(k=new n(h),r.compileSchema.call(this,k,v)){var A=this.options;try{this.options=v.__$validationOptions||this.options,i.validateSchema.call(this,k,v)}finally{this.options=A}}var C=k.isValid();if(C||h.addError("REMOTE_NOT_VALID",[d],k),h.path.pop(),!C)return}}if(v&&y)for(var I=y.split("/"),Q=0,N=I.length;v&&Q<N;Q++){var j=a(I[Q]);Q===0?v=f(v,j):v=v[j]}return v},t.getRemotePath=o})($x)),$x}const Pte="http://json-schema.org/draft-04/schema#",Rte="http://json-schema.org/draft-04/schema#",$te="Core schema meta-schema",Mte={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},Ite="object",Dte={id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Qte={exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},Nte={id:Pte,$schema:Rte,description:$te,definitions:Mte,type:Ite,properties:Dte,dependencies:Qte,default:{}},Lte="http://json-schema.org/draft-04/hyper-schema#",jte="http://json-schema.org/draft-04/hyper-schema#",Bte="JSON Hyper-Schema",zte=[{$ref:"http://json-schema.org/draft-04/schema#"}],Zte={additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},Ute={schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string",default:"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}},qte={$schema:Lte,id:jte,title:Bte,allOf:zte,properties:Zte,definitions:Ute};var Dx,JQ;function Vte(){if(JQ)return Dx;JQ=1,GJ();var t=ez(),e=aO(),n=oC(),r=_z(),i=xz(),s=wz(),a=Sz(),o=qd(),u=Nte,f=qte,h={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,enumCaseInsensitiveComparison:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!1,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};function d(O){var y;if(typeof O=="object"){for(var v=Object.keys(O),w=v.length,k;w--;)if(k=v[w],h[k]===void 0)throw new Error("Unexpected option passed to constructor: "+k);for(v=Object.keys(h),w=v.length;w--;)k=v[w],O[k]===void 0&&(O[k]=o.clone(h[k]));y=O}else y=o.clone(h);return y.strictMode===!0&&(y.forceAdditional=!0,y.forceItems=!0,y.forceMaxLength=!0,y.forceProperties=!0,y.noExtraKeywords=!0,y.noTypeless=!0,y.noEmptyStrings=!0,y.noEmptyArrays=!0),y}function m(O){this.cache={},this.referenceCache=[],this.validateOptions={},this.options=d(O);var y=d({});this.setRemoteReference("http://json-schema.org/draft-04/schema",u,y),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",f,y)}return m.prototype.compileSchema=function(O){var y=new e(this.options);return O=i.getSchema.call(this,y,O),s.compileSchema.call(this,y,O),this.lastReport=y,y.isValid()},m.prototype.validateSchema=function(O){if(Array.isArray(O)&&O.length===0)throw new Error(".validateSchema was called with an empty array");var y=new e(this.options);O=i.getSchema.call(this,y,O);var v=s.compileSchema.call(this,y,O);return v&&a.validateSchema.call(this,y,O),this.lastReport=y,y.isValid()},m.prototype.validate=function(O,y,v,w){o.whatIs(v)==="function"&&(w=v,v={}),v||(v={}),this.validateOptions=v;var k=o.whatIs(y);if(k!=="string"&&k!=="object"){var T=new Error("Invalid .validate call - schema must be a string or object but "+k+" was passed!");if(w){process.nextTick(function(){w(T,!1)});return}throw T}var A=!1,C=new e(this.options);if(C.json=O,typeof y=="string"){var I=y;if(y=i.getSchema.call(this,C,I),!y)throw new Error("Schema with id '"+I+"' wasn't found in the validator cache!")}else y=i.getSchema.call(this,C,y);var Q=!1;A||(Q=s.compileSchema.call(this,C,y)),Q||(this.lastReport=C,A=!0);var N=!1;if(A||(N=a.validateSchema.call(this,C,y)),N||(this.lastReport=C,A=!0),v.schemaPath&&(C.rootSchema=y,y=t(y,v.schemaPath),!y))throw new Error("Schema path '"+v.schemaPath+"' wasn't found in the schema!");if(A||r.validate.call(this,C,y,O),w){C.processAsyncTasks(this.options.asyncTimeout,w);return}else if(C.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=C,C.isValid()},m.prototype.getLastError=function(){if(this.lastReport.errors.length===0)return null;var O=new Error;return O.name="z-schema validation error",O.message=this.lastReport.commonErrorMessage,O.details=this.lastReport.errors,O},m.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:null},m.prototype.getMissingReferences=function(O){O=O||this.lastReport.errors;for(var y=[],v=O.length;v--;){var w=O[v];if(w.code==="UNRESOLVABLE_REFERENCE"){var k=w.params[0];y.indexOf(k)===-1&&y.push(k)}w.inner&&(y=y.concat(this.getMissingReferences(w.inner)))}return y},m.prototype.getMissingRemoteReferences=function(){for(var O=this.getMissingReferences(),y=[],v=O.length;v--;){var w=i.getRemotePath(O[v]);w&&y.indexOf(w)===-1&&y.push(w)}return y},m.prototype.setRemoteReference=function(O,y,v){typeof y=="string"?y=JSON.parse(y):y=o.cloneDeep(y),v&&(y.__$validationOptions=d(v)),i.cacheSchemaByUri.call(this,O,y)},m.prototype.getResolvedSchema=function(O){var y=new e(this.options);O=i.getSchema.call(this,y,O),O=o.cloneDeep(O);var v=[],w=function(k){var T,A=o.whatIs(k);if(!(A!=="object"&&A!=="array")&&!k.___$visited){if(k.___$visited=!0,v.push(k),k.$ref&&k.__$refResolved){var C=k.__$refResolved,I=k;delete k.$ref,delete k.__$refResolved;for(T in C)C.hasOwnProperty(T)&&(I[T]=C[T])}for(T in k)k.hasOwnProperty(T)&&(T.indexOf("__$")===0?delete k[T]:w(k[T]))}};if(w(O),v.forEach(function(k){delete k.___$visited}),this.lastReport=y,y.isValid())return O;throw this.getLastError()},m.prototype.setSchemaReader=function(O){return m.setSchemaReader(O)},m.prototype.getSchemaReader=function(){return m.schemaReader},m.schemaReader=void 0,m.setSchemaReader=function(O){m.schemaReader=O},m.registerFormat=function(O,y){n[O]=y},m.unregisterFormat=function(O){delete n[O]},m.getRegisteredFormats=function(){return Object.keys(n)},m.getDefaultOptions=function(){return o.cloneDeep(h)},m.schemaSymbol=o.schemaSymbol,m.jsonSymbol=o.jsonSymbol,Dx=m,Dx}var Xte=Vte();const Fte=Ow(Xte);var Qx;function eN(){return Qx||(Qx=new Fte({strictMode:!1})),Qx}function Yte(t){var e=n=>(eN().validate(n,t),eN());return n=>{var r=e(n);if(r!==!0){var i=r.getLastErrors();if(i){var s=i.map(({title:a,description:o,message:u,path:f})=>({title:a,description:o,message:u,path:f}));return s}else return[]}}}var Wte=vJ(Yte,"z-schema");function Me(t,e,n){function r(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,u);const f=a.prototype,h=Object.keys(f);for(let d=0;d<h.length;d++){const m=h[d];m in o||(o[m]=f[m].bind(o))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var u;const f=n?.Parent?new s:this;r(f,o),(u=f._zod).deferred??(u.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>n?.Parent&&o instanceof n.Parent?!0:o?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class ed extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class kz extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Tz={};function Vu(t){return Tz}function Ez(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function LT(t,e){return typeof e=="bigint"?e.toString():e}function lC(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function uC(t){return t==null}function cC(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Gte(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}const s=n>i?n:i,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}const tN=Symbol("evaluating");function On(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==tN)return r===void 0&&(r=tN,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function vf(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ic(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function nN(t){return JSON.stringify(t)}function Kte(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Az="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function g_(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Hte=lC(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function wd(t){if(g_(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(g_(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Cz(t){return wd(t)?{...t}:Array.isArray(t)?[...t]:t}const Jte=new Set(["string","number","symbol"]);function Pw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sc(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function bt(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function ene(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const tne={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function nne(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=ic(t._zod.def,{get shape(){const a={};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&(a[o]=n.shape[o])}return vf(this,"shape",a),a},checks:[]});return sc(t,s)}function rne(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=ic(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const o in e){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);e[o]&&delete a[o]}return vf(this,"shape",a),a},checks:[]});return sc(t,s)}function ine(t,e){if(!wd(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const s=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=ic(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return vf(this,"shape",s),s}});return sc(t,i)}function sne(t,e){if(!wd(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ic(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return vf(this,"shape",r),r}});return sc(t,n)}function ane(t,e){const n=ic(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return vf(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return sc(t,n)}function one(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=ic(e._zod.def,{get shape(){const o=e._zod.def.shape,u={...o};if(n)for(const f in n){if(!(f in o))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=t?new t({type:"optional",innerType:o[f]}):o[f])}else for(const f in o)u[f]=t?new t({type:"optional",innerType:o[f]}):o[f];return vf(this,"shape",u),u},checks:[]});return sc(e,a)}function lne(t,e,n){const r=ic(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new t({type:"nonoptional",innerType:i[a]});return vf(this,"shape",s),s}});return sc(e,r)}function Dh(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Qh(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function R0(t){return typeof t=="string"?t:t?.message}function Xu(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=R0(t.inst?._zod.def?.error?.(t))??R0(e?.error?.(t))??R0(n.customError?.(t))??R0(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function fC(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ug(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Pz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,LT,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Rz=Me("$ZodError",Pz),$z=Me("$ZodError",Pz,{Parent:Error});function une(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function cne(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let a=n,o=0;for(;o<s.path.length;){const u=s.path[o];o===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(s))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return r(t),n}const hC=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new ed;if(a.issues.length){const o=new(i?.Err??t)(a.issues.map(u=>Xu(u,s,Vu())));throw Az(o,i?.callee),o}return a.value},dC=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new(i?.Err??t)(a.issues.map(u=>Xu(u,s,Vu())));throw Az(o,i?.callee),o}return a.value},Rw=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new ed;return s.issues.length?{success:!1,error:new(t??Rz)(s.issues.map(a=>Xu(a,i,Vu())))}:{success:!0,data:s.value}},fne=Rw($z),$w=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(a=>Xu(a,i,Vu())))}:{success:!0,data:s.value}},hne=$w($z),dne=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hC(t)(e,n,i)},pne=t=>(e,n,r)=>hC(t)(e,n,r),mne=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dC(t)(e,n,i)},gne=t=>async(e,n,r)=>dC(t)(e,n,r),One=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rw(t)(e,n,i)},yne=t=>(e,n,r)=>Rw(t)(e,n,r),vne=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $w(t)(e,n,i)},bne=t=>async(e,n,r)=>$w(t)(e,n,r),_ne=/^[cC][^\s-]{8,}$/,wne=/^[0-9a-z]+$/,Sne=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xne=/^[0-9a-vA-V]{20}$/,kne=/^[A-Za-z0-9]{27}$/,Tne=/^[a-zA-Z0-9_-]{21}$/,Ene=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ane=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,rN=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Cne=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Pne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Rne(){return new RegExp(Pne,"u")}const $ne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mne=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Ine=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Dne=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qne=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Mz=/^[A-Za-z0-9_-]*$/,Nne=/^\+[1-9]\d{6,14}$/,Iz="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Lne=new RegExp(`^${Iz}$`);function Dz(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jne(t){return new RegExp(`^${Dz(t)}$`)}function Bne(t){const e=Dz({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Iz}T(?:${r})$`)}const zne=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Zne=/^-?\d+$/,Qz=/^-?\d+(?:\.\d+)?$/,Une=/^(?:true|false)$/i,qne=/^[^A-Z]*$/,Vne=/^[^a-z]*$/,ks=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Nz={number:"number",bigint:"bigint",object:"date"},Lz=Me("$ZodCheckLessThan",(t,e)=>{ks.init(t,e);const n=Nz[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),jz=Me("$ZodCheckGreaterThan",(t,e)=>{ks.init(t,e);const n=Nz[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Xne=Me("$ZodCheckMultipleOf",(t,e)=>{ks.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Gte(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Fne=Me("$ZodCheckNumberFormat",(t,e)=>{ks.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=tne[e.format];t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,o.minimum=i,o.maximum=s,n&&(o.pattern=Zne)}),t._zod.check=a=>{const o=a.value;if(n){if(!Number.isInteger(o)){a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:o,inst:t});return}if(!Number.isSafeInteger(o)){o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}o<i&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),o>s&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inclusive:!0,inst:t,continue:!e.abort})}}),Yne=Me("$ZodCheckMaxLength",(t,e)=>{var n;ks.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uC(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const a=fC(i);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Wne=Me("$ZodCheckMinLength",(t,e)=>{var n;ks.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uC(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const a=fC(i);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Gne=Me("$ZodCheckLengthEquals",(t,e)=>{var n;ks.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uC(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const a=fC(i),o=s>e.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Mw=Me("$ZodCheckStringFormat",(t,e)=>{var n,r;ks.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Kne=Me("$ZodCheckRegex",(t,e)=>{Mw.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Hne=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=qne),Mw.init(t,e)}),Jne=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Vne),Mw.init(t,e)}),ere=Me("$ZodCheckIncludes",(t,e)=>{ks.init(t,e);const n=Pw(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),tre=Me("$ZodCheckStartsWith",(t,e)=>{ks.init(t,e);const n=new RegExp(`^${Pw(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),nre=Me("$ZodCheckEndsWith",(t,e)=>{ks.init(t,e);const n=new RegExp(`.*${Pw(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),rre=Me("$ZodCheckOverwrite",(t,e)=>{ks.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class ire{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),i=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const sre={major:4,minor:3,patch:6},dr=Me("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=sre;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(a,o,u)=>{let f=Dh(a),h;for(const d of o){if(d._zod.def.when){if(!d._zod.def.when(a))continue}else if(f)continue;const m=a.issues.length,O=d._zod.check(a);if(O instanceof Promise&&u?.async===!1)throw new ed;if(h||O instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await O,a.issues.length!==m&&(f||(f=Dh(a,m)))});else{if(a.issues.length===m)continue;f||(f=Dh(a,m))}}return h?h.then(()=>a):a},s=(a,o,u)=>{if(Dh(a))return a.aborted=!0,a;const f=i(o,r,u);if(f instanceof Promise){if(u.async===!1)throw new ed;return f.then(h=>t._zod.parse(h,u))}return t._zod.parse(f,u)};t._zod.run=(a,o)=>{if(o.skipChecks)return t._zod.parse(a,o);if(o.direction==="backward"){const f=t._zod.parse({value:a.value,issues:[]},{...o,skipChecks:!0});return f instanceof Promise?f.then(h=>s(h,a,o)):s(f,a,o)}const u=t._zod.parse(a,o);if(u instanceof Promise){if(o.async===!1)throw new ed;return u.then(f=>i(f,r,o))}return i(u,r,o)}}On(t,"~standard",()=>({validate:i=>{try{const s=fne(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return hne(t,i).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),pC=Me("$ZodString",(t,e)=>{dr.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??zne(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Wn=Me("$ZodStringFormat",(t,e)=>{Mw.init(t,e),pC.init(t,e)}),are=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Ane),Wn.init(t,e)}),ore=Me("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=rN(r))}else e.pattern??(e.pattern=rN());Wn.init(t,e)}),lre=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Cne),Wn.init(t,e)}),ure=Me("$ZodURL",(t,e)=>{Wn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),cre=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Rne()),Wn.init(t,e)}),fre=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Tne),Wn.init(t,e)}),hre=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=_ne),Wn.init(t,e)}),dre=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=wne),Wn.init(t,e)}),pre=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Sne),Wn.init(t,e)}),mre=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=xne),Wn.init(t,e)}),gre=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=kne),Wn.init(t,e)}),Ore=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Bne(e)),Wn.init(t,e)}),yre=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Lne),Wn.init(t,e)}),vre=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=jne(e)),Wn.init(t,e)}),bre=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Ene),Wn.init(t,e)}),_re=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=$ne),Wn.init(t,e),t._zod.bag.format="ipv4"}),wre=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Mne),Wn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Sre=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Ine),Wn.init(t,e)}),xre=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Dne),Wn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Bz(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const kre=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Qne),Wn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Bz(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Tre(t){if(!Mz.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Bz(n)}const Ere=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Mz),Wn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Tre(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Are=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Nne),Wn.init(t,e)});function Cre(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Pre=Me("$ZodJWT",(t,e)=>{Wn.init(t,e),t._zod.check=n=>{Cre(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),zz=Me("$ZodNumber",(t,e)=>{dr.init(t,e),t._zod.pattern=t._zod.bag.pattern??Qz,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),Rre=Me("$ZodNumberFormat",(t,e)=>{Fne.init(t,e),zz.init(t,e)}),$re=Me("$ZodBoolean",(t,e)=>{dr.init(t,e),t._zod.pattern=Une,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),Mre=Me("$ZodUnknown",(t,e)=>{dr.init(t,e),t._zod.parse=n=>n}),Ire=Me("$ZodNever",(t,e)=>{dr.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function iN(t,e,n){t.issues.length&&e.issues.push(...Qh(n,t.issues)),e.value[n]=t.value}const Dre=Me("$ZodArray",(t,e)=>{dr.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],u=e.element._zod.run({value:o,issues:[]},r);u instanceof Promise?s.push(u.then(f=>iN(f,n,a))):iN(u,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function O_(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...Qh(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function Zz(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=ene(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Uz(t,e,n,r,i,s){const a=[],o=i.keySet,u=i.catchall._zod,f=u.def.type,h=u.optout==="optional";for(const d in e){if(o.has(d))continue;if(f==="never"){a.push(d);continue}const m=u.run({value:e[d],issues:[]},r);m instanceof Promise?t.push(m.then(O=>O_(O,n,d,e,h))):O_(m,n,d,e,h)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const Qre=Me("$ZodObject",(t,e)=>{if(dr.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...o};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=lC(()=>Zz(e));On(t._zod,"propValues",()=>{const o=e.shape,u={};for(const f in o){const h=o[f]._zod;if(h.values){u[f]??(u[f]=new Set);for(const d of h.values)u[f].add(d)}}return u});const i=g_,s=e.catchall;let a;t._zod.parse=(o,u)=>{a??(a=r.value);const f=o.value;if(!i(f))return o.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),o;o.value={};const h=[],d=a.shape;for(const m of a.keys){const O=d[m],y=O._zod.optout==="optional",v=O._zod.run({value:f[m],issues:[]},u);v instanceof Promise?h.push(v.then(w=>O_(w,o,m,f,y))):O_(v,o,m,f,y)}return s?Uz(h,f,o,u,r.value,t):h.length?Promise.all(h).then(()=>o):o}}),Nre=Me("$ZodObjectJIT",(t,e)=>{Qre.init(t,e);const n=t._zod.parse,r=lC(()=>Zz(e)),i=m=>{const O=new ire(["shape","payload","ctx"]),y=r.value,v=A=>{const C=nN(A);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};O.write("const input = payload.value;");const w=Object.create(null);let k=0;for(const A of y.keys)w[A]=`key_${k++}`;O.write("const newResult = {};");for(const A of y.keys){const C=w[A],I=nN(A),N=m[A]?._zod?.optout==="optional";O.write(`const ${C} = ${v(A)};`),N?O.write(`
        if (${C}.issues.length) {
          if (${I} in input) {
            payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${I}, ...iss.path] : [${I}]
            })));
          }
        }
        
        if (${C}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${C}.value;
        }
        
      `):O.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        if (${C}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${C}.value;
        }
        
      `)}O.write("payload.value = newResult;"),O.write("return payload;");const T=O.compile();return(A,C)=>T(m,A,C)};let s;const a=g_,o=!Tz.jitless,f=o&&Hte.value,h=e.catchall;let d;t._zod.parse=(m,O)=>{d??(d=r.value);const y=m.value;return a(y)?o&&f&&O?.async===!1&&O.jitless!==!0?(s||(s=i(e.shape)),m=s(m,O),h?Uz([],y,m,O,d,t):m):n(m,O):(m.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),m)}});function sN(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Dh(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(a=>Xu(a,r,Vu())))}),e)}const Lre=Me("$ZodUnion",(t,e)=>{dr.init(t,e),On(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),On(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),On(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),On(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>cC(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const u of e.options){const f=u._zod.run({value:i.value,issues:[]},s);if(f instanceof Promise)o.push(f),a=!0;else{if(f.issues.length===0)return f;o.push(f)}}return a?Promise.all(o).then(u=>sN(u,i,t,s)):sN(o,i,t,s)}}),jre=Me("$ZodIntersection",(t,e)=>{dr.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),a=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([u,f])=>aN(n,u,f)):aN(n,s,a)}});function jT(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(wd(t)&&wd(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const a=jT(t[s],e[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],a=jT(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function aN(t,e,n){const r=new Map;let i;for(const o of e.issues)if(o.code==="unrecognized_keys"){i??(i=o);for(const u of o.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else t.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else t.issues.push(o);const s=[...r].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(s.length&&i&&t.issues.push({...i,keys:s}),Dh(t))return t;const a=jT(e.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const Bre=Me("$ZodRecord",(t,e)=>{dr.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!wd(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[],a=e.keyType._zod.values;if(a){n.value={};const o=new Set;for(const f of a)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){o.add(typeof f=="number"?f.toString():f);const h=e.valueType._zod.run({value:i[f],issues:[]},r);h instanceof Promise?s.push(h.then(d=>{d.issues.length&&n.issues.push(...Qh(f,d.issues)),n.value[f]=d.value})):(h.issues.length&&n.issues.push(...Qh(f,h.issues)),n.value[f]=h.value)}let u;for(const f in i)o.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:u})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;let u=e.keyType._zod.run({value:o,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&Qz.test(o)&&u.issues.length){const d=e.keyType._zod.run({value:Number(o),issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(u=d)}if(u.issues.length){e.mode==="loose"?n.value[o]=i[o]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>Xu(d,r,Vu())),input:o,path:[o],inst:t});continue}const h=e.valueType._zod.run({value:i[o],issues:[]},r);h instanceof Promise?s.push(h.then(d=>{d.issues.length&&n.issues.push(...Qh(o,d.issues)),n.value[u.value]=d.value})):(h.issues.length&&n.issues.push(...Qh(o,h.issues)),n.value[u.value]=h.value)}}return s.length?Promise.all(s).then(()=>n):n}}),zre=Me("$ZodEnum",(t,e)=>{dr.init(t,e);const n=Ez(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>Jte.has(typeof i)).map(i=>typeof i=="string"?Pw(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:t}),i}}),Zre=Me("$ZodTransform",(t,e)=>{dr.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new kz(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(n.value=a,n));if(i instanceof Promise)throw new ed;return n.value=i,n}});function oN(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const qz=Me("$ZodOptional",(t,e)=>{dr.init(t,e),t._zod.optin="optional",t._zod.optout="optional",On(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),On(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${cC(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>oN(s,n.value)):oN(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),Ure=Me("$ZodExactOptional",(t,e)=>{qz.init(t,e),On(t._zod,"values",()=>e.innerType._zod.values),On(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),qre=Me("$ZodNullable",(t,e)=>{dr.init(t,e),On(t._zod,"optin",()=>e.innerType._zod.optin),On(t._zod,"optout",()=>e.innerType._zod.optout),On(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${cC(n.source)}|null)$`):void 0}),On(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),Vre=Me("$ZodDefault",(t,e)=>{dr.init(t,e),t._zod.optin="optional",On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>lN(s,e)):lN(i,e)}});function lN(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Xre=Me("$ZodPrefault",(t,e)=>{dr.init(t,e),t._zod.optin="optional",On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),Fre=Me("$ZodNonOptional",(t,e)=>{dr.init(t,e),On(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>uN(s,t)):uN(i,t)}});function uN(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Yre=Me("$ZodCatch",(t,e)=>{dr.init(t,e),On(t._zod,"optin",()=>e.innerType._zod.optin),On(t._zod,"optout",()=>e.innerType._zod.optout),On(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>Xu(a,r,Vu()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>Xu(s,r,Vu()))},input:n.value}),n.issues=[]),n)}}),Wre=Me("$ZodPipe",(t,e)=>{dr.init(t,e),On(t._zod,"values",()=>e.in._zod.values),On(t._zod,"optin",()=>e.in._zod.optin),On(t._zod,"optout",()=>e.out._zod.optout),On(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(a=>$0(a,e.in,r)):$0(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>$0(s,e.out,r)):$0(i,e.out,r)}});function $0(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const Gre=Me("$ZodReadonly",(t,e)=>{dr.init(t,e),On(t._zod,"propValues",()=>e.innerType._zod.propValues),On(t._zod,"values",()=>e.innerType._zod.values),On(t._zod,"optin",()=>e.innerType?._zod?.optin),On(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(cN):cN(i)}});function cN(t){return t.value=Object.freeze(t.value),t}const Kre=Me("$ZodCustom",(t,e)=>{ks.init(t,e),dr.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>fN(s,n,r,t));fN(i,n,r,t)}});function fN(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(ug(i))}}var hN;class Hre{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Jre(){return new Hre}(hN=globalThis).__zod_globalRegistry??(hN.__zod_globalRegistry=Jre());const ym=globalThis.__zod_globalRegistry;function eie(t,e){return new t({type:"string",...bt(e)})}function tie(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...bt(e)})}function dN(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...bt(e)})}function nie(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...bt(e)})}function rie(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...bt(e)})}function iie(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...bt(e)})}function sie(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...bt(e)})}function aie(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...bt(e)})}function oie(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...bt(e)})}function lie(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...bt(e)})}function uie(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...bt(e)})}function cie(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...bt(e)})}function fie(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...bt(e)})}function hie(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...bt(e)})}function die(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...bt(e)})}function pie(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...bt(e)})}function mie(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...bt(e)})}function gie(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...bt(e)})}function Oie(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...bt(e)})}function yie(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...bt(e)})}function vie(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...bt(e)})}function bie(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...bt(e)})}function _ie(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...bt(e)})}function wie(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...bt(e)})}function Sie(t,e){return new t({type:"string",format:"date",check:"string_format",...bt(e)})}function xie(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...bt(e)})}function kie(t,e){return new t({type:"string",format:"duration",check:"string_format",...bt(e)})}function Tie(t,e){return new t({type:"number",checks:[],...bt(e)})}function Eie(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...bt(e)})}function Aie(t,e){return new t({type:"boolean",...bt(e)})}function Cie(t){return new t({type:"unknown"})}function Pie(t,e){return new t({type:"never",...bt(e)})}function pN(t,e){return new Lz({check:"less_than",...bt(e),value:t,inclusive:!1})}function Nx(t,e){return new Lz({check:"less_than",...bt(e),value:t,inclusive:!0})}function mN(t,e){return new jz({check:"greater_than",...bt(e),value:t,inclusive:!1})}function Lx(t,e){return new jz({check:"greater_than",...bt(e),value:t,inclusive:!0})}function gN(t,e){return new Xne({check:"multiple_of",...bt(e),value:t})}function Vz(t,e){return new Yne({check:"max_length",...bt(e),maximum:t})}function y_(t,e){return new Wne({check:"min_length",...bt(e),minimum:t})}function Xz(t,e){return new Gne({check:"length_equals",...bt(e),length:t})}function Rie(t,e){return new Kne({check:"string_format",format:"regex",...bt(e),pattern:t})}function $ie(t){return new Hne({check:"string_format",format:"lowercase",...bt(t)})}function Mie(t){return new Jne({check:"string_format",format:"uppercase",...bt(t)})}function Iie(t,e){return new ere({check:"string_format",format:"includes",...bt(e),includes:t})}function Die(t,e){return new tre({check:"string_format",format:"starts_with",...bt(e),prefix:t})}function Qie(t,e){return new nre({check:"string_format",format:"ends_with",...bt(e),suffix:t})}function Vd(t){return new rre({check:"overwrite",tx:t})}function Nie(t){return Vd(e=>e.normalize(t))}function Lie(){return Vd(t=>t.trim())}function jie(){return Vd(t=>t.toLowerCase())}function Bie(){return Vd(t=>t.toUpperCase())}function zie(){return Vd(t=>Kte(t))}function Zie(t,e,n){return new t({type:"array",element:e,...bt(n)})}function Uie(t,e,n){return new t({type:"custom",check:"custom",fn:e,...bt(n)})}function qie(t){const e=Vie(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ug(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(ug(i))}},t(n.value,n)));return e}function Vie(t,e){const n=new ks({check:"custom",...bt(e)});return n._zod.check=t,n}function Fz(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ym,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function zr(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const o=t._zod.toJSONSchema?.();if(o)a.schema=o;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,h);else{const m=a.schema,O=e.processors[i.type];if(!O)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);O(t,e,m,h)}const d=t._zod.parent;d&&(a.ref||(a.ref=d),zr(d,e,h),e.seen.get(d).isParent=!0)}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&Vi(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function Yz(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of t.seen.entries()){const o=t.metadataRegistry.get(a[0])?.id;if(o){const u=r.get(o);if(u&&u!==a[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(o,a[0])}}const i=a=>{const o=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const d=t.external.registry.get(a[0])?.id,m=t.external.uri??(y=>y);if(d)return{ref:m(d)};const O=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=O,{defId:O,ref:`${m("__shared")}#/${o}/${O}`}}if(a[1]===n)return{ref:"#"};const f=`#/${o}/`,h=a[1].schema.id??`__schema${t.counter++}`;return{defId:h,ref:f+h}},s=a=>{if(a[1].schema.$ref)return;const o=a[1],{ref:u,defId:f}=i(a);o.def={...o.schema},f&&(o.defId=f);const h=o.schema;for(const d in h)delete h[d];h.$ref=u};if(t.cycles==="throw")for(const a of t.seen.entries()){const o=a[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const o=a[1];if(e===a[0]){s(a);continue}if(t.external){const f=t.external.registry.get(a[0])?.id;if(e!==a[0]&&f){s(a);continue}}if(t.metadataRegistry.get(a[0])?.id){s(a);continue}if(o.cycle){s(a);continue}if(o.count>1&&t.reused==="ref"){s(a);continue}}}function Wz(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const o=t.seen.get(a);if(o.ref===null)return;const u=o.def??o.schema,f={...u},h=o.ref;if(o.ref=null,h){r(h);const m=t.seen.get(h),O=m.schema;if(O.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(O)):Object.assign(u,O),Object.assign(u,f),a._zod.parent===h)for(const v in u)v==="$ref"||v==="allOf"||v in f||delete u[v];if(O.$ref&&m.def)for(const v in u)v==="$ref"||v==="allOf"||v in m.def&&JSON.stringify(u[v])===JSON.stringify(m.def[v])&&delete u[v]}const d=a._zod.parent;if(d&&d!==h){r(d);const m=t.seen.get(d);if(m?.schema.$ref&&(u.$ref=m.schema.$ref,m.def))for(const O in u)O==="$ref"||O==="allOf"||O in m.def&&JSON.stringify(u[O])===JSON.stringify(m.def[O])&&delete u[O]}t.override({zodSchema:a,jsonSchema:u,path:o.path??[]})};for(const a of[...t.seen.entries()].reverse())r(a[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(a)}Object.assign(i,n.def??n.schema);const s=t.external?.defs??{};for(const a of t.seen.entries()){const o=a[1];o.def&&o.defId&&(s[o.defId]=o.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const a=JSON.parse(JSON.stringify(i));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:v_(e,"input",t.processors),output:v_(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function Vi(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Vi(r.element,n);if(r.type==="set")return Vi(r.valueType,n);if(r.type==="lazy")return Vi(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Vi(r.innerType,n);if(r.type==="intersection")return Vi(r.left,n)||Vi(r.right,n);if(r.type==="record"||r.type==="map")return Vi(r.keyType,n)||Vi(r.valueType,n);if(r.type==="pipe")return Vi(r.in,n)||Vi(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Vi(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Vi(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Vi(i,n))return!0;return!!(r.rest&&Vi(r.rest,n))}return!1}const Xie=(t,e={})=>n=>{const r=Fz({...n,processors:e});return zr(t,r),Yz(r,t),Wz(r,t)},v_=(t,e,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},a=Fz({...i??{},target:s,io:e,processors:n});return zr(t,a),Yz(a,t),Wz(a,t)},Fie={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Yie=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:a,format:o,patterns:u,contentEncoding:f}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof a=="number"&&(i.maxLength=a),o&&(i.format=Fie[o]??o,i.format===""&&delete i.format,o==="time"&&delete i.format),f&&(i.contentEncoding=f),u&&u.size>0){const h=[...u];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},Wie=(t,e,n,r)=>{const i=n,{minimum:s,maximum:a,format:o,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:h}=t._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof s=="number"&&(i.minimum=s,typeof h=="number"&&e.target!=="draft-04"&&(h>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=f,i.exclusiveMaximum=!0):i.exclusiveMaximum=f),typeof a=="number"&&(i.maximum=a,typeof f=="number"&&e.target!=="draft-04"&&(f<=a?delete i.maximum:delete i.exclusiveMaximum)),typeof u=="number"&&(i.multipleOf=u)},Gie=(t,e,n,r)=>{n.type="boolean"},Kie=(t,e,n,r)=>{n.not={}},Hie=(t,e,n,r)=>{},Jie=(t,e,n,r)=>{const i=t._zod.def,s=Ez(i.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},ese=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},tse=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},nse=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:a,maximum:o}=t._zod.bag;typeof a=="number"&&(i.minItems=a),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=zr(s.element,e,{...r,path:[...r.path,"items"]})},rse=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",i.properties={};const a=s.shape;for(const f in a)i.properties[f]=zr(a[f],e,{...r,path:[...r.path,"properties",f]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(f=>{const h=s.shape[f]._zod;return e.io==="input"?h.optin===void 0:h.optout===void 0}));u.size>0&&(i.required=Array.from(u)),s.catchall?._zod.def.type==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=zr(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},ise=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,a=i.options.map((o,u)=>zr(o,e,{...r,path:[...r.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=a:n.anyOf=a},sse=(t,e,n,r)=>{const i=t._zod.def,s=zr(i.left,e,{...r,path:[...r.path,"allOf",0]}),a=zr(i.right,e,{...r,path:[...r.path,"allOf",1]}),o=f=>"allOf"in f&&Object.keys(f).length===1,u=[...o(s)?s.allOf:[s],...o(a)?a.allOf:[a]];n.allOf=u},ase=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object";const a=s.keyType,u=a._zod.bag?.patterns;if(s.mode==="loose"&&u&&u.size>0){const h=zr(s.valueType,e,{...r,path:[...r.path,"patternProperties","*"]});i.patternProperties={};for(const d of u)i.patternProperties[d.source]=h}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=zr(s.keyType,e,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=zr(s.valueType,e,{...r,path:[...r.path,"additionalProperties"]});const f=a._zod.values;if(f){const h=[...f].filter(d=>typeof d=="string"||typeof d=="number");h.length>0&&(i.required=h)}},ose=(t,e,n,r)=>{const i=t._zod.def,s=zr(i.innerType,e,r),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},lse=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},use=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},cse=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},fse=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let a;try{a=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},hse=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;zr(s,e,r);const a=e.seen.get(t);a.ref=s},dse=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},Gz=(t,e,n,r)=>{const i=t._zod.def;zr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},pse=Me("ZodISODateTime",(t,e)=>{Ore.init(t,e),rr.init(t,e)});function mse(t){return wie(pse,t)}const gse=Me("ZodISODate",(t,e)=>{yre.init(t,e),rr.init(t,e)});function Ose(t){return Sie(gse,t)}const yse=Me("ZodISOTime",(t,e)=>{vre.init(t,e),rr.init(t,e)});function vse(t){return xie(yse,t)}const bse=Me("ZodISODuration",(t,e)=>{bre.init(t,e),rr.init(t,e)});function _se(t){return kie(bse,t)}const wse=(t,e)=>{Rz.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>cne(t,n)},flatten:{value:n=>une(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,LT,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,LT,2)}},isEmpty:{get(){return t.issues.length===0}}})},Aa=Me("ZodError",wse,{Parent:Error}),Sse=hC(Aa),xse=dC(Aa),kse=Rw(Aa),Tse=$w(Aa),Ese=dne(Aa),Ase=pne(Aa),Cse=mne(Aa),Pse=gne(Aa),Rse=One(Aa),$se=yne(Aa),Mse=vne(Aa),Ise=bne(Aa),pr=Me("ZodType",(t,e)=>(dr.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:v_(t,"input"),output:v_(t,"output")}}),t.toJSONSchema=Xie(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ic(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>sc(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>Sse(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>kse(t,n,r),t.parseAsync=async(n,r)=>xse(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Tse(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>Ese(t,n,r),t.decode=(n,r)=>Ase(t,n,r),t.encodeAsync=async(n,r)=>Cse(t,n,r),t.decodeAsync=async(n,r)=>Pse(t,n,r),t.safeEncode=(n,r)=>Rse(t,n,r),t.safeDecode=(n,r)=>$se(t,n,r),t.safeEncodeAsync=async(n,r)=>Mse(t,n,r),t.safeDecodeAsync=async(n,r)=>Ise(t,n,r),t.refine=(n,r)=>t.check(Aae(n,r)),t.superRefine=n=>t.check(Cae(n)),t.overwrite=n=>t.check(Vd(n)),t.optional=()=>vN(t),t.exactOptional=()=>mae(t),t.nullable=()=>bN(t),t.nullish=()=>vN(bN(t)),t.nonoptional=n=>_ae(t,n),t.array=()=>b_(t),t.or=n=>oae([t,n]),t.and=n=>uae(t,n),t.transform=n=>_N(t,dae(n)),t.default=n=>yae(t,n),t.prefault=n=>bae(t,n),t.catch=n=>Sae(t,n),t.pipe=n=>_N(t,n),t.readonly=()=>Tae(t),t.describe=n=>{const r=t.clone();return ym.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return ym.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ym.get(t);const r=t.clone();return ym.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),Kz=Me("_ZodString",(t,e)=>{pC.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(r,i,s)=>Yie(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Rie(...r)),t.includes=(...r)=>t.check(Iie(...r)),t.startsWith=(...r)=>t.check(Die(...r)),t.endsWith=(...r)=>t.check(Qie(...r)),t.min=(...r)=>t.check(y_(...r)),t.max=(...r)=>t.check(Vz(...r)),t.length=(...r)=>t.check(Xz(...r)),t.nonempty=(...r)=>t.check(y_(1,...r)),t.lowercase=r=>t.check($ie(r)),t.uppercase=r=>t.check(Mie(r)),t.trim=()=>t.check(Lie()),t.normalize=(...r)=>t.check(Nie(...r)),t.toLowerCase=()=>t.check(jie()),t.toUpperCase=()=>t.check(Bie()),t.slugify=()=>t.check(zie())}),Dse=Me("ZodString",(t,e)=>{pC.init(t,e),Kz.init(t,e),t.email=n=>t.check(tie(Qse,n)),t.url=n=>t.check(aie(Nse,n)),t.jwt=n=>t.check(_ie(Hse,n)),t.emoji=n=>t.check(oie(Lse,n)),t.guid=n=>t.check(dN(ON,n)),t.uuid=n=>t.check(nie(M0,n)),t.uuidv4=n=>t.check(rie(M0,n)),t.uuidv6=n=>t.check(iie(M0,n)),t.uuidv7=n=>t.check(sie(M0,n)),t.nanoid=n=>t.check(lie(jse,n)),t.guid=n=>t.check(dN(ON,n)),t.cuid=n=>t.check(uie(Bse,n)),t.cuid2=n=>t.check(cie(zse,n)),t.ulid=n=>t.check(fie(Zse,n)),t.base64=n=>t.check(yie(Wse,n)),t.base64url=n=>t.check(vie(Gse,n)),t.xid=n=>t.check(hie(Use,n)),t.ksuid=n=>t.check(die(qse,n)),t.ipv4=n=>t.check(pie(Vse,n)),t.ipv6=n=>t.check(mie(Xse,n)),t.cidrv4=n=>t.check(gie(Fse,n)),t.cidrv6=n=>t.check(Oie(Yse,n)),t.e164=n=>t.check(bie(Kse,n)),t.datetime=n=>t.check(mse(n)),t.date=n=>t.check(Ose(n)),t.time=n=>t.check(vse(n)),t.duration=n=>t.check(_se(n))});function mt(t){return eie(Dse,t)}const rr=Me("ZodStringFormat",(t,e)=>{Wn.init(t,e),Kz.init(t,e)}),Qse=Me("ZodEmail",(t,e)=>{lre.init(t,e),rr.init(t,e)}),ON=Me("ZodGUID",(t,e)=>{are.init(t,e),rr.init(t,e)}),M0=Me("ZodUUID",(t,e)=>{ore.init(t,e),rr.init(t,e)}),Nse=Me("ZodURL",(t,e)=>{ure.init(t,e),rr.init(t,e)}),Lse=Me("ZodEmoji",(t,e)=>{cre.init(t,e),rr.init(t,e)}),jse=Me("ZodNanoID",(t,e)=>{fre.init(t,e),rr.init(t,e)}),Bse=Me("ZodCUID",(t,e)=>{hre.init(t,e),rr.init(t,e)}),zse=Me("ZodCUID2",(t,e)=>{dre.init(t,e),rr.init(t,e)}),Zse=Me("ZodULID",(t,e)=>{pre.init(t,e),rr.init(t,e)}),Use=Me("ZodXID",(t,e)=>{mre.init(t,e),rr.init(t,e)}),qse=Me("ZodKSUID",(t,e)=>{gre.init(t,e),rr.init(t,e)}),Vse=Me("ZodIPv4",(t,e)=>{_re.init(t,e),rr.init(t,e)}),Xse=Me("ZodIPv6",(t,e)=>{wre.init(t,e),rr.init(t,e)}),Fse=Me("ZodCIDRv4",(t,e)=>{Sre.init(t,e),rr.init(t,e)}),Yse=Me("ZodCIDRv6",(t,e)=>{xre.init(t,e),rr.init(t,e)}),Wse=Me("ZodBase64",(t,e)=>{kre.init(t,e),rr.init(t,e)}),Gse=Me("ZodBase64URL",(t,e)=>{Ere.init(t,e),rr.init(t,e)}),Kse=Me("ZodE164",(t,e)=>{Are.init(t,e),rr.init(t,e)}),Hse=Me("ZodJWT",(t,e)=>{Pre.init(t,e),rr.init(t,e)}),Hz=Me("ZodNumber",(t,e)=>{zz.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(r,i,s)=>Wie(t,r,i),t.gt=(r,i)=>t.check(mN(r,i)),t.gte=(r,i)=>t.check(Lx(r,i)),t.min=(r,i)=>t.check(Lx(r,i)),t.lt=(r,i)=>t.check(pN(r,i)),t.lte=(r,i)=>t.check(Nx(r,i)),t.max=(r,i)=>t.check(Nx(r,i)),t.int=r=>t.check(yN(r)),t.safe=r=>t.check(yN(r)),t.positive=r=>t.check(mN(0,r)),t.nonnegative=r=>t.check(Lx(0,r)),t.negative=r=>t.check(pN(0,r)),t.nonpositive=r=>t.check(Nx(0,r)),t.multipleOf=(r,i)=>t.check(gN(r,i)),t.step=(r,i)=>t.check(gN(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function $l(t){return Tie(Hz,t)}const Jse=Me("ZodNumberFormat",(t,e)=>{Rre.init(t,e),Hz.init(t,e)});function yN(t){return Eie(Jse,t)}const eae=Me("ZodBoolean",(t,e)=>{$re.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Gie(t,n,r)});function uO(t){return Aie(eae,t)}const tae=Me("ZodUnknown",(t,e)=>{Mre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Hie()});function BT(){return Cie(tae)}const nae=Me("ZodNever",(t,e)=>{Ire.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Kie(t,n,r)});function rae(t){return Pie(nae,t)}const iae=Me("ZodArray",(t,e)=>{Dre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>nse(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(y_(n,r)),t.nonempty=n=>t.check(y_(1,n)),t.max=(n,r)=>t.check(Vz(n,r)),t.length=(n,r)=>t.check(Xz(n,r)),t.unwrap=()=>t.element});function b_(t,e){return Zie(iae,t,e)}const sae=Me("ZodObject",(t,e)=>{Nre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>rse(t,n,r,i),On(t,"shape",()=>e.shape),t.keyof=()=>Ja(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:BT()}),t.loose=()=>t.clone({...t._zod.def,catchall:BT()}),t.strict=()=>t.clone({...t._zod.def,catchall:rae()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>ine(t,n),t.safeExtend=n=>sne(t,n),t.merge=n=>ane(t,n),t.pick=n=>nne(t,n),t.omit=n=>rne(t,n),t.partial=(...n)=>one(Jz,t,n[0]),t.required=(...n)=>lne(eZ,t,n[0])});function ia(t,e){const n={type:"object",shape:t??{},...bt(e)};return new sae(n)}const aae=Me("ZodUnion",(t,e)=>{Lre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ise(t,n,r,i),t.options=e.options});function oae(t,e){return new aae({type:"union",options:t,...bt(e)})}const lae=Me("ZodIntersection",(t,e)=>{jre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>sse(t,n,r,i)});function uae(t,e){return new lae({type:"intersection",left:t,right:e})}const cae=Me("ZodRecord",(t,e)=>{Bre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ase(t,n,r,i),t.keyType=e.keyType,t.valueType=e.valueType});function fae(t,e,n){return new cae({type:"record",keyType:t,valueType:e,...bt(n)})}const zT=Me("ZodEnum",(t,e)=>{zre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(r,i,s)=>Jie(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const a of r)if(n.has(a))s[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new zT({...e,checks:[],...bt(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new zT({...e,checks:[],...bt(i),entries:s})}});function Ja(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new zT({type:"enum",entries:n,...bt(e)})}const hae=Me("ZodTransform",(t,e)=>{Zre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>tse(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new kz(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(ug(s,n.value,e));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(ug(a))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function dae(t){return new hae({type:"transform",transform:t})}const Jz=Me("ZodOptional",(t,e)=>{qz.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Gz(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function vN(t){return new Jz({type:"optional",innerType:t})}const pae=Me("ZodExactOptional",(t,e)=>{Ure.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Gz(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function mae(t){return new pae({type:"optional",innerType:t})}const gae=Me("ZodNullable",(t,e)=>{qre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ose(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function bN(t){return new gae({type:"nullable",innerType:t})}const Oae=Me("ZodDefault",(t,e)=>{Vre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>use(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function yae(t,e){return new Oae({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Cz(e)}})}const vae=Me("ZodPrefault",(t,e)=>{Xre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>cse(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function bae(t,e){return new vae({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Cz(e)}})}const eZ=Me("ZodNonOptional",(t,e)=>{Fre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>lse(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function _ae(t,e){return new eZ({type:"nonoptional",innerType:t,...bt(e)})}const wae=Me("ZodCatch",(t,e)=>{Yre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>fse(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Sae(t,e){return new wae({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const xae=Me("ZodPipe",(t,e)=>{Wre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>hse(t,n,r,i),t.in=e.in,t.out=e.out});function _N(t,e){return new xae({type:"pipe",in:t,out:e})}const kae=Me("ZodReadonly",(t,e)=>{Gre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>dse(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function Tae(t){return new kae({type:"readonly",innerType:t})}const Eae=Me("ZodCustom",(t,e)=>{Kre.init(t,e),pr.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ese(t,n)});function Aae(t,e={}){return Uie(Eae,t,e)}function Cae(t){return qie(t)}const jx={custom:"custom"};A5(WJ);const Ca={id:mt().uuid(),created_at:mt(),updated_at:mt(),is_trashed:uO(),trashed_at:mt().nullable()},mC=["planned","unplanned"],tZ=t=>t.trim().toLowerCase();ia({...Ca,content:mt()});const nZ=["backlog","next","active","hold"],wN=t=>t==="backlog"||t==="next"||t==="active"||t==="hold"?t:"backlog";ia({...Ca,title:mt(),description:mt().nullable(),status:Ja(nZ),start_date:mt().nullable(),due_date:mt().nullable(),okr_id:mt().uuid().nullable().optional()});const rZ=["backlog","waiting","next"],SN=t=>t==="active"?"next":t==="backlog"||t==="waiting"||t==="next"?t:"backlog";ia({...Ca,project_id:mt().uuid().nullable(),title:mt(),description:mt().nullable(),status:Ja(rZ),completed:uO(),due_date:mt().nullable(),content:mt().nullable().optional(),priority:$l().int().min(1).max(4).nullable().optional(),depends_on:b_(mt().uuid()).readonly().nullable().optional(),okr_id:mt().uuid().nullable().optional()});const Pae=ia({project_id:mt().uuid().nullable().optional(),status:mt().nullable().optional(),tags:b_(mt()).optional(),related_notes:b_(mt().uuid()).optional(),due_date:mt().nullable().optional(),priority:$l().int().min(1).max(5).nullable().optional(),okr_id:mt().uuid().nullable().optional(),period:Ja(["weekly","monthly","quarterly","annual"]).nullable().optional(),period_date:mt().nullable().optional()}).passthrough();ia({...Ca,title:mt(),content:mt().nullable(),inbox_at:mt().nullable(),note_type:mt().nullable(),is_pinned:uO(),properties:Pae.nullable()});const iZ=["daily","weekdays","weekly"];ia({...Ca,title:mt(),description:mt().nullable(),frequency:Ja(iZ).optional(),target:$l().int().positive().optional(),active:uO().optional(),okr_id:mt().uuid().nullable().optional(),streak:$l().int().nonnegative().optional(),last_completed_at:mt().nullable().optional()});ia({...Ca,habit_id:mt().uuid(),completed_date:mt()});ia({...Ca,source_id:mt().uuid(),target_id:mt().uuid().nullable(),target_title:mt(),header:mt().nullable(),alias:mt().nullable(),position:$l().int().nonnegative()});ia({...Ca,title:mt(),content:mt(),description:mt().nullable(),category:mt().nullable(),sort_order:$l().int().nonnegative()});const sZ=["auto","manual"];ia({...Ca,note_id:mt().uuid(),content:mt().nullable(),properties:fae(mt(),BT()).nullable(),version_number:$l().int().positive(),created_by:Ja(sZ),change_summary:mt().nullable()});ia({...Ca,task_id:mt().uuid().nullable(),session_id:mt().uuid().nullable(),entry_type:Ja(mC),label:mt().nullable(),label_normalized:mt().nullable(),started_at:mt(),stopped_at:mt().nullable(),duration_seconds:$l().int().nonnegative().nullable()}).superRefine((t,e)=>{t.entry_type==="unplanned"&&(t.label?.trim()||e.addIssue({code:jx.custom,message:"Unplanned entries require a label.",path:["label"]}),t.label_normalized?.trim()||e.addIssue({code:jx.custom,message:"Unplanned entries require a normalized label.",path:["label_normalized"]}),t.label&&t.label_normalized&&t.label_normalized!==tZ(t.label)&&e.addIssue({code:jx.custom,message:"Normalized label must match the label.",path:["label_normalized"]}))});const Rae=["quick","voice","email"],$ae=["note","task","project","discarded"];ia({...Ca,body:mt(),source:Ja(Rae).nullable(),processed:uO(),processed_at:mt().nullable(),result_type:Ja($ae).nullable(),result_id:mt().uuid().nullable()});const aZ=["yearly","12week","objective","key_result"],oZ=["draft","active","complete","abandoned"];ia({...Ca,title:mt(),description:mt().nullable(),type:Ja(aZ),parent_id:mt().uuid().nullable(),period_start:mt().nullable(),period_end:mt().nullable(),status:Ja(oZ),progress:$l().int().min(0).max(100)});const Pa={id:{type:"string",maxLength:36},created_at:{type:"string",format:"date-time"},updated_at:{type:"string",format:"date-time"},is_trashed:{type:"boolean"},trashed_at:{type:["string","null"],format:"date-time"}},Ra=["id","created_at","updated_at","is_trashed","trashed_at"],Mae={version:2,primaryKey:"id",type:"object",properties:{...Pa,content:{type:"string"}},required:[...Ra,"content"]},Iae={version:3,primaryKey:"id",type:"object",properties:{...Pa,title:{type:"string"},description:{type:["string","null"]},status:{type:"string",enum:nZ},start_date:{type:["string","null"],format:"date-time"},due_date:{type:["string","null"],format:"date-time"},okr_id:{type:["string","null"],maxLength:36}},required:[...Ra,"title","description","status","start_date","due_date","okr_id"]},Dae={version:3,primaryKey:"id",type:"object",properties:{...Pa,project_id:{type:["string","null"],maxLength:36},title:{type:"string"},description:{type:["string","null"]},status:{type:"string",enum:rZ},completed:{type:"boolean"},due_date:{type:["string","null"],format:"date-time"},content:{type:["string","null"]},priority:{type:["number","null"]},depends_on:{type:["array","null"],items:{type:"string",maxLength:36}},okr_id:{type:["string","null"],maxLength:36}},required:[...Ra,"project_id","title","description","status","completed","due_date","content","priority","depends_on","okr_id"]},Qae={version:6,primaryKey:"id",type:"object",properties:{...Pa,title:{type:"string"},content:{type:["string","null"]},inbox_at:{type:["string","null"]},note_type:{type:["string","null"]},is_pinned:{type:"boolean"},properties:{type:["object","null"]}},required:[...Ra,"title","content","inbox_at","note_type","is_pinned","properties"]},Nae={version:2,primaryKey:"id",type:"object",properties:{...Pa,title:{type:"string"},description:{type:["string","null"]},frequency:{type:"string",enum:iZ},target:{type:"number"},active:{type:"boolean"},okr_id:{type:["string","null"],maxLength:36},streak:{type:"number"},last_completed_at:{type:["string","null"]}},required:[...Ra,"title","description","frequency","target","active","okr_id","streak","last_completed_at"]},Lae={version:1,primaryKey:"id",type:"object",properties:{...Pa,habit_id:{type:"string",maxLength:36},completed_date:{type:"string",format:"date"}},required:[...Ra,"habit_id","completed_date"]},jae={version:1,primaryKey:"id",type:"object",properties:{...Pa,source_id:{type:"string",maxLength:36},target_id:{type:["string","null"],maxLength:36},target_title:{type:"string"},header:{type:["string","null"]},alias:{type:["string","null"]},position:{type:"number"}},required:[...Ra,"source_id","target_id","target_title","header","alias","position"],indexes:["source_id"]},Bae={version:1,primaryKey:"id",type:"object",properties:{...Pa,title:{type:"string"},content:{type:"string"},description:{type:["string","null"]},category:{type:["string","null"]},sort_order:{type:"number"}},required:[...Ra,"title","content","description","category","sort_order"]},zae={version:0,primaryKey:"id",type:"object",properties:{...Pa,note_id:{type:"string",maxLength:36},content:{type:["string","null"]},properties:{type:["object","null"]},version_number:{type:"number"},created_by:{type:"string",enum:sZ},change_summary:{type:["string","null"]}},required:[...Ra,"note_id","content","properties","version_number","created_by","change_summary"],indexes:["note_id"]},Zae={version:3,primaryKey:"id",type:"object",properties:{...Pa,task_id:{type:["string","null"],maxLength:36},session_id:{type:["string","null"],maxLength:36},entry_type:{type:"string",enum:mC},label:{type:["string","null"]},label_normalized:{type:["string","null"]},started_at:{type:"string",format:"date-time"},stopped_at:{type:["string","null"],format:"date-time"},duration_seconds:{type:["number","null"]}},required:[...Ra,"task_id","session_id","entry_type","label","label_normalized","started_at","stopped_at","duration_seconds"]},Uae={version:0,primaryKey:"id",type:"object",properties:{...Pa,body:{type:"string"},source:{type:["string","null"]},processed:{type:"boolean"},processed_at:{type:["string","null"]},result_type:{type:["string","null"]},result_id:{type:["string","null"],maxLength:36}},required:[...Ra,"body","source","processed","processed_at","result_type","result_id"]},qae={version:0,primaryKey:"id",type:"object",properties:{...Pa,title:{type:"string"},description:{type:["string","null"]},type:{type:"string",enum:aZ},parent_id:{type:["string","null"],maxLength:36},period_start:{type:["string","null"]},period_end:{type:["string","null"]},status:{type:"string",enum:oZ},progress:{type:"number"}},required:[...Ra,"title","description","type","parent_id","period_start","period_end","status","progress"]},Vae=t=>mC.includes(t),Xae=t=>t==="log"?"unplanned":typeof t=="string"&&Vae(t)?t:"planned";function Bo(t){const{is_deleted:e,deleted_at:n,is_trashed:r,trashed_at:i,...s}=t;return{...s,is_trashed:r??e??!1,trashed_at:i??n??null}}function xN(t){const e=Bo(t),n=Xae(t.entry_type),r=typeof t.label=="string"?t.label:null,i=typeof t.label_normalized=="string"?t.label_normalized:r?tZ(r):null,s=typeof t.session_id=="string"?t.session_id:null;return{...e,entry_type:n,label:r,label_normalized:i,session_id:s}}const Bx={1:t=>Bo(t)},Fae={1:t=>Bo(t),2:t=>({...t,inbox_at:t.inbox_at??null}),3:t=>({...t,note_type:t.note_type??null}),4:t=>({...t,is_pinned:t.is_pinned??!1}),5:t=>({...t,properties:t.properties??null}),6:t=>({...t})},Yae={1:t=>{const e=Bo(t),n=typeof t.completed=="boolean"?t.completed:!1,r=n?"backlog":SN(t.status);return{...e,status:r,completed:n}},2:t=>{const e=Bo(t),n=typeof t.completed=="boolean"?t.completed:!1,r=n?"backlog":SN(t.status);return{...e,status:r,completed:n}},3:t=>({...t,content:t.content??null,priority:t.priority??null,depends_on:Array.isArray(t.depends_on)?t.depends_on:null,okr_id:t.okr_id??null})},Wae={1:t=>{const e=Bo(t),n=wN(t.status),r=typeof t.start_date=="string"?t.start_date:null,i=typeof t.due_date=="string"?t.due_date:null;return{...e,status:n,start_date:r,due_date:i}},2:t=>{const e=Bo(t),n=wN(t.status),r=typeof t.start_date=="string"?t.start_date:null,i=typeof t.due_date=="string"?t.due_date:null;return{...e,status:n,start_date:r,due_date:i}},3:t=>({...t,okr_id:t.okr_id??null})},Gae={1:t=>Bo(t),2:t=>({...t,frequency:t.frequency??"daily",target:t.target??1,active:t.active??!0,okr_id:t.okr_id??null,streak:t.streak??0,last_completed_at:t.last_completed_at??null})},Kae={1:t=>Bo(t),2:t=>xN(t),3:t=>xN(t)},Hae={1:t=>({...t,is_deleted:t.is_deleted??!1,created_at:t.created_at??t.updated_at,deleted_at:t.deleted_at??null}),2:t=>Bo(t)};let I0=null;async function Jae(){return I0||(I0=(async()=>{const t=await VK({name:"personalos",storage:Wte({storage:IJ()})});return await t.addCollections({sync_test:{schema:Mae,migrationStrategies:Hae},projects:{schema:Iae,migrationStrategies:Wae},tasks:{schema:Dae,migrationStrategies:Yae},notes:{schema:Qae,migrationStrategies:Fae},habits:{schema:Nae,migrationStrategies:Gae},habit_completions:{schema:Lae,migrationStrategies:Bx},time_entries:{schema:Zae,migrationStrategies:Kae},note_links:{schema:jae,migrationStrategies:Bx},templates:{schema:Bae,migrationStrategies:Bx},note_versions:{schema:zae},captures:{schema:Uae},okrs:{schema:qae}}),t})(),I0)}const eoe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gC extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class toe extends gC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kN extends gC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TN extends gC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ZT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ZT||(ZT={}));class noe{constructor(e,{headers:n={},customFetch:r,region:i=ZT.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=eoe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _3(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:u,body:f,signal:h,timeout:d}=r;let m={},{region:O}=r;O||(O=this.region);const y=new URL(`${this.url}/${n}`);O&&O!=="any"&&(m["x-region"]=O,y.searchParams.set("forceFunctionRegion",O));let v;f&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(m["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(m["Content-Type"]="application/json",v=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?v=JSON.stringify(f):v=f;let w=h;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),h?(w=a.signal,h.addEventListener("abort",()=>a.abort())):w=a.signal);const k=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:v,signal:w}).catch(I=>{throw new toe(I)}),T=k.headers.get("x-relay-error");if(T&&T==="true")throw new kN(k);if(!k.ok)throw new TN(k);let A=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield k.json():A==="application/octet-stream"||A==="application/pdf"?C=yield k.blob():A==="text/event-stream"?C=k:A==="multipart/form-data"?C=yield k.formData():C=yield k.text(),{data:C,error:null,response:k}}catch(o){return{data:null,error:o,response:o instanceof TN||o instanceof kN?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var roe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ioe=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,u=null,f=s.status,h=s.statusText;if(s.ok){var d,m;if(n.method!=="HEAD"){var O;const k=await s.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((O=n.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?o=k:o=JSON.parse(k))}const v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");v&&w&&w.length>1&&(u=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,u=null,f=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const v=await s.text();try{a=JSON.parse(v),Array.isArray(a)&&s.status===404&&(o=[],a=null,f=200,h="OK")}catch{s.status===404&&v===""?(f=204,h="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,f=200,h="OK"),a&&n.shouldThrowOnError)throw new roe(a)}return{error:a,data:o,count:u,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",u="",f="";const h=s?.cause;if(h){var d,m,O,y;const k=(d=h?.message)!==null&&d!==void 0?d:"",T=(m=h?.code)!==null&&m!==void 0?m:"";o=`${(O=s?.name)!==null&&O!==void 0?O:"FetchError"}: ${s?.message}`,o+=`

Caused by: ${(y=h?.name)!==null&&y!==void 0?y:"Error"}: ${k}`,T&&(o+=` (${T})`),h?.stack&&(o+=`
${h.stack}`)}else{var v;o=(v=s?.stack)!==null&&v!==void 0?v:""}const w=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(f="",u="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(h?.name==="HeadersOverflowError"||h?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",u="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(u+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:o,hint:u,code:f},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},soe=class extends ioe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const EN=new RegExp("[,()]");var Ph=class extends soe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&EN.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&EN.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},aoe=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join(""),{url:o,headers:u}=this.cloneRequestState();return o.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new Ph({method:i,url:o,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(o.length>0){const u=[...new Set(o)].map(f=>`"${f}"`);s.searchParams.set("columns",u.join(","))}}return new Ph({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(f.length>0){const h=[...new Set(f)].map(d=>`"${d}"`);o.searchParams.set("columns",h.join(","))}}return new Ph({method:a,url:o,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ph({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ph({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function ooe(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t){var e=ooe(t,"string");return cg(e)=="symbol"?e:e+""}function uoe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var coe=class lZ{constructor(e,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(u,f)=>{const h=new AbortController,d=setTimeout(()=>h.abort(),s),m=f?.signal;if(m){if(m.aborted)return clearTimeout(d),o(u,f);const O=()=>{clearTimeout(d),h.abort()};return m.addEventListener("abort",O,{once:!0}),o(u,D0(D0({},f),{},{signal:h.signal})).finally(()=>{clearTimeout(d),m.removeEventListener("abort",O)})}return o(u,D0(D0({},f),{},{signal:h.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aoe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new lZ(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const u=new URL(`${this.url}/rpc/${e}`);let f;const h=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(h)),d=r&&Object.values(n).some(h);d?(o="POST",f=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([O,y])=>y!==void 0).map(([O,y])=>[O,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([O,y])=>{u.searchParams.append(O,y)})):(o="POST",f=n);const m=new Headers(this.headers);return d?m.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&m.set("Prefer",`count=${s}`),new Ph({method:o,url:u,headers:m,schema:this.schemaName,body:f,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class foe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hoe="2.95.3",doe=`realtime-js/${hoe}`,poe="1.0.0",uZ="2.0.0",CN=uZ,UT=1e4,moe=1e3,goe=100;var Au;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Au||(Au={}));var Kr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Kr||(Kr={}));var qa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qa||(qa={}));var qT;(function(t){t.websocket="websocket"})(qT||(qT={}));var zc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zc||(zc={}));class Ooe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",u=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+o.length+a.length+f.length+d.length,O=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(O),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,u.length),y.setUint8(v++,o.length),y.setUint8(v++,a.length),y.setUint8(v++,f.length),y.setUint8(v++,d.length),y.setUint8(v++,n),Array.from(u,k=>y.setUint8(v++,k.charCodeAt(0))),Array.from(o,k=>y.setUint8(v++,k.charCodeAt(0))),Array.from(a,k=>y.setUint8(v++,k.charCodeAt(0))),Array.from(f,k=>y.setUint8(v++,k.charCodeAt(0))),Array.from(d,k=>y.setUint8(v++,k.charCodeAt(0)));var w=new Uint8Array(O.byteLength+r.byteLength);return w.set(new Uint8Array(O),0),w.set(new Uint8Array(r),O.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,u]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(e.slice(u,u+i));u=u+i;const h=r.decode(e.slice(u,u+s));u=u+s;const d=r.decode(e.slice(u,u+a));u=u+a;const m=e.slice(u,e.byteLength),O=o===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:h,payload:O};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class cZ{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var In;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(In||(In={}));const PN=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=yoe(a,t,e,i),s),{}):{}},yoe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?fZ(s,a):VT(a)},fZ=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return woe(e,n)}switch(t){case In.bool:return voe(e);case In.float4:case In.float8:case In.int2:case In.int4:case In.int8:case In.numeric:case In.oid:return boe(e);case In.json:case In.jsonb:return _oe(e);case In.timestamp:return Soe(e);case In.abstime:case In.date:case In.daterange:case In.int4range:case In.int8range:case In.money:case In.reltime:case In.text:case In.time:case In.timestamptz:case In.timetz:case In.tsrange:case In.tstzrange:return VT(e);default:return VT(e)}},VT=t=>t,voe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},boe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_oe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},woe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>fZ(e,o))}return t},Soe=t=>typeof t=="string"?t.replace(" ","T"):t,hZ=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zx{constructor(e,n,r={},i=UT){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var RN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(RN||(RN={}));class $m{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$m.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=$m.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$m.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},u={};return this.map(s,(f,h)=>{a[f]||(u[f]=h)}),this.map(a,(f,h)=>{const d=s[f];if(d){const m=h.map(w=>w.presence_ref),O=d.map(w=>w.presence_ref),y=h.filter(w=>O.indexOf(w.presence_ref)<0),v=d.filter(w=>m.indexOf(w.presence_ref)<0);y.length>0&&(o[f]=y),v.length>0&&(u[f]=v)}else o[f]=h}),this.syncDiff(s,{joins:o,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var f;const h=(f=e[o])!==null&&f!==void 0?f:[];if(e[o]=this.cloneDeep(u),h.length>0){const d=e[o].map(O=>O.presence_ref),m=h.filter(O=>d.indexOf(O.presence_ref)<0);e[o].unshift(...m)}r(o,h,u)}),this.map(a,(o,u)=>{let f=e[o];if(!f)return;const h=u.map(d=>d.presence_ref);f=f.filter(d=>h.indexOf(d.presence_ref)<0),e[o]=f,i(o,f,u),f.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $N;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($N||($N={}));var Mm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mm||(Mm={}));var ml;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ml||(ml={}));class Nh{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zx(this,qa.join,this.params,this.timeout),this.rejoinTimer=new cZ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qa.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new $m(this),this.broadcastEndpointURL=hZ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Mm.PRESENCE]&&this.bindings[Mm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(O=>e?.(ml.CHANNEL_ERROR,O)),this._onClose(()=>e?.(ml.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:O})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){e?.(ml.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(y=v?.length)!==null&&y!==void 0?y:0,k=[];for(let T=0;T<w;T++){const A=v[T],{filter:{event:C,schema:I,table:Q,filter:N}}=A,j=O&&O[T];if(j&&j.event===C&&Nh.isFilterValueEqual(j.schema,I)&&Nh.isFilterValueEqual(j.table,Q)&&Nh.isFilterValueEqual(j.filter,N))k.push(Object.assign(Object.assign({},A),{id:j.id}));else{this.unsubscribe(),this.state=Kr.errored,e?.(ml.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ml.SUBSCRIBED);return}}).receive("error",O=>{this.state=Kr.errored,e?.(ml.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{e?.(ml.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Kr.joined&&e===Mm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const f=await o.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zx(this,qa.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zx(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>goe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:f,join:h}=qa;if(r&&[o,u,f,h].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(O=>{var y,v,w;return((y=O.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(v=O.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(O=>O.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(O=>{var y,v,w,k,T,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in O){const C=O.id,I=(y=O.filter)===null||y===void 0?void 0:y.event;return C&&((v=n.ids)===null||v===void 0?void 0:v.includes(C))&&(I==="*"||I?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const C=(T=(k=O?.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===a}).map(O=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:v,table:w,commit_timestamp:k,type:T,errors:A}=y;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:k,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(y))}O.callback(m,r)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Nh.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qa.close,{},e)}_onError(e){this._on(qa.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PN(e.columns,e.old_record)),n}}const Zx=()=>{},Q0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xoe=[1e3,2e3,5e3,1e4],koe=1e4,Toe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eoe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=UT,this.transport=null,this.heartbeatIntervalMs=Q0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zx,this.ref=0,this.reconnectTimer=null,this.vsn=CN,this.logger=Zx,this.conn=null,this.sendBuffer=[],this.serializer=new Ooe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${qT.websocket}`,this.httpEndpoint=hZ(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=foe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Au.connecting:return zc.Connecting;case Au.open:return zc.Open;case Au.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Nh(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(moe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Q0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${o}`.trim(),s),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Au.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Au.open||this.conn.readyState===Au.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(qa.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Toe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:doe};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(qa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cZ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Q0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,u,f,h,d,m,O;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:UT,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Q0.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:Zx,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:CN,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(y=>xoe[y-1]||koe),this.vsn){case poe:this.encode=(h=e?.encode)!==null&&h!==void 0?h:((y,v)=>v(JSON.stringify(y))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:((y,v)=>v(JSON.parse(y)));break;case uZ:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(O=e?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var fg=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Aoe(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function Coe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Poe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=Aoe(t.baseUrl,r,i),u=await Coe(t.auth),f=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),h=await f.text(),d=(f.headers.get("content-type")||"").includes("application/json"),m=d&&h?JSON.parse(h):h;if(!f.ok){const O=d?m:void 0,y=O?.error;throw new fg(y?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:y?.type,icebergCode:y?.code,details:O})}return{status:f.status,headers:f.headers,data:m}}}}function N0(t){return t.join("")}var Roe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:N0(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${N0(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${N0(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${N0(t.namespace)}`}),!0}catch(e){if(e instanceof fg&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof fg&&n.status===409)return;throw n}}};function Oh(t){return t.join("")}var $oe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oh(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof fg&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof fg&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Moe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Poe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Roe(this.client,e),this.tableOps=new $oe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Iw=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Dw(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var L0=class extends Iw{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dZ=class extends Iw{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Ioe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Doe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XT=t=>{if(Array.isArray(t))return t.map(n=>XT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=XT(r)}),e},Qoe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Noe(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t){var e=Noe(t,"string");return hg(e)=="symbol"?e:e+""}function joe(t,e,n){return(e=Loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const IN=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Boe=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||s+"";e(new L0(IN(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";e(new L0(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";e(new L0(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";e(new L0(i.statusText||`HTTP ${s} error`,s,a,r))}}else e(new dZ(IN(t),t,r))},zoe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?Et(Et({},i),n):(Doe(r)?(i.headers=Et({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Et(Et({},i),n))};async function am(t,e,n,r,i,s,a){return new Promise((o,u)=>{t(n,zoe(e,r,i,s)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(a==="vectors"){const h=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!h||!h.includes("application/json"))return{}}return f.json()}).then(f=>o(f)).catch(f=>Boe(f,u,r,a))})}function pZ(t="storage"){return{get:async(e,n,r,i)=>am(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,s)=>am(e,"POST",n,i,s,r,t),put:async(e,n,r,i,s)=>am(e,"PUT",n,i,s,r,t),head:async(e,n,r,i)=>am(e,"HEAD",n,Et(Et({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,s)=>am(e,"DELETE",n,i,s,r,t)}}const Zoe=pZ("storage"),{get:dg,post:Ua,put:FT,head:Uoe,remove:OC}=Zoe,Ys=pZ("vectors");var Xd=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Ioe(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dw(n))return{data:null,error:n};throw n}}},qoe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Dw(e))return{data:null,error:e};throw e}}};let mZ;mZ=Symbol.toStringTag;var Voe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[mZ]="BlobDownloadBuilder",this.promise=null}asStream(){return new qoe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Dw(e))return{data:null,error:e};throw e}}};const Xoe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Foe=class extends Xd{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=Et(Et({},DN),r);let o=Et(Et({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(o=Et(Et({},o),r.headers));const f=i._removeEmptyFolders(e),h=i._getFinalPath(f),d=await(t=="PUT"?FT:Ua)(i.fetch,`${i.url}/object/${h}`,s,Et({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{path:f,id:d.Id,fullPath:d.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let u;const f=Et({upsert:DN.upsert},r),h=Et(Et({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{path:s,fullPath:(await FT(i.fetch,o.toString(),u,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=Et({},n.headers);e?.upsert&&(i["x-upsert"]="true");const s=await Ua(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new Iw("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Ua(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Ua(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),s=await Ua(r.fetch,`${r.url}/object/sign/${i}`,Et({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Ua(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>Et(Et({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(t,e,n){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>dg(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0},n);return new Voe(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>XT(await dg(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Uoe(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Dw(r)&&r instanceof dZ){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await OC(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=Et(Et(Et({},Xoe),e),{},{prefix:t||""});return await Ua(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=Et({},t);return await Ua(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Yoe="2.95.3",cO={"X-Client-Info":`storage-js/${Yoe}`};var Woe=class extends Xd{constructor(t,e={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=Et(Et({},cO),e);super(s,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await dg(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await dg(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Ua(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await FT(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ua(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await OC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Goe=class extends Xd{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Et(Et({},cO),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ua(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await dg(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await OC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Qoe(t))throw new Iw("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Moe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}},Koe=class extends Xd{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Et(Et({},cO),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Ys.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Ys.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},Hoe=class extends Xd{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Et(Et({},cO),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Joe=class extends Xd{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Et(Et({},cO),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ys.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},ele=class extends Joe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new tle(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},tle=class extends Koe{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new nle(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nle=class extends Hoe{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Et(Et({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rle=class extends Woe{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Foe(this.url,this.headers,t,this.fetch)}get vectors(){return new ele(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Goe(this.url+"/iceberg",this.headers,this.fetch)}};const gZ="2.95.3",Rh=30*1e3,YT=3,Ux=YT*Rh,ile="http://localhost:9999",sle="supabase.auth.token",ale={"X-Client-Info":`gotrue-js/${gZ}`},WT="X-Supabase-Api-Version",OZ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ole=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lle=600*1e3;class pg extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ule extends pg{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cle(t){return Ot(t)&&t.name==="AuthApiError"}class Zc extends pg{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bl extends pg{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Zs extends Bl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qx(t){return Ot(t)&&t.name==="AuthSessionMissingError"}class yh extends Bl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class j0 extends Bl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class B0 extends Bl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fle(t){return Ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class QN extends Bl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hle extends Bl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class GT extends Bl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vx(t){return Ot(t)&&t.name==="AuthRetryableFetchError"}class NN extends Bl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class KT extends Bl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const __="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LN=` 	
\r=`.split(""),dle=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<LN.length;e+=1)t[LN[e].charCodeAt(0)]=-2;for(let e=0;e<__.length;e+=1)t[__[e].charCodeAt(0)]=e;return t})();function jN(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(__[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(__[r]),e.queuedBits-=6}}function yZ(t,e,n){const r=dle[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function BN(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{gle(a,r,n)};for(let a=0;a<t.length;a+=1)yZ(t.charCodeAt(a),i,s);return e.join("")}function ple(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mle(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ple(r,e)}}function gle(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function td(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yZ(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Ole(t){const e=[];return mle(t,n=>e.push(n)),new Uint8Array(e)}function Xc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>jN(i,n,r)),jN(null,n,r),e.join("")}function yle(t){return Math.round(Date.now()/1e3)+t}function vle(){return Symbol("auth-callback")}const vi=()=>typeof window<"u"&&typeof document<"u",Pc={tested:!1,writable:!1},vZ=()=>{if(!vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pc.tested)return Pc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pc.tested=!0,Pc.writable=!0}catch{Pc.tested=!0,Pc.writable=!1}return Pc.writable};function ble(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const bZ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_le=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$h=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Rc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(t,e)=>{await t.removeItem(e)};class Qw{constructor(){this.promise=new Qw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Qw.promiseConstructor=Promise;function z0(t){const e=t.split(".");if(e.length!==3)throw new KT("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ole.test(e[r]))throw new KT("JWT not in base64url format");return{header:JSON.parse(BN(e[0])),payload:JSON.parse(BN(e[1])),signature:td(e[2]),raw:{header:e[0],payload:e[1]}}}async function wle(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sle(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function xle(t){return("0"+t.toString(16)).substr(-2)}function kle(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,xle).join("")}async function Tle(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Ele(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Tle(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vh(t,e,n=!1){const r=kle();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $h(t,`${e}-code-verifier`,i);const s=await Ele(r);return[s,r===s?"plain":"s256"]}const Ale=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cle(t){const e=t.headers.get(WT);if(!e||!e.match(Ale))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ple(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rle(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $le=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bh(t){if(!$le.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xx(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mle(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function zN(t){return JSON.parse(JSON.stringify(t))}const Qc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ile=[502,503,504];async function ZN(t){var e;if(!_le(t))throw new GT(Qc(t),0);if(Ile.includes(t.status))throw new GT(Qc(t),t.status);let n;try{n=await t.json()}catch(s){throw new Zc(Qc(s),s)}let r;const i=Cle(t);if(i&&i.getTime()>=OZ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new NN(Qc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Zs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new NN(Qc(n),t.status,n.weak_password.reasons);throw new ule(Qc(n),t.status||500,r)}const Dle=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function kt(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[WT]||(s[WT]=OZ["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Qle(t,e,n+o,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function Qle(t,e,n,r,i,s){const a=Dle(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new GT(Qc(u),0)}if(o.ok||await ZN(o),r?.noResolveJson)return o;try{return await o.json()}catch(u){await ZN(u)}}function za(t){var e;let n=null;jle(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yle(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function UN(t){const e=za(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $u(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Nle(t){return{data:t,error:null}}function Lle(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=Zd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function qN(t){return t}function jle(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fx=["global","local","others"];class Ble{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=bZ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Fx[0]){if(Fx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fx.join(", ")}`);try{return await kt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$u})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Zd(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Lle,redirectTo:n?.redirectTo})}catch(n){if(Ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$u})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,u;try{const f={nextPage:null,lastPage:0,total:0},h=await kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qN});if(h.error)throw h.error;const d=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);f[`${w}Page`]=v}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},d),f),error:null}}catch(f){if(Ot(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){bh(e);try{return await kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$u})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bh(e);try{return await kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$u})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){bh(e);try{return await kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$u})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bh(e.userId);try{const{data:n,error:r}=await kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bh(e.userId),bh(e.id);try{return{data:await kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,u;try{const f={nextPage:null,lastPage:0,total:0},h=await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qN});if(h.error)throw h.error;const d=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);f[`${w}Page`]=v}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},d),f),error:null}}catch(f){if(Ot(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await kt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await kt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await kt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await kt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}function VN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const _h={debug:!!(globalThis&&vZ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _Z extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zle extends _Z{}async function Zle(t,e,n){_h.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_h.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_h.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{_h.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _h.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zle(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_h.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ule(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wZ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function qle(t){return parseInt(t,16)}function Vle(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Xle(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:f,scheme:h,uri:d,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const O=wZ(t.address),y=h?`${h}://${r}`:r,v=t.statement?`${t.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${O}

${v}`;let k=`URI: ${d}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),o&&(k+=`
Not Before: ${o.toISOString()}`),u&&(k+=`
Request ID: ${u}`),f){let T=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}k+=T}return`${w}
${k}`}class Lr extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class w_ extends Lr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Fle({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(SZ(a)){if(s.rp.id!==a)return new Lr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Yle({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Lr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(SZ(r)){if(n.rpId!==r)return new Lr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Wle{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Gle=new Wle;function Kle(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Zd(t,["challenge","user","excludeCredentials"]),s=td(e).buffer,a=Object.assign(Object.assign({},n),{id:td(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];o.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:td(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function Hle(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Zd(t,["challenge","allowCredentials"]),i=td(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:td(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Jle(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eue(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xc(new Uint8Array(i.authenticatorData)),clientDataJSON:Xc(new Uint8Array(i.clientDataJSON)),signature:Xc(new Uint8Array(i.signature)),userHandle:i.userHandle?Xc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SZ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function XN(){var t,e;return!!(vi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tue(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new w_("Browser returned unexpected credential type",e)}:{data:null,error:new w_("Empty credential response",e)}}catch(e){return{data:null,error:Fle({error:e,options:t})}}}async function nue(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new w_("Browser returned unexpected credential type",e)}:{data:null,error:new w_("Empty credential response",e)}}catch(e){return{data:null,error:Yle({error:e,options:t})}}}const rue={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iue={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function S_(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=S_(o,a):r[s]=S_(a)}else r[s]=a}return r}function sue(t,e){return S_(rue,t,e||{})}function aue(t,e){return S_(iue,t,e||{})}class oue{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){var a;try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:u};const f=i??Gle.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;if(!h.name){const d=r;if(d)h.name=`${h.id}:${d}`;else{const O=(await this.client.getUser()).data.user,y=((a=O?.user_metadata)===null||a===void 0?void 0:a.name)||O?.email||O?.id||"User";h.name=`${h.id}:${y}`}}h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=sue(o.webauthn.credential_options.publicKey,s?.create),{data:d,error:m}=await tue({publicKey:h,signal:f});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const h=aue(o.webauthn.credential_options.publicKey,s?.request),{data:d,error:m}=await nue(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:f}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(o){return Ot(o)?{data:null,error:o}:{data:null,error:new Zc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new pg("rpId is required for WebAuthn authentication")};try{if(!XN())return{data:null,error:new Zc("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Ot(a)?{data:null,error:a}:{data:null,error:new Zc("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new pg("rpId is required for WebAuthn registration")};try{if(!XN())return{data:null,error:new Zc("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:o};const{data:u,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(a){return Ot(a)?{data:null,error:a}:{data:null,error:new Zc("Unexpected error in register",a)}}}}Ule();const lue={url:ile,storageKey:sle,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ale,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function FN(t,e,n){return await n()}const wh={};class mg{get jwks(){var e,n;return(n=(e=wh[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wh[this.storageKey]=Object.assign(Object.assign({},wh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wh[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wh[this.storageKey]=Object.assign(Object.assign({},wh[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},lue),e);if(this.storageKey=s.storageKey,this.instanceID=(n=mg.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&vi()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ble({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bZ(s.fetch),this.lock=s.lock||FN,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&vi()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Zle:this.lock=FN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oue(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:vZ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VN(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=VN(this.memoryStorage)),vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gZ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(vi()&&(n=ble(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fle(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ot(n)?this._returnResult({error:n}):this._returnResult({error:new Zc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:za}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(Ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:d,options:m}=e;let O=null,y=null;this.flowType==="pkce"&&([O,y]=await vh(this.storage,this.storageKey)),s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:h,password:d,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:O,code_challenge_method:y},xform:za})}else if("phone"in e){const{phone:h,password:d,options:m}=e;s=await kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:za})}else throw new j0("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Oi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:UN})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:UN})}else throw new j0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new yh;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,u,f,h,d,m;let O,y;if("message"in e)O=e.message,y=e.signature;else{const{chain:v,wallet:w,statement:k,options:T}=e;let A;if(vi())if(typeof w=="object")A=w;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")A=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const C=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),I=await A.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=wZ(I[0]);let N=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const q=await A.request({method:"eth_chainId"});N=qle(q)}const j={domain:C.host,address:Q,statement:k,uri:C.href,version:"1",chainId:N,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.resources};O=Xle(j),y=await A.request({method:"personal_sign",params:[Vle(O),Q]})}try{const{data:v,error:w}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:za});if(w)throw w;if(!v||!v.session||!v.user){const k=new yh;return this._returnResult({data:{user:null,session:null},error:k})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(Ot(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,s,a,o,u,f,h,d,m,O;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:w,wallet:k,statement:T,options:A}=e;let C;if(vi())if(typeof k=="object")C=k;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))C=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const I=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const Q=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),T?{statement:T}:null));let N;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")N=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)N=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${I.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((d=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...A.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const Q=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=Q}}try{const{data:w,error:k}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xc(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:za});if(k)throw k;if(!w||!w.session||!w.user){const T=new yh;return this._returnResult({data:{user:null,session:null},error:T})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(Ot(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hle;const{data:s,error:a}=await kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:za});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new yh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:za}),{data:u,error:f}=o;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new yh;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:u}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await vh(this.storage,this.storageKey));const{error:d}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:u}=e,{data:f,error:h}=await kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new j0("You must provide either an email or phone number.")}catch(o){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:za});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,f=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,u=null;this.flowType==="pkce"&&([o,u]=await vh(this.storage,this.storageKey));const f=await kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:Nle});return!((s=f.data)===null||s===void 0)&&s.url&&vi()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(o){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Zs;const{error:i}=await kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ot(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await kt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await kt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new j0("You must provide either an email or phone number and a type")}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ux:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Rc(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Xx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Mle(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$u}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zs}:await kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:$u})})}catch(n){if(Ot(n))return qx(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Zs;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await vh(this.storage,this.storageKey));const{data:f,error:h}=await kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:$u});if(h)throw h;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zs;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=z0(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Ot(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Zs;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vi())throw new B0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new B0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new QN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new B0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new QN("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:f}=e;if(!s||!o||!a||!f)throw new B0("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(o);let m=h+d;u&&(m=parseInt(u));const O=m-h;O*1e3<=Rh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${d}s`);const y=m-d;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,h);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:m,refresh_token:a,token_type:f,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(Ot(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Rc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!qx(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(cle(o)&&(o.status===404||o.status===401||o.status===403)||qx(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=vle(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vh(this.storage,this.storageKey,!0));try{return await kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,u,f,h;const{data:d,error:m}=s;if(m)throw m;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await kt(this.fetch,"GET",O,{headers:this.headers,jwt:(h=(f=d.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return vi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Ot(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:u,access_token:f,nonce:h}=e,d=await kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:za}),{data:m,error:O}=d;return O?this._returnResult({data:{user:null,session:null},error:O}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new yh}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:O}))}catch(i){if(await Oi(this.storage,`${this.storageKey}-code-verifier`),Ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Sle(async i=>(i>0&&await wle(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:za})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Vx(s)&&Date.now()+a-r<Rh})}catch(r){if(this._debug(n,"error",r),Ot(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rc(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Rc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await $h(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:Xx()}else if(i&&!i.user&&!i.user){const a=await Rc(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Oi(this.storage,this.storageKey+"-user"),await $h(this.storage,this.storageKey,i)):i.user=Xx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ux;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ux}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Vx(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qw;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Zs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ot(s)){const a={data:null,error:s};return Vx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Oi(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $h(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=zN(i);await $h(this.storage,this.storageKey,s)}else{const i=zN(n);await $h(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Rh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Rh}ms, refresh threshold is ${YT} ticks`),i<=YT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _Z)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await vh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:f}=await kt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jle(e.webauthn.credential_response):eue(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:u}=await kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Kle(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Hle(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,s;if(e)try{const{payload:O}=z0(e);let y=null;O.aal&&(y=O.aal);let v=y;const{data:{user:w},error:k}=await this.getUser(e);if(k)return this._returnResult({data:null,error:k});((r=(n=w?.factors)===null||n===void 0?void 0:n.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const A=O.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:A},error:null}}catch(O){if(Ot(O))return this._returnResult({data:null,error:O});throw O}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=z0(a.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(O=>O.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await kt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zs})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Zs});const a=await kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&vi()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ot(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Zs});const a=await kt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&vi()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ot(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await kt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Zs})})}catch(e){if(Ot(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await kt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zs})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+lle>i)return r;const{data:s,error:a}=await kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:O,error:y}=await this.getSession();if(y||!O.session)return this._returnResult({data:null,error:y});r=O.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=z0(r);n?.allowExpired||Ple(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:s,header:i,signature:a},error:null}}const h=Rle(i.alg),d=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,Ole(`${o}.${u}`)))throw new KT("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Ot(r))return this._returnResult({data:null,error:r});throw r}}}mg.nextInstanceID={};const uue=mg,cue="2.95.3";let vm="";typeof Deno<"u"?vm="deno":typeof document<"u"?vm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vm="react-native":vm="node";const fue={"X-Client-Info":`supabase-js-${vm}/${cue}`},hue={headers:fue},due={schema:"public"},pue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mue={};function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function gue(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oue(t){var e=gue(t,"string");return gg(e)=="symbol"?e:e+""}function yue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const vue=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bue=()=>Headers,_ue=(t,e,n)=>{const r=vue(n),i=bue();return async(s,a)=>{var o;const u=(o=await e())!==null&&o!==void 0?o:t;let f=new i(a?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(s,fr(fr({},a),{},{headers:f}))}};function wue(t){return t.endsWith("/")?t:t+"/"}function Sue(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:u,auth:f,realtime:h,global:d}=e,m={db:fr(fr({},u),i),auth:fr(fr({},f),s),realtime:fr(fr({},h),a),storage:{},global:fr(fr(fr({},d),o),{},{headers:fr(fr({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function xue(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wue(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var kue=class extends uue{constructor(t){super(t)}},Tue=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=xue(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:due,realtime:mue,auth:fr(fr({},pue),{},{storageKey:a}),global:hue},u=Sue(n??{},o);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=u.auth)!==null&&f!==void 0?f:{},this.headers,u.global.fetch)}this.fetch=_ue(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(fr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new coe(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new rle(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new noe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:u,throwOnError:f},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kue({url:this.authUrl.href,headers:fr(fr({},m),h),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:u,throwOnError:f,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Eoe(this.realtimeUrl.href,fr(fr({},t),{},{params:fr(fr({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Eue=(t,e,n)=>new Tue(t,e,n);function Aue(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Aue()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yC=Eue("https://oufsigpgdpknutoisjri.supabase.co","sb_publishable_AMXgpGWGUDZT-wR1nMErPg_vhQAUklK"),Nw={sync_test:{table:"sync_test",fields:["id","content","created_at","updated_at","is_trashed","trashed_at"]},projects:{table:"projects",fields:["id","title","description","status","start_date","due_date","created_at","updated_at","is_trashed","trashed_at"]},tasks:{table:"tasks",fields:["id","project_id","title","description","status","completed","due_date","created_at","updated_at","is_trashed","trashed_at"]},notes:{table:"notes",fields:["id","title","content","inbox_at","note_type","is_pinned","properties","created_at","updated_at","is_trashed","trashed_at"]},habits:{table:"habits",fields:["id","title","description","created_at","updated_at","is_trashed","trashed_at"]},habit_completions:{table:"habit_completions",fields:["id","habit_id","completed_date","created_at","updated_at","is_trashed","trashed_at"]},time_entries:{table:"time_entries",fields:["id","task_id","entry_type","label","label_normalized","session_id","started_at","stopped_at","duration_seconds","created_at","updated_at","is_trashed","trashed_at"]},note_links:{table:"note_links",fields:["id","source_id","target_id","target_title","header","alias","position","created_at","updated_at","is_trashed","trashed_at"]},templates:{table:"templates",fields:["id","title","content","description","category","sort_order","created_at","updated_at","is_trashed","trashed_at"]},note_versions:{table:"note_versions",fields:["id","note_id","content","properties","version_number","created_by","change_summary","created_at","updated_at","is_trashed","trashed_at"]},captures:{table:"captures",fields:["id","body","source","processed","processed_at","result_type","result_id","created_at","updated_at","is_trashed","trashed_at"]},okrs:{table:"okrs",fields:["id","title","description","type","parent_id","period_start","period_end","status","progress","created_at","updated_at","is_trashed","trashed_at"]}},x_=Object.keys(Nw);let Z0=null,nd=null;const WN=new Map,Yx=new Set;let GN=!1,KN=!1;const HN=new Map,Cue=2e3,Pue=5e3;function vC(t){const e=WN.get(t);if(e)return e;const n=new Set;return WN.set(t,n),n}function xZ(t){const e=HN.get(t);if(e)return e;const n=new Map;return HN.set(t,n),n}function JN(t,e,n){xZ(t).set(e,{updatedAt:n,ts:Date.now()})}function Rue(t,e,n){const r=xZ(t),i=r.get(e);return i?Date.now()-i.ts>Cue?(r.delete(e),!1):i.updatedAt===n:!1}function Wx(t){nd&&clearInterval(nd),nd=setInterval(()=>HT(t),Pue)}function eL(){nd&&(clearInterval(nd),nd=null)}function $ue(t,e){const n={};for(const r of e)n[r]=t[r];return n}function Mue(t,e){const n=Date.parse(t),r=Date.parse(e);return Number.isNaN(n)?!1:Number.isNaN(r)?!0:n>r}function tL(t){return t===void 0?null:t}function Iue(t,e,n){for(const r of n){if(r==="updated_at")continue;const i=tL(t[r]),s=tL(e[r]);if(!Object.is(i,s))return!0}return!1}async function Due(t){return Z0||(Z0=(async()=>{await Promise.all(x_.map(async e=>{const n=t[e];await kZ(n,e)}));for(const e of x_){const n=t[e];Nue(n).then(()=>TZ(n,e)),n.$.subscribe(async r=>{const i=r.documentData?.id;if(!i)return;const s=r.documentData?.updated_at;if(s&&Rue(e,i,s))return;const a=vC(e);if(!a.has(i)){a.add(i);try{r.operation==="DELETE"?await Lue(i,e):await EZ(r.documentData,e)}finally{a.delete(i)}}})}typeof window<"u"?document.visibilityState==="visible"?Wx(t):eL():Wx(t),typeof window<"u"&&!GN&&(GN=!0,window.addEventListener("online",async()=>{await Que(t),await HT(t)})),typeof window<"u"&&!KN&&(KN=!0,window.addEventListener("visibilitychange",async()=>{document.visibilityState==="visible"?(Wx(t),await HT(t)):eL()}))})(),Z0)}async function HT(t){await Promise.all(x_.map(e=>kZ(t[e],e)))}async function Que(t){for(const e of x_)await TZ(t[e],e)}async function Nue(t){const e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,n=await t.find().exec();for(const r of n){const i=r.toJSON();e.test(i.id)||await r.remove()}}async function kZ(t,e){try{const{table:n,fields:r}=Nw[e],{data:i,error:s}=await yC.from(n).select("*");if(s)throw s;for(const a of i||[]){const o=a,u=o.id,f=vC(e);f.add(u);try{const h=await t.findOne(u).exec();if(!h)JN(e,u,o.updated_at),await t.insert(o);else{const d=h.toJSON();if(Mue(o.updated_at,d.updated_at)){if(!Iue(o,d,r))continue;JN(e,u,o.updated_at),await h.patch(o)}}}finally{f.delete(u)}}}catch(n){n instanceof Error&&!n.message.includes("Failed to fetch")&&console.error("Pull error:",n)}}async function TZ(t,e){if(!Yx.has(e)){Yx.add(e);try{const n=await t.find().exec();if(n.length===0)return;for(const r of n){const i=r.toJSON(),s=vC(e);s.add(i.id);try{await EZ(i,e)}finally{s.delete(i.id)}}}catch(n){console.error("Push all error:",n)}finally{Yx.delete(e)}}}async function EZ(t,e){try{const{table:n,fields:r}=Nw[e],i=$ue(t,r),{error:s}=await yC.from(n).upsert(i);if(s)throw s}catch(n){n instanceof Error&&!n.message.includes("Failed to fetch")&&console.error("Push error:",n)}}async function Lue(t,e){try{const{table:n}=Nw[e],r=new Date().toISOString(),{error:i}=await yC.from(n).update({is_trashed:!0,trashed_at:r,updated_at:r}).eq("id",t);if(i)throw i}catch(n){n instanceof Error&&!n.message.includes("Failed to fetch")&&console.error("Delete error:",n)}}function ac(){const[t,e]=$.useState(null),[n,r]=$.useState(!1);return $.useEffect(()=>{let i=!0;async function s(){const a=await Jae();i&&(await Due(a),e(a),r(!0))}return s(),()=>{i=!1}},[]),{db:t,isReady:n}}const Gx=120,jue=20;function Im(t){return t.toLowerCase().trim().replace(/\s+/g," ")}function nL(t,e){const n=Im(t),r=Im(e),i=n.indexOf(r);if(i===-1)return t.slice(0,Gx);const s=Math.floor((Gx-e.length)/2),a=Math.max(0,i-s),o=Math.min(t.length,a+Gx);let u=t.slice(a,o).trim();return a>0&&(u=`...${u}`),o<t.length&&(u=`${u}...`),u}function Bue(t,e){const n=Im(e);if(!n)return[];const r=[];for(const i of t){const s=Im(i.title||""),a=Im(i.content||""),o=s.indexOf(n),u=a.indexOf(n);o!==-1?r.push({result:{note:i,matchField:"title",snippet:nL(i.content||"",n)},rank:o}):u!==-1&&r.push({result:{note:i,matchField:"content",snippet:nL(i.content||"",n)},rank:1e3+u})}return r.sort((i,s)=>i.rank-s.rank),r.slice(0,jue).map(i=>i.result)}const k_="Untitled",T_=80,zue=/^---\s*$/,Zue=/^(---|\.\.\.)\s*$/,bC=t=>{if(!t)return[];const e=t.split(/\r?\n/);let n=0;if(e.length>0&&zue.test(e[0]??"")){let r=-1;for(let i=1;i<e.length;i+=1)if(Zue.test(e[i]??"")){r=i;break}if(r===-1)return[];n=r+1}return e.slice(n).map(r=>r.trim()).filter(r=>r.length>0)},JT=t=>t.replace(/^#{1,6}\s+/,"").replace(/^[-*+]\s+/,"").replace(/^\d+\.\s+/,"").replace(/^>\s*/,"").replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/__(.+?)__/g,"$1").replace(/_(.+?)_/g,"$1").replace(/~~(.+?)~~/g,"$1").replace(/`(.+?)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/\[\[([^\]|]+)\|([^\]]+)\]\]/g,"$2").replace(/\[\[([^\]]+)\]\]/g,"$1").trim(),Sd=(t,e)=>{const n=bC(t),r=(e??"").trim();if(n[0]){const i=JT(n[0]);if(i)return i}return r?JT(r):k_},eE=t=>{const e=t.trim()||k_;return e.length<=T_?e:`${e.slice(0,T_-3)}...`},AZ=t=>{const e=bC(t);if(!e[0])return k_;const n=JT(e[0]);return n?n.length<=T_?n:n.slice(0,T_):k_},Uue=t=>{const e=bC(t);return e.length<=1?"":e.slice(1,3).join(" ")},_C=t=>{if(!t)return"unknown";const e=new Date(t);if(Number.isNaN(e.getTime()))return"unknown";const n=Date.now()-e.getTime(),r=n<0?-1:1,i=Math.abs(n);if(i<6e4)return"just now";const s=Math.round(i/6e4);if(s<60)return`${s}m ${r<0?"from now":"ago"}`;const a=Math.round(s/60);if(a<24)return`${a}h ${r<0?"from now":"ago"}`;const o=Math.round(a/24);if(o<7)return`${o}d ${r<0?"from now":"ago"}`;const u=Math.round(o/7);return u<5?`${u}w ${r<0?"from now":"ago"}`:e.toLocaleDateString(void 0,{month:"short",day:"numeric",year:e.getFullYear()!==new Date().getFullYear()?"numeric":void 0})},que="_backdrop_udfzt_1",Vue="_modal_udfzt_10",Xue="_label_udfzt_25",Fue="_header_udfzt_32",Yue="_input_udfzt_38",Wue="_results_udfzt_57",Gue="_actions_udfzt_69",Kue="_button_udfzt_77",Hue="_buttonPrimary_udfzt_88",Jue="_buttonDisabled_udfzt_94",ece="_sectionTitle_udfzt_99",tce="_emptyState_udfzt_106",nce="_list_udfzt_112",rce="_listItem_udfzt_121",ice="_listButton_udfzt_126",sce="_listButtonSelected_udfzt_141",ace="_listButtonSubtitle_udfzt_151",oce="_toggle_udfzt_158",lce="_toggleTrack_udfzt_176",uce="_toggleTrackActive_udfzt_187",cce="_toggleThumb_udfzt_191",fce="_toggleThumbActive_udfzt_201",hce="_toggleText_udfzt_205",dce="_actionButtons_udfzt_209",$n={backdrop:que,modal:Vue,label:Xue,header:Fue,input:Yue,results:Wue,actions:Gue,button:Kue,buttonPrimary:Hue,buttonDisabled:Jue,sectionTitle:ece,emptyState:tce,list:nce,listItem:rce,listButton:ice,listButtonSelected:sce,listButtonSubtitle:ace,toggle:oce,toggleTrack:lce,toggleTrackActive:uce,toggleThumb:cce,toggleThumbActive:fce,toggleText:hce,actionButtons:dce};function pce({open:t,onOpenChange:e}){const[n,r]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),u=$.useRef(null),{db:f,isReady:h}=ac(),{pushLayer:d}=nc(),[m,O]=$.useState([]);$.useEffect(()=>{if(!f||!h)return;const j=f.notes.find({selector:{is_trashed:!1,inbox_at:null},sort:[{updated_at:"desc"},{id:"asc"}]}).$.subscribe(q=>{O(q.map(oe=>oe.toJSON()))});return()=>j.unsubscribe()},[f,h]);const y=$.useMemo(()=>m.slice(0,12),[m]),w=$.useDeferredValue(n).trim(),k=w.length>=2,T=$.useMemo(()=>k?Bue(m,w):[],[m,w,k]),A=$.useMemo(()=>k?T.map(j=>({id:j.note.id,noteId:j.note.id,title:eE(Sd(j.note.content,j.note.title)),subtitle:j.snippet})):y.map(j=>({id:j.id,noteId:j.id,title:eE(Sd(j.content,j.title)),subtitle:_C(j.updated_at)})),[k,T,y]);$.useEffect(()=>{if(!t)return;const j=requestAnimationFrame(()=>{u.current?.focus()});return()=>cancelAnimationFrame(j)},[t]),$.useEffect(()=>{if(!t)return;const j=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=j}},[t]);const C=$.useCallback(()=>{r(""),o(null),e(!1)},[e]),I=$.useCallback(async()=>{if(!n.trim()||!f)return;const j=_l(),q=new Date().toISOString(),oe=n.trim();await f.notes.insert({id:j,title:AZ(oe),content:oe,inbox_at:q,note_type:null,is_pinned:!1,properties:null,created_at:q,updated_at:q,is_trashed:!1,trashed_at:null}),r(""),o(null),i||e(!1)},[n,f,i,e]),Q=$.useCallback(j=>{e(!1),d({view:"note-detail",noteId:j})},[e,d]);$.useEffect(()=>{if(!t)return;const j=q=>{if(q.key==="Escape"){q.preventDefault(),a!==null?o(null):n.length>0?r(""):C();return}if(q.key==="Tab"&&A.length>0){q.preventDefault(),o(0);return}if(q.key==="ArrowDown"){q.preventDefault(),o(oe=>oe===null?0:Math.min(oe+1,A.length-1));return}if(q.key==="ArrowUp"){q.preventDefault(),o(oe=>oe===null||oe<=0?null:oe-1);return}q.key==="Enter"&&!q.shiftKey&&(a!==null&&A[a]?(q.preventDefault(),Q(A[a].noteId)):n.trim()&&(q.preventDefault(),I()))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,n,a,A,C,I,Q]);const N=n.trim().length>0;return t?M.jsx("div",{className:$n.backdrop,children:M.jsxs("div",{className:$n.modal,role:"dialog","aria-modal":"true","aria-label":"Quick capture",children:[M.jsxs("div",{className:$n.header,children:[M.jsx("span",{className:$n.label,children:"Capture"}),M.jsx("textarea",{ref:u,className:$n.input,placeholder:"What's on your mind?",value:n,onChange:j=>{r(j.target.value),o(null)}})]}),M.jsxs("div",{className:$n.results,children:[M.jsx("span",{className:$n.sectionTitle,children:k?"Search Results":"Recently Edited"}),A.length>0?M.jsx("ul",{className:$n.list,role:"list",children:A.map((j,q)=>M.jsx("li",{className:$n.listItem,children:M.jsxs("button",{type:"button",className:`${$n.listButton} ${a===q?$n.listButtonSelected:""}`,onClick:()=>Q(j.noteId),children:[j.title,M.jsx("div",{className:$n.listButtonSubtitle,children:j.subtitle})]})},j.id))}):k?M.jsx("p",{className:$n.emptyState,children:"No results"}):M.jsx("p",{className:$n.emptyState,children:"No recent documents"})]}),M.jsxs("div",{className:$n.actions,children:[M.jsxs("button",{type:"button",className:$n.toggle,"aria-pressed":i,onClick:()=>s(j=>!j),children:[M.jsx("span",{className:`${$n.toggleTrack} ${i?$n.toggleTrackActive:""}`,children:M.jsx("span",{className:`${$n.toggleThumb} ${i?$n.toggleThumbActive:""}`})}),M.jsx("span",{className:$n.toggleText,children:"Rapid"})]}),M.jsxs("div",{className:$n.actionButtons,children:[M.jsx("button",{type:"button",className:$n.button,onClick:C,children:"Cancel"}),M.jsx("button",{type:"button",className:`${$n.button} ${$n.buttonPrimary} ${N?"":$n.buttonDisabled}`,disabled:!N,onClick:I,children:"Save"})]})]})]})}):null}function Ut(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function rL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fO(...t){return e=>{let n=!1;const r=t.map(i=>{const s=rL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():rL(t[i],null)}}}}function ki(...t){return $.useCallback(fO(...t),t)}function mce(t,e){const n=$.createContext(e),r=s=>{const{children:a,...o}=s,u=$.useMemo(()=>o,Object.values(o));return M.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=$.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fd(t,e=[]){let n=[];function r(s,a){const o=$.createContext(a),u=n.length;n=[...n,a];const f=d=>{const{scope:m,children:O,...y}=d,v=m?.[t]?.[u]||o,w=$.useMemo(()=>y,Object.values(y));return M.jsx(v.Provider,{value:w,children:O})};f.displayName=s+"Provider";function h(d,m){const O=m?.[t]?.[u]||o,y=$.useContext(O);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[f,h]}const i=()=>{const s=n.map(a=>$.createContext(a));return function(o){const u=o?.[t]||s;return $.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return i.scopeName=t,[r,gce(i,...e)]}function gce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:u,scopeName:f})=>{const d=u(s)[`__scope${f}`];return{...o,...d}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Fu=globalThis?.document?$.useLayoutEffect:()=>{},Oce=PA[" useId ".trim().toString()]||(()=>{}),yce=0;function rd(t){const[e,n]=$.useState(Oce());return Fu(()=>{n(r=>r??String(yce++))},[t]),t||(e?`radix-${e}`:"")}var vce=PA[" useInsertionEffect ".trim().toString()]||Fu;function wC({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=bce({defaultProp:e,onChange:n}),o=t!==void 0,u=o?t:i;{const h=$.useRef(t!==void 0);$.useEffect(()=>{const d=h.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const f=$.useCallback(h=>{if(o){const d=_ce(h)?h(t):h;d!==t&&a.current?.(d)}else s(h)},[o,t,s,a]);return[u,f]}function bce({defaultProp:t,onChange:e}){const[n,r]=$.useState(t),i=$.useRef(n),s=$.useRef(e);return vce(()=>{s.current=e},[e]),$.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function _ce(t){return typeof t=="function"}function Og(t){const e=wce(t),n=$.forwardRef((r,i)=>{const{children:s,...a}=r,o=$.Children.toArray(s),u=o.find(xce);if(u){const f=u.props.children,h=o.map(d=>d===u?$.Children.count(f)>1?$.Children.only(null):$.isValidElement(f)?f.props.children:null:d);return M.jsx(e,{...a,ref:i,children:$.isValidElement(f)?$.cloneElement(f,void 0,h):null})}return M.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function wce(t){const e=$.forwardRef((n,r)=>{const{children:i,...s}=n;if($.isValidElement(i)){const a=Tce(i),o=kce(s,i.props);return i.type!==$.Fragment&&(o.ref=r?fO(r,a):a),$.cloneElement(i,o)}return $.Children.count(i)>1?$.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Sce=Symbol("radix.slottable");function xce(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sce}function kce(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Tce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ece=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ur=Ece.reduce((t,e)=>{const n=Og(`Primitive.${e}`),r=$.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(u,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CZ(t,e){t&&yw.flushSync(()=>t.dispatchEvent(e))}function Ml(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t}),$.useMemo(()=>(...n)=>e.current?.(...n),[])}function Ace(t,e=globalThis?.document){const n=Ml(t);$.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Cce="DismissableLayer",tE="dismissableLayer.update",Pce="dismissableLayer.pointerDownOutside",Rce="dismissableLayer.focusOutside",iL,PZ=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SC=$.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=t,f=$.useContext(PZ),[h,d]=$.useState(null),m=h?.ownerDocument??globalThis?.document,[,O]=$.useState({}),y=ki(e,N=>d(N)),v=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(w),T=h?v.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,C=T>=k,I=Ice(N=>{const j=N.target,q=[...f.branches].some(oe=>oe.contains(j));!C||q||(i?.(N),a?.(N),N.defaultPrevented||o?.())},m),Q=Dce(N=>{const j=N.target;[...f.branches].some(oe=>oe.contains(j))||(s?.(N),a?.(N),N.defaultPrevented||o?.())},m);return Ace(N=>{T===f.layers.size-1&&(r?.(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},m),$.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(iL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),sL(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=iL)}},[h,m,n,f]),$.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),sL())},[h,f]),$.useEffect(()=>{const N=()=>O({});return document.addEventListener(tE,N),()=>document.removeEventListener(tE,N)},[]),M.jsx(Ur.div,{...u,ref:y,style:{pointerEvents:A?C?"auto":"none":void 0,...t.style},onFocusCapture:Ut(t.onFocusCapture,Q.onFocusCapture),onBlurCapture:Ut(t.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:Ut(t.onPointerDownCapture,I.onPointerDownCapture)})});SC.displayName=Cce;var $ce="DismissableLayerBranch",Mce=$.forwardRef((t,e)=>{const n=$.useContext(PZ),r=$.useRef(null),i=ki(e,r);return $.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),M.jsx(Ur.div,{...t,ref:i})});Mce.displayName=$ce;function Ice(t,e=globalThis?.document){const n=Ml(t),r=$.useRef(!1),i=$.useRef(()=>{});return $.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let u=function(){RZ(Pce,n,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Dce(t,e=globalThis?.document){const n=Ml(t),r=$.useRef(!1);return $.useEffect(()=>{const i=s=>{s.target&&!r.current&&RZ(Rce,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sL(){const t=new CustomEvent(tE);document.dispatchEvent(t)}function RZ(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CZ(i,s):i.dispatchEvent(s)}var Kx="focusScope.autoFocusOnMount",Hx="focusScope.autoFocusOnUnmount",aL={bubbles:!1,cancelable:!0},Qce="FocusScope",xC=$.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,u]=$.useState(null),f=Ml(i),h=Ml(s),d=$.useRef(null),m=ki(e,v=>u(v)),O=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let v=function(A){if(O.paused||!o)return;const C=A.target;o.contains(C)?d.current=C:xu(d.current,{select:!0})},w=function(A){if(O.paused||!o)return;const C=A.relatedTarget;C!==null&&(o.contains(C)||xu(d.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const I of A)I.removedNodes.length>0&&xu(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const T=new MutationObserver(k);return o&&T.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),T.disconnect()}}},[r,o,O.paused]),$.useEffect(()=>{if(o){lL.add(O);const v=document.activeElement;if(!o.contains(v)){const k=new CustomEvent(Kx,aL);o.addEventListener(Kx,f),o.dispatchEvent(k),k.defaultPrevented||(Nce(Zce($Z(o)),{select:!0}),document.activeElement===v&&xu(o))}return()=>{o.removeEventListener(Kx,f),setTimeout(()=>{const k=new CustomEvent(Hx,aL);o.addEventListener(Hx,h),o.dispatchEvent(k),k.defaultPrevented||xu(v??document.body,{select:!0}),o.removeEventListener(Hx,h),lL.remove(O)},0)}}},[o,f,h,O]);const y=$.useCallback(v=>{if(!n&&!r||O.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(w&&k){const T=v.currentTarget,[A,C]=Lce(T);A&&C?!v.shiftKey&&k===C?(v.preventDefault(),n&&xu(A,{select:!0})):v.shiftKey&&k===A&&(v.preventDefault(),n&&xu(C,{select:!0})):k===T&&v.preventDefault()}},[n,r,O.paused]);return M.jsx(Ur.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});xC.displayName=Qce;function Nce(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xu(r,{select:e}),document.activeElement!==n)return}function Lce(t){const e=$Z(t),n=oL(e,t),r=oL(e.reverse(),t);return[n,r]}function $Z(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oL(t,e){for(const n of t)if(!jce(n,{upTo:e}))return n}function jce(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Bce(t){return t instanceof HTMLInputElement&&"select"in t}function xu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Bce(t)&&e&&t.select()}}var lL=zce();function zce(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=uL(t,e),t.unshift(e)},remove(e){t=uL(t,e),t[0]?.resume()}}}function uL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Zce(t){return t.filter(e=>e.tagName!=="A")}var Uce="Portal",kC=$.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=$.useState(!1);Fu(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?aF.createPortal(M.jsx(Ur.div,{...r,ref:e}),a):null});kC.displayName=Uce;function qce(t,e){return $.useReducer((n,r)=>e[n][r]??n,t)}var oc=t=>{const{present:e,children:n}=t,r=Vce(e),i=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),s=ki(r.ref,Xce(i));return typeof n=="function"||r.isPresent?$.cloneElement(i,{ref:s}):null};oc.displayName="Presence";function Vce(t){const[e,n]=$.useState(),r=$.useRef(null),i=$.useRef(t),s=$.useRef("none"),a=t?"mounted":"unmounted",[o,u]=qce(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const f=U0(r.current);s.current=o==="mounted"?f:"none"},[o]),Fu(()=>{const f=r.current,h=i.current;if(h!==t){const m=s.current,O=U0(f);t?u("MOUNT"):O==="none"||f?.display==="none"?u("UNMOUNT"):u(h&&m!==O?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Fu(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,d=O=>{const v=U0(r.current).includes(CSS.escape(O.animationName));if(O.target===e&&v&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=O=>{O.target===e&&(s.current=U0(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:$.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function U0(t){return t?.animationName||"none"}function Xce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jx=0;function MZ(){$.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cL()),document.body.insertAdjacentElement("beforeend",t[1]??cL()),Jx++,()=>{Jx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jx--}},[])}function cL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $b="right-scroll-bar-position",Mb="width-before-scroll-bar",Fce="with-scroll-bars-hidden",Yce="--removed-body-scroll-bar-size";function ek(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Wce(t,e){var n=$.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Gce=typeof window<"u"?$.useLayoutEffect:$.useEffect,fL=new WeakMap;function Kce(t,e){var n=Wce(null,function(r){return t.forEach(function(i){return ek(i,r)})});return Gce(function(){var r=fL.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||ek(o,null)}),s.forEach(function(o){i.has(o)||ek(o,a)})}fL.set(n,t)},[t]),n}function Hce(t){return t}function Jce(t,e){e===void 0&&(e=Hce);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(h){a.push(h),f()},filter:function(h){return a=a.filter(h),n}}}};return i}function efe(t){t===void 0&&(t={});var e=Jce(null);return e.options=Po({async:!0,ssr:!1},t),e}var IZ=function(t){var e=t.sideCar,n=Zd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,Po({},n))};IZ.isSideCarExport=!0;function tfe(t,e){return t.useMedium(e),IZ}var DZ=efe(),tk=function(){},Lw=$.forwardRef(function(t,e){var n=$.useRef(null),r=$.useState({onScrollCapture:tk,onWheelCapture:tk,onTouchMoveCapture:tk}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,d=t.shards,m=t.sideCar,O=t.noRelative,y=t.noIsolation,v=t.inert,w=t.allowPinchZoom,k=t.as,T=k===void 0?"div":k,A=t.gapMode,C=Zd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,Q=Kce([n,e]),N=Po(Po({},C),i);return $.createElement($.Fragment,null,h&&$.createElement(I,{sideCar:DZ,removeScrollBar:f,shards:d,noRelative:O,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:A}),a?$.cloneElement($.Children.only(o),Po(Po({},N),{ref:Q})):$.createElement(T,Po({},N,{className:u,ref:Q}),o))});Lw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lw.classNames={fullWidth:Mb,zeroRight:$b};var nfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rfe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nfe();return e&&t.setAttribute("nonce",e),t}function ife(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sfe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var afe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rfe())&&(ife(e,n),sfe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ofe=function(){var t=afe();return function(e,n){$.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},QZ=function(){var t=ofe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},lfe={left:0,top:0,right:0,gap:0},nk=function(t){return parseInt(t||"",10)||0},ufe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[nk(n),nk(r),nk(i)]},cfe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lfe;var e=ufe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ffe=QZ(),id="data-scroll-locked",hfe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($b,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Mb,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat($b," .").concat($b,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mb," .").concat(Mb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(id,`] {
    `).concat(Yce,": ").concat(o,`px;
  }
`)},hL=function(){var t=parseInt(document.body.getAttribute(id)||"0",10);return isFinite(t)?t:0},dfe=function(){$.useEffect(function(){return document.body.setAttribute(id,(hL()+1).toString()),function(){var t=hL()-1;t<=0?document.body.removeAttribute(id):document.body.setAttribute(id,t.toString())}},[])},pfe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;dfe();var s=$.useMemo(function(){return cfe(i)},[i]);return $.createElement(ffe,{styles:hfe(s,!e,i,n?"":"!important")})},nE=!1;if(typeof window<"u")try{var q0=Object.defineProperty({},"passive",{get:function(){return nE=!0,!0}});window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{nE=!1}var Sh=nE?{passive:!1}:!1,mfe=function(t){return t.tagName==="TEXTAREA"},NZ=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mfe(t)&&n[e]==="visible")},gfe=function(t){return NZ(t,"overflowY")},Ofe=function(t){return NZ(t,"overflowX")},dL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=LZ(t,r);if(i){var s=jZ(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yfe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vfe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LZ=function(t,e){return t==="v"?gfe(e):Ofe(e)},jZ=function(t,e){return t==="v"?yfe(e):vfe(e)},bfe=function(t,e){return t==="h"&&e==="rtl"?-1:1},_fe=function(t,e,n,r,i){var s=bfe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,u=e.contains(o),f=!1,h=a>0,d=0,m=0;do{if(!o)break;var O=jZ(t,o),y=O[0],v=O[1],w=O[2],k=v-w-s*y;(y||k)&&LZ(t,o)&&(d+=k,m+=y);var T=o.parentNode;o=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&o!==document.body||u&&(e.contains(o)||e===o));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(f=!0),f},V0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pL=function(t){return[t.deltaX,t.deltaY]},mL=function(t){return t&&"current"in t?t.current:t},wfe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Sfe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xfe=0,xh=[];function kfe(t){var e=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),i=$.useState(xfe++)[0],s=$.useState(QZ)[0],a=$.useRef(t);$.useEffect(function(){a.current=t},[t]),$.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Uu([t.lockRef.current],(t.shards||[]).map(mL),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=$.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var k=V0(v),T=n.current,A="deltaX"in v?v.deltaX:T[0]-k[0],C="deltaY"in v?v.deltaY:T[1]-k[1],I,Q=v.target,N=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in v&&N==="h"&&Q.type==="range")return!1;var j=window.getSelection(),q=j&&j.anchorNode,oe=q?q===Q||q.contains(Q):!1;if(oe)return!1;var we=dL(N,Q);if(!we)return!0;if(we?I=N:(I=N==="v"?"h":"v",we=dL(N,Q)),!we)return!1;if(!r.current&&"changedTouches"in v&&(A||C)&&(r.current=I),!I)return!0;var K=r.current||I;return _fe(K,w,v,K==="h"?A:C)},[]),u=$.useCallback(function(v){var w=v;if(!(!xh.length||xh[xh.length-1]!==s)){var k="deltaY"in w?pL(w):V0(w),T=e.current.filter(function(I){return I.name===w.type&&(I.target===w.target||w.target===I.shadowParent)&&wfe(I.delta,k)})[0];if(T&&T.should){w.cancelable&&w.preventDefault();return}if(!T){var A=(a.current.shards||[]).map(mL).filter(Boolean).filter(function(I){return I.contains(w.target)}),C=A.length>0?o(w,A[0]):!a.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),f=$.useCallback(function(v,w,k,T){var A={name:v,delta:w,target:k,should:T,shadowParent:Tfe(k)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(C){return C!==A})},1)},[]),h=$.useCallback(function(v){n.current=V0(v),r.current=void 0},[]),d=$.useCallback(function(v){f(v.type,pL(v),v.target,o(v,t.lockRef.current))},[]),m=$.useCallback(function(v){f(v.type,V0(v),v.target,o(v,t.lockRef.current))},[]);$.useEffect(function(){return xh.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Sh),document.addEventListener("touchmove",u,Sh),document.addEventListener("touchstart",h,Sh),function(){xh=xh.filter(function(v){return v!==s}),document.removeEventListener("wheel",u,Sh),document.removeEventListener("touchmove",u,Sh),document.removeEventListener("touchstart",h,Sh)}},[]);var O=t.removeScrollBar,y=t.inert;return $.createElement($.Fragment,null,y?$.createElement(s,{styles:Sfe(i)}):null,O?$.createElement(pfe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Tfe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Efe=tfe(DZ,kfe);var TC=$.forwardRef(function(t,e){return $.createElement(Lw,Po({},t,{ref:e,sideCar:Efe}))});TC.classNames=Lw.classNames;var Afe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},kh=new WeakMap,X0=new WeakMap,F0={},rk=0,BZ=function(t){return t&&(t.host||BZ(t.parentNode))},Cfe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=BZ(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Pfe=function(t,e,n,r){var i=Cfe(e,Array.isArray(t)?t:[t]);F0[n]||(F0[n]=new WeakMap);var s=F0[n],a=[],o=new Set,u=new Set(i),f=function(d){!d||o.has(d)||(o.add(d),f(d.parentNode))};i.forEach(f);var h=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(m){if(o.has(m))h(m);else try{var O=m.getAttribute(r),y=O!==null&&O!=="false",v=(kh.get(m)||0)+1,w=(s.get(m)||0)+1;kh.set(m,v),s.set(m,w),a.push(m),v===1&&y&&X0.set(m,!0),w===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",m,k)}})};return h(e),o.clear(),rk++,function(){a.forEach(function(d){var m=kh.get(d)-1,O=s.get(d)-1;kh.set(d,m),s.set(d,O),m||(X0.has(d)||d.removeAttribute(r),X0.delete(d)),O||d.removeAttribute(n)}),rk--,rk||(kh=new WeakMap,kh=new WeakMap,X0=new WeakMap,F0={})}},zZ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Afe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Pfe(r,i,n,"aria-hidden")):function(){return null}},jw="Dialog",[ZZ]=Fd(jw),[Rfe,ro]=ZZ(jw),UZ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=$.useRef(null),u=$.useRef(null),[f,h]=wC({prop:r,defaultProp:i??!1,onChange:s,caller:jw});return M.jsx(Rfe,{scope:e,triggerRef:o,contentRef:u,contentId:rd(),titleId:rd(),descriptionId:rd(),open:f,onOpenChange:h,onOpenToggle:$.useCallback(()=>h(d=>!d),[h]),modal:a,children:n})};UZ.displayName=jw;var qZ="DialogTrigger",$fe=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(qZ,n),s=ki(e,i.triggerRef);return M.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CC(i.open),...r,ref:s,onClick:Ut(t.onClick,i.onOpenToggle)})});$fe.displayName=qZ;var EC="DialogPortal",[Mfe,VZ]=ZZ(EC,{forceMount:void 0}),XZ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ro(EC,e);return M.jsx(Mfe,{scope:e,forceMount:n,children:$.Children.map(r,a=>M.jsx(oc,{present:n||s.open,children:M.jsx(kC,{asChild:!0,container:i,children:a})}))})};XZ.displayName=EC;var E_="DialogOverlay",FZ=$.forwardRef((t,e)=>{const n=VZ(E_,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ro(E_,t.__scopeDialog);return s.modal?M.jsx(oc,{present:r||s.open,children:M.jsx(Dfe,{...i,ref:e})}):null});FZ.displayName=E_;var Ife=Og("DialogOverlay.RemoveScroll"),Dfe=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(E_,n);return M.jsx(TC,{as:Ife,allowPinchZoom:!0,shards:[i.contentRef],children:M.jsx(Ur.div,{"data-state":CC(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),cf="DialogContent",YZ=$.forwardRef((t,e)=>{const n=VZ(cf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ro(cf,t.__scopeDialog);return M.jsx(oc,{present:r||s.open,children:s.modal?M.jsx(Qfe,{...i,ref:e}):M.jsx(Nfe,{...i,ref:e})})});YZ.displayName=cf;var Qfe=$.forwardRef((t,e)=>{const n=ro(cf,t.__scopeDialog),r=$.useRef(null),i=ki(e,n.contentRef,r);return $.useEffect(()=>{const s=r.current;if(s)return zZ(s)},[]),M.jsx(WZ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ut(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ut(t.onFocusOutside,s=>s.preventDefault())})}),Nfe=$.forwardRef((t,e)=>{const n=ro(cf,t.__scopeDialog),r=$.useRef(!1),i=$.useRef(!1);return M.jsx(WZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WZ=$.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=ro(cf,n),u=$.useRef(null),f=ki(e,u);return MZ(),M.jsxs(M.Fragment,{children:[M.jsx(xC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:M.jsx(SC,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":CC(o.open),...a,ref:f,onDismiss:()=>o.onOpenChange(!1)})}),M.jsxs(M.Fragment,{children:[M.jsx(jfe,{titleId:o.titleId}),M.jsx(zfe,{contentRef:u,descriptionId:o.descriptionId})]})]})}),AC="DialogTitle",GZ=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(AC,n);return M.jsx(Ur.h2,{id:i.titleId,...r,ref:e})});GZ.displayName=AC;var KZ="DialogDescription",Lfe=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(KZ,n);return M.jsx(Ur.p,{id:i.descriptionId,...r,ref:e})});Lfe.displayName=KZ;var HZ="DialogClose",JZ=$.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ro(HZ,n);return M.jsx(Ur.button,{type:"button",...r,ref:e,onClick:Ut(t.onClick,()=>i.onOpenChange(!1))})});JZ.displayName=HZ;function CC(t){return t?"open":"closed"}var e4="DialogTitleWarning",[lPe,t4]=mce(e4,{contentName:cf,titleName:AC,docsSlug:"dialog"}),jfe=({titleId:t})=>{const e=t4(e4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return $.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Bfe="DialogDescriptionWarning",zfe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t4(Bfe).contentName}}.`;return $.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Zfe=UZ,Ufe=XZ,qfe=FZ,Vfe=YZ,n4=GZ,Xfe=JZ,Ffe=Symbol.for("react.lazy"),A_=PA[" use ".trim().toString()];function Yfe(t){return typeof t=="object"&&t!==null&&"then"in t}function r4(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Ffe&&"_payload"in t&&Yfe(t._payload)}function Wfe(t){const e=Gfe(t),n=$.forwardRef((r,i)=>{let{children:s,...a}=r;r4(s)&&typeof A_=="function"&&(s=A_(s._payload));const o=$.Children.toArray(s),u=o.find(Hfe);if(u){const f=u.props.children,h=o.map(d=>d===u?$.Children.count(f)>1?$.Children.only(null):$.isValidElement(f)?f.props.children:null:d);return M.jsx(e,{...a,ref:i,children:$.isValidElement(f)?$.cloneElement(f,void 0,h):null})}return M.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Gfe(t){const e=$.forwardRef((n,r)=>{let{children:i,...s}=n;if(r4(i)&&typeof A_=="function"&&(i=A_(i._payload)),$.isValidElement(i)){const a=ehe(i),o=Jfe(s,i.props);return i.type!==$.Fragment&&(o.ref=r?fO(r,a):a),$.cloneElement(i,o)}return $.Children.count(i)>1?$.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kfe=Symbol("radix.slottable");function Hfe(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kfe}function Jfe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ehe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var the=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nhe=the.reduce((t,e)=>{const n=Wfe(`Primitive.${e}`),r=$.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(u,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),rhe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ihe="VisuallyHidden",i4=$.forwardRef((t,e)=>M.jsx(nhe.span,{...t,ref:e,style:{...rhe,...t.style}}));i4.displayName=ihe;const she="_overlay_pmgw9_1",ahe="_content_pmgw9_11",rE={overlay:she,"sheet-fade-in":"_sheet-fade-in_pmgw9_1",content:ahe,"content--left":"_content--left_pmgw9_24","sheet-slide-in-left":"_sheet-slide-in-left_pmgw9_1","content--right":"_content--right_pmgw9_32","sheet-slide-in-right":"_sheet-slide-in-right_pmgw9_1","content--top":"_content--top_pmgw9_40","sheet-slide-in-top":"_sheet-slide-in-top_pmgw9_1","content--bottom":"_content--bottom_pmgw9_48","sheet-slide-in-bottom":"_sheet-slide-in-bottom_pmgw9_1"},PC=Zfe,s4=Xfe,ohe=Ufe,a4=$.forwardRef(({className:t,zIndex:e,...n},r)=>M.jsx(qfe,{ref:r,className:[rE.overlay,t].filter(Boolean).join(" "),style:{zIndex:e},...n}));a4.displayName="SheetOverlay";const Bw=$.forwardRef(({side:t="right",className:e,children:n,zIndex:r,overlayClassName:i,ariaLabel:s="Sheet",asChild:a,onPointerDownOutside:o,...u},f)=>{const h=$.useRef(null),d=$.useRef(null),m=$.useCallback(O=>{h.current=O,typeof f=="function"?f(O):f&&(f.current=O)},[f]);return M.jsxs(ohe,{children:[M.jsx(a4,{ref:d,zIndex:r,className:i}),M.jsxs(Vfe,{ref:m,className:[rE.content,rE[`content--${t}`],e].filter(Boolean).join(" "),style:{zIndex:r},onPointerDownOutside:o,asChild:a,...u,children:[!a&&M.jsx(i4,{children:M.jsx(n4,{children:s})}),n]})]})});Bw.displayName="SheetContent";const o4=n4,lhe="_toast_snal4_1",uhe="_toastCard_snal4_11",gL={toast:lhe,toastCard:uhe};let iE=null,ik=null;const sE=new Set,OL=()=>{sE.forEach(t=>t())},che=t=>(sE.add(t),()=>{sE.delete(t)}),fhe=()=>iE,hhe=()=>null,zw=t=>{iE={id:Date.now(),message:t},OL(),ik&&clearTimeout(ik),ik=setTimeout(()=>{iE=null,OL()},4e3)};function dhe(){const t=$.useSyncExternalStore(che,fhe,hhe);return t?M.jsx("div",{className:gL.toast,role:"status","aria-live":"polite","aria-atomic":"true",children:M.jsx("div",{className:gL.toastCard,children:t.message},t.id)}):null}function phe(t){const e=new Date;e.setHours(0,0,0,0);const n=e.toISOString();return t.updated_at>=n||t.created_at>=n}function mhe(t){return(t.content??"").includes("- [ ]")}function l4(){const{db:t,isReady:e}=ac(),[n,r]=$.useState({all:0,todo:0,today:0,locked:0,pinned:0,trash:0});return $.useEffect(()=>{if(!t||!e)return;const i=t.notes.find({selector:{is_trashed:!1}}).$.subscribe(a=>{const o=a.map(u=>u.toJSON());r(u=>({...u,all:o.length,today:o.filter(phe).length,todo:o.filter(mhe).length,pinned:o.filter(f=>f.is_pinned).length,locked:0}))}),s=t.notes.find({selector:{is_trashed:!0}}).$.subscribe(a=>{r(o=>({...o,trash:a.length}))});return()=>{i.unsubscribe(),s.unsubscribe()}},[t,e]),n}const ghe="_sheet_19n5j_1",Ohe="_handle_19n5j_9",yhe="_tabs_19n5j_18",vhe="_tab_19n5j_18",bhe="_tabActive_19n5j_49",_he="_content_19n5j_57",whe="_list_19n5j_64",She="_row_19n5j_71",xhe="_rowDisabled_19n5j_101",khe="_rowLabel_19n5j_105",The="_rowCount_19n5j_111",Ehe="_rowSoon_19n5j_116",Ahe="_rowCaret_19n5j_127",Sr={sheet:ghe,handle:Ohe,tabs:yhe,tab:vhe,tabActive:bhe,content:_he,list:whe,row:She,rowDisabled:xhe,rowLabel:khe,rowCount:The,rowSoon:Ehe,rowCaret:Ahe},Che=[{id:"all",label:"Notes"},{id:"todo",label:"Todo"},{id:"today",label:"Today"},{id:"pinned",label:"Pinned"},{id:"locked",label:"Locked",comingSoon:!0},{id:"trash",label:"Trash"}];function Phe({open:t,onOpenChange:e}){const[n,r]=$.useState("notes"),{pushLayer:i}=nc(),s=l4(),a=f=>{if(f.comingSoon){zw(`${f.label} is coming soon`);return}e(!1),i({view:"notes-list",group:f.id})},o=()=>{e(!1),i({view:"tasks-list"})},u=()=>{e(!1),i({view:"plans-list"})};return M.jsx(PC,{open:t,onOpenChange:e,children:M.jsxs(Bw,{side:"bottom",ariaLabel:"Context",className:Sr.sheet,children:[M.jsx("div",{className:Sr.handle}),M.jsx("div",{className:Sr.tabs,children:["notes","tasks","plans"].map(f=>M.jsx("button",{type:"button",className:`${Sr.tab} ${n===f?Sr.tabActive:""}`,onClick:()=>r(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),M.jsxs("div",{className:Sr.content,children:[n==="notes"&&M.jsx("div",{className:Sr.list,children:Che.map(f=>M.jsxs("button",{type:"button",className:`${Sr.row} ${f.comingSoon?Sr.rowDisabled:""}`,onClick:()=>a(f),children:[M.jsx("span",{className:Sr.rowLabel,children:f.label}),s[f.id]>0&&!f.comingSoon?M.jsx("span",{className:Sr.rowCount,children:s[f.id]}):null,f.comingSoon?M.jsx("span",{className:Sr.rowSoon,children:"Soon"}):M.jsx("span",{className:Sr.rowCaret,"aria-hidden":"true",children:""})]},f.id))}),n==="tasks"&&M.jsx("div",{className:Sr.list,children:M.jsxs("button",{type:"button",className:Sr.row,onClick:o,children:[M.jsx("span",{className:Sr.rowLabel,children:"All Tasks"}),M.jsx("span",{className:Sr.rowCaret,"aria-hidden":"true",children:""})]})}),n==="plans"&&M.jsx("div",{className:Sr.list,children:M.jsxs("button",{type:"button",className:Sr.row,onClick:u,children:[M.jsx("span",{className:Sr.rowLabel,children:"All Plans"}),M.jsx("span",{className:Sr.rowCaret,"aria-hidden":"true",children:""})]})})]})]})})}const jt={"focus-sheet__content":"_focus-sheet__content_1ri3r_1","focus-sheet__header":"_focus-sheet__header_1ri3r_16","focus-sheet__title":"_focus-sheet__title_1ri3r_22","focus-sheet__close":"_focus-sheet__close_1ri3r_27","focus-sheet__icon":"_focus-sheet__icon_1ri3r_44","focus-sheet__status":"_focus-sheet__status_1ri3r_49","focus-sheet__elapsed":"_focus-sheet__elapsed_1ri3r_54","focus-sheet__state":"_focus-sheet__state_1ri3r_60","focus-sheet__activity":"_focus-sheet__activity_1ri3r_75","focus-sheet__activity-label":"_focus-sheet__activity-label_1ri3r_84","focus-sheet__activity-title":"_focus-sheet__activity-title_1ri3r_91","focus-sheet__activity-subtitle":"_focus-sheet__activity-subtitle_1ri3r_99","focus-sheet__badge":"_focus-sheet__badge_1ri3r_104","focus-sheet__new":"_focus-sheet__new_1ri3r_114","focus-sheet__toggle":"_focus-sheet__toggle_1ri3r_119","focus-sheet__toggle-button":"_focus-sheet__toggle-button_1ri3r_124","focus-sheet__field":"_focus-sheet__field_1ri3r_142","focus-sheet__field-label":"_focus-sheet__field-label_1ri3r_147","focus-sheet__input":"_focus-sheet__input_1ri3r_154","focus-sheet__suggestions":"_focus-sheet__suggestions_1ri3r_163","focus-sheet__suggestion":"_focus-sheet__suggestion_1ri3r_163","focus-sheet__confirm":"_focus-sheet__confirm_1ri3r_190","focus-sheet__confirm-text":"_focus-sheet__confirm-text_1ri3r_199","focus-sheet__confirm-actions":"_focus-sheet__confirm-actions_1ri3r_204","focus-sheet__actions":"_focus-sheet__actions_1ri3r_209","focus-sheet__button":"_focus-sheet__button_1ri3r_214","focus-sheet__button--primary":"_focus-sheet__button--primary_1ri3r_224","focus-sheet__button--danger":"_focus-sheet__button--danger_1ri3r_230"};function Rhe({open:t,onOpenChange:e,state:n,elapsedLabel:r,activityLabel:i,projectLabel:s,isUnplanned:a=!1,taskOptions:o,unplannedSuggestions:u,onStart:f,onPause:h,onResume:d,onStop:m}){const[O,y]=$.useState("planned"),[v,w]=$.useState(""),[k,T]=$.useState(""),[A,C]=$.useState(null),[I,Q]=$.useState(!1),N=$.useMemo(()=>O==="planned"?!!v:!!k.trim(),[O,k,v]),j=$.useMemo(()=>Mhe(k),[k]),q=$.useMemo(()=>O!=="unplanned"?[]:j?u.filter(Ee=>Ee.normalized.startsWith(j)).slice(0,7):[],[O,j,u]),oe=n==="running"?"Running":n==="paused"?"Paused":"Idle",we=$.useCallback(()=>{y("planned"),w(""),T(""),C(null),Q(!1)},[]),K=async()=>{if(!N)return;const Ee=O==="planned"?{entryType:"planned",taskId:v}:{entryType:"unplanned",label:k.trim()};if((await f(Ee)).blocked){C(Ee),Q(!0);return}we()},Ae=async()=>{A&&(await f(A,{force:!0}),we())};return M.jsx(PC,{open:t,onOpenChange:e,children:M.jsxs(Bw,{side:"bottom",className:jt["focus-sheet__content"],"aria-label":"Focus timer",children:[M.jsxs("header",{className:jt["focus-sheet__header"],children:[M.jsx(o4,{className:jt["focus-sheet__title"],children:"Focus"}),M.jsx(s4,{asChild:!0,children:M.jsx("button",{type:"button",className:jt["focus-sheet__close"],"aria-label":"Close focus sheet",children:M.jsx($he,{})})})]}),M.jsxs("div",{className:jt["focus-sheet__status"],children:[M.jsx("div",{className:jt["focus-sheet__elapsed"],children:r}),M.jsx("div",{className:jt["focus-sheet__state"],"data-state":n,children:oe})]}),M.jsxs("div",{className:jt["focus-sheet__activity"],children:[M.jsx("div",{className:jt["focus-sheet__activity-label"],children:"Activity"}),M.jsxs("div",{className:jt["focus-sheet__activity-title"],children:[i,a?M.jsx("span",{className:jt["focus-sheet__badge"],children:"u"}):null]}),s?M.jsx("div",{className:jt["focus-sheet__activity-subtitle"],children:s}):null]}),M.jsxs("section",{className:jt["focus-sheet__new"],children:[M.jsx("div",{className:jt["focus-sheet__activity-label"],children:"Start new"}),M.jsxs("div",{className:jt["focus-sheet__toggle"],children:[M.jsx("button",{type:"button",className:jt["focus-sheet__toggle-button"],"data-active":O==="planned",onClick:()=>y("planned"),children:"Planned"}),M.jsx("button",{type:"button",className:jt["focus-sheet__toggle-button"],"data-active":O==="unplanned",onClick:()=>y("unplanned"),children:"Unplanned"})]}),O==="planned"?M.jsxs("label",{className:jt["focus-sheet__field"],children:[M.jsx("span",{className:jt["focus-sheet__field-label"],children:"Task"}),M.jsxs("select",{className:jt["focus-sheet__input"],value:v,onChange:Ee=>w(Ee.target.value),children:[M.jsx("option",{value:"",children:"Select a task"}),o.map(Ee=>M.jsxs("option",{value:Ee.id,children:[Ee.title,Ee.projectTitle?`  ${Ee.projectTitle}`:""]},Ee.id))]})]}):M.jsxs("label",{className:jt["focus-sheet__field"],children:[M.jsx("span",{className:jt["focus-sheet__field-label"],children:"Label"}),M.jsx("input",{className:jt["focus-sheet__input"],value:k,onChange:Ee=>T(Ee.target.value),placeholder:"Walk, call, research"}),q.length>0?M.jsx("div",{className:jt["focus-sheet__suggestions"],children:q.map(Ee=>M.jsx("button",{type:"button",className:jt["focus-sheet__suggestion"],onClick:()=>T(Ee.label),children:Ee.label},Ee.normalized))}):null]}),M.jsx("button",{type:"button",className:`${jt["focus-sheet__button"]} ${jt["focus-sheet__button--primary"]}`,onClick:K,disabled:!N,children:"Start"})]}),I?M.jsxs("section",{className:jt["focus-sheet__confirm"],children:[M.jsx("div",{className:jt["focus-sheet__confirm-text"],children:"An active timer is running. Stop it to start a new one."}),M.jsxs("div",{className:jt["focus-sheet__confirm-actions"],children:[M.jsx("button",{type:"button",className:`${jt["focus-sheet__button"]} ${jt["focus-sheet__button--danger"]}`,onClick:Ae,children:"Stop & Start New"}),M.jsx("button",{type:"button",className:jt["focus-sheet__button"],onClick:()=>Q(!1),children:"Cancel"})]})]}):null,M.jsxs("div",{className:jt["focus-sheet__actions"],children:[n==="running"?M.jsxs(M.Fragment,{children:[M.jsx("button",{type:"button",className:jt["focus-sheet__button"],onClick:h,children:"Pause"}),M.jsx("button",{type:"button",className:`${jt["focus-sheet__button"]} ${jt["focus-sheet__button--danger"]}`,onClick:m,children:"Stop"})]}):null,n==="paused"?M.jsxs(M.Fragment,{children:[M.jsx("button",{type:"button",className:`${jt["focus-sheet__button"]} ${jt["focus-sheet__button--primary"]}`,onClick:d,children:"Resume"}),M.jsx("button",{type:"button",className:`${jt["focus-sheet__button"]} ${jt["focus-sheet__button--danger"]}`,onClick:m,children:"Stop"})]}):null]})]})})}function $he(){return M.jsxs("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:jt["focus-sheet__icon"],fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[M.jsx("path",{d:"M6 6l12 12"}),M.jsx("path",{d:"M18 6l-12 12"})]})}function Mhe(t){return t.trim().toLowerCase()}const Ihe="_backdrop_1px6m_1",Dhe="_container_1px6m_10",Qhe="_header_1px6m_21",Nhe="_headerTitle_1px6m_27",Lhe="_remaining_1px6m_34",jhe="_closeButton_1px6m_39",Bhe="_titleInput_1px6m_55",zhe="_bodyPreview_1px6m_72",Zhe="_extractButton_1px6m_86",Uhe="_actions_1px6m_103",qhe="_actionButton_1px6m_110",Vhe="_actionButtonPrimary_1px6m_127",Xhe="_actionButtonDanger_1px6m_133",Fhe="_emptyState_1px6m_138",Yhe="_emptyTitle_1px6m_147",Whe="_emptySubtitle_1px6m_153",Mn={backdrop:Ihe,container:Dhe,header:Qhe,headerTitle:Nhe,remaining:Lhe,closeButton:jhe,titleInput:Bhe,bodyPreview:zhe,extractButton:Zhe,actions:Uhe,actionButton:qhe,actionButtonPrimary:Vhe,actionButtonDanger:Xhe,emptyState:Fhe,emptyTitle:Yhe,emptySubtitle:Whe};function Ghe({open:t,onOpenChange:e}){const{db:n,isReady:r}=ac(),[i,s]=$.useState([]),[a,o]=$.useState("");if($.useEffect(()=>{if(!n||!r)return;const v=n.notes.find({selector:{inbox_at:{$ne:null},is_trashed:!1},sort:[{inbox_at:"asc"},{id:"asc"}]}).$.subscribe(w=>{const k=w.map(A=>A.toJSON());if(s(k),k.length===0){o("");return}const T=k[0];o(Sd(T.content,T.title))});return()=>v.unsubscribe()},[n,r]),$.useEffect(()=>{if(!t)return;const v=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=v}},[t]),!t)return null;const u=i[0],f=i.length,h=async()=>{if(!n||!u)return;const v=await n.notes.findOne(u.id).exec();v&&await v.patch({title:a.trim()||"Untitled",inbox_at:null,updated_at:new Date().toISOString()})},d=async()=>{if(!n||!u)return;const v=new Date().toISOString();await n.tasks.insert({id:_l(),project_id:null,title:a.trim()||"Untitled",description:u.content,status:"backlog",completed:!1,due_date:null,created_at:v,updated_at:v,is_trashed:!1,trashed_at:null});const w=await n.notes.findOne(u.id).exec();w&&await w.patch({is_trashed:!0,trashed_at:v,inbox_at:null,updated_at:v})},m=async()=>{if(!n||!u)return;const v=new Date().toISOString();await n.projects.insert({id:_l(),title:a.trim()||"Untitled",description:null,status:"backlog",start_date:null,due_date:null,created_at:v,updated_at:v,is_trashed:!1,trashed_at:null});const w=await n.notes.findOne(u.id).exec();w&&await w.patch({is_trashed:!0,trashed_at:v,inbox_at:null,updated_at:v})},O=async()=>{if(!n||!u)return;const v=new Date().toISOString(),w=await n.notes.findOne(u.id).exec();w&&await w.patch({is_trashed:!0,trashed_at:v,inbox_at:null,updated_at:v})},y=()=>{u&&o(AZ(u.content))};return f===0?M.jsx("div",{className:Mn.backdrop,children:M.jsxs("div",{className:Mn.container,children:[M.jsxs("div",{className:Mn.header,children:[M.jsx("span",{className:Mn.headerTitle,children:"Inbox"}),M.jsx("button",{type:"button",className:Mn.closeButton,onClick:()=>e(!1),children:"Close"})]}),M.jsxs("div",{className:Mn.emptyState,children:[M.jsx("div",{className:Mn.emptyTitle,children:"Inbox empty"}),M.jsx("div",{className:Mn.emptySubtitle,children:"All items have been processed"}),M.jsx("button",{type:"button",className:`${Mn.actionButton} ${Mn.actionButtonPrimary}`,onClick:()=>e(!1),children:"Done"})]})]})}):M.jsx("div",{className:Mn.backdrop,children:M.jsxs("div",{className:Mn.container,children:[M.jsxs("div",{className:Mn.header,children:[M.jsx("span",{className:Mn.headerTitle,children:"Inbox"}),M.jsxs("span",{className:Mn.remaining,children:[f," remaining"]}),M.jsx("button",{type:"button",className:Mn.closeButton,onClick:()=>e(!1),children:"Close"})]}),M.jsx("input",{type:"text",className:Mn.titleInput,value:a,onChange:v=>o(v.target.value),placeholder:"Title"}),M.jsx("button",{type:"button",className:Mn.extractButton,onClick:y,children:"Use first line as title"}),M.jsx("div",{className:Mn.bodyPreview,children:u?.content||"(empty)"}),M.jsxs("div",{className:Mn.actions,children:[M.jsx("button",{type:"button",className:`${Mn.actionButton} ${Mn.actionButtonPrimary}`,onClick:h,children:"Keep"}),M.jsx("button",{type:"button",className:Mn.actionButton,onClick:d,children:"To Task"}),M.jsx("button",{type:"button",className:Mn.actionButton,onClick:m,children:"To Project"}),M.jsx("button",{type:"button",className:`${Mn.actionButton} ${Mn.actionButtonDanger}`,onClick:O,children:"Trash"})]})]})})}function Khe(){const{stack:t}=Vg();return M.jsx(M.Fragment,{children:t.map(e=>{switch(e.view){case"task-detail":case"plan-detail":return null;default:return null}})})}const sk="personal-os:paused-focus",ak="personal-os:timer-accumulated-seconds",Hhe=["planned","unplanned"],Jhe=t=>Hhe.includes(t),ede=t=>{if(!t)return null;try{const e=JSON.parse(t);return!e||typeof e!="object"||!e.stoppedAt||!e.entryType||!Jhe(e.entryType)||e.entryType==="unplanned"&&!e.label||typeof e.accumulatedSeconds!="number"?null:{entryType:e.entryType,taskId:e.taskId??null,label:e.label??null,sessionId:e.sessionId??null,accumulatedSeconds:e.accumulatedSeconds,stoppedAt:e.stoppedAt}}catch{return null}},yL=t=>t.trim().toLowerCase(),tde=t=>{const e=Math.max(0,Math.floor(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,s=String(r).padStart(2,"0"),a=String(i).padStart(2,"0");return n>0?`${n}:${s}:${a}`:`${s}:${a}`},nde=(t,e)=>{const n=new Date(t).getTime(),r=new Date(e).getTime();return Number.isNaN(n)||Number.isNaN(r)?0:Math.max(0,Math.floor((r-n)/1e3))};function rde(){const{db:t,isReady:e}=ac(),[n,r]=$.useState(null),[i,s]=$.useState(()=>typeof window>"u"?null:ede(window.localStorage.getItem(sk))),[a,o]=$.useState(()=>{if(typeof window>"u")return 0;const he=window.localStorage.getItem(ak),z=Number(he);return Number.isFinite(z)&&z>0?z:0}),[u,f]=$.useState([]),[h,d]=$.useState([]),[m,O]=$.useState([]),[y,v]=$.useState(0),w=$.useCallback(he=>{s(he),!(typeof window>"u")&&(he?window.localStorage.setItem(sk,JSON.stringify(he)):window.localStorage.removeItem(sk))},[]),k=$.useCallback(he=>{const z=Math.max(0,Math.floor(he));o(z),!(typeof window>"u")&&(z>0?window.localStorage.setItem(ak,String(z)):window.localStorage.removeItem(ak))},[]);$.useEffect(()=>{if(!e||!t)return;const he=t.tasks.find({selector:{is_trashed:!1},sort:[{updated_at:"desc"},{id:"asc"}]}).$.subscribe(z=>{f(z.map(ne=>ne.toJSON()))});return()=>he.unsubscribe()},[t,e]),$.useEffect(()=>{if(!e||!t)return;const he=t.projects.find({selector:{is_trashed:!1},sort:[{updated_at:"desc"},{id:"asc"}]}).$.subscribe(z=>{d(z.map(ne=>ne.toJSON()))});return()=>he.unsubscribe()},[t,e]),$.useEffect(()=>{if(!e||!t)return;const he=new Date(Date.now()-1440*60*60*1e3).toISOString(),z=t.time_entries.find({selector:{is_trashed:!1,entry_type:"unplanned",started_at:{$gte:he}},sort:[{started_at:"desc"},{id:"asc"}]}).$.subscribe(ne=>{O(ne.map(ge=>ge.toJSON()))});return()=>z.unsubscribe()},[t,e]);const T=$.useCallback(async he=>{if(!t)return null;const z=new Date().toISOString(),ne=nde(he.started_at,z),ge=he.session_id??_l(),Pe=await t.time_entries.findOne(he.id).exec();return Pe?(await Pe.patch({stopped_at:z,duration_seconds:ne,session_id:ge,updated_at:z}),{durationSeconds:ne,stoppedAt:z,sessionId:ge}):null},[t]);$.useEffect(()=>{if(!e||!t)return;const he=t.time_entries.find({selector:{is_trashed:!1,stopped_at:null},sort:[{started_at:"desc"},{id:"asc"}]}).$.subscribe(z=>{const ne=z.map(Pe=>Pe.toJSON());if(ne.length>1){const[Pe,...De]=ne;r(Pe),v(Date.now()),i&&w(null),De.forEach(tt=>{T(tt)});return}const ge=ne[0]??null;r(ge),ge&&i&&(v(Date.now()),w(null)),ge&&!i&&v(Date.now())});return()=>he.unsubscribe()},[t,e,i,w,T]),$.useEffect(()=>{if(!n)return;const he=window.setInterval(()=>{v(Date.now())},1e3);return()=>window.clearInterval(he)},[n]);const A=$.useMemo(()=>new Map(h.map(he=>[he.id,he])),[h]),C=$.useMemo(()=>new Map(u.map(he=>[he.id,he])),[u]),I=$.useMemo(()=>n?{entryType:n.entry_type,taskId:n.task_id??null,label:n.label??null}:i?{entryType:i.entryType,taskId:i.taskId,label:i.label}:null,[n,i]),Q=I?.taskId?C.get(I.taskId)??null:null,N=Q?.project_id?A.get(Q.project_id)??null:null,j=n?"running":i?"paused":"idle",q=$.useMemo(()=>{if(n){const he=y,z=new Date(n.started_at).getTime();if(Number.isNaN(z))return a;const ne=Math.max(0,Math.floor((he-z)/1e3));return a+ne}return i?a:0},[n,a,i,y]),oe=tde(q),we=$.useMemo(()=>I?I.entryType==="unplanned"?I.label??"Unplanned entry":Q?.title??"Select a task":"Select a task or add an unplanned entry",[I,Q]),K=N?.title??null,Ae=I?.entryType==="unplanned",Ee=$.useMemo(()=>u.map(he=>({id:he.id,title:he.title,projectTitle:he.project_id?A.get(he.project_id)?.title??null:null})),[u,A]),Be=$.useMemo(()=>{const he=new Map;return m.forEach(z=>{const ne=z.label??"",ge=z.label_normalized??(ne?yL(ne):"");if(!ge)return;const Pe=new Date(z.started_at).getTime(),De=he.get(ge);if(!De){he.set(ge,{label:ne||ge,normalized:ge,count:1,lastUsedAt:Number.isFinite(Pe)?Pe:0});return}De.count+=1,Number.isFinite(Pe)&&Pe>De.lastUsedAt&&(De.lastUsedAt=Pe,ne&&(De.label=ne))}),Array.from(he.values()).sort((z,ne)=>ne.count!==z.count?ne.count-z.count:ne.lastUsedAt-z.lastUsedAt).map(({label:z,normalized:ne})=>({label:z,normalized:ne}))},[m]),G=$.useCallback(async(he,z)=>{if(!t)return{ok:!1};if(n&&!z?.force)return{ok:!1,blocked:!0};n&&z?.force&&await T(n);const ne=new Date().toISOString(),ge=z?.sessionId??_l(),Pe=he.entryType==="unplanned"?he.label.trim():null,De=Pe?yL(Pe):null,tt={id:_l(),task_id:he.entryType==="planned"?he.taskId:null,session_id:ge,entry_type:he.entryType,label:Pe,label_normalized:De,started_at:ne,stopped_at:null,duration_seconds:null,created_at:ne,updated_at:ne,is_trashed:!1,trashed_at:null};return await t.time_entries.insert(tt),w(null),z?.preserveAccumulated||k(0),{ok:!0}},[n,t,k,w,T]),ye=$.useCallback(async()=>{if(!n)return;const he=await T(n);if(!he)return;const z=a+he.durationSeconds;k(z),w({entryType:n.entry_type,taskId:n.task_id??null,label:n.label??null,sessionId:he.sessionId,accumulatedSeconds:z,stoppedAt:he.stoppedAt})},[n,a,k,w,T]),Se=$.useCallback(async()=>{if(!i||i.entryType==="planned"&&!i.taskId||i.entryType==="unplanned"&&!i.label)return;const he=i.entryType==="planned"?{entryType:"planned",taskId:i.taskId}:{entryType:"unplanned",label:i.label};await G(he,{force:!0,preserveAccumulated:!0,sessionId:i.sessionId??void 0})},[i,G]),Te=$.useCallback(async()=>{if(n){await T(n),w(null),k(0);return}i&&(w(null),k(0))},[n,i,k,w,T]);return{isReady:e,state:j,elapsedSeconds:q,elapsedLabel:oe,activityLabel:we,projectLabel:K,isUnplanned:Ae,taskOptions:Ee,unplannedSuggestions:Be,startEntry:G,pause:ye,resume:Se,stop:Te}}const Xi={"app-shell":"_app-shell_18z3g_1","app-shell__topbar-spacer":"_app-shell__topbar-spacer_18z3g_9","app-shell__topbar":"_app-shell__topbar_18z3g_9","app-shell__topbar--hidden":"_app-shell__topbar--hidden_18z3g_31","app-shell__topbar-left":"_app-shell__topbar-left_18z3g_35","app-shell__topbar-right":"_app-shell__topbar-right_18z3g_36","app-shell__topbar-title":"_app-shell__topbar-title_18z3g_47","app-shell__icon-button":"_app-shell__icon-button_18z3g_53","app-shell__icon":"_app-shell__icon_18z3g_53","app-shell__focus-chip":"_app-shell__focus-chip_18z3g_82","app-shell__focus-time":"_app-shell__focus-time_18z3g_109","app-shell__focus-status":"_app-shell__focus-status_18z3g_113","app-shell__content":"_app-shell__content_18z3g_120","app-shell__content--notes":"_app-shell__content--notes_18z3g_129","app-shell__fab":"_app-shell__fab_18z3g_134"},vL=500,$c=()=>{typeof navigator<"u"&&"vibrate"in navigator&&navigator.vibrate(10)},ide=()=>$.useSyncExternalStore(t=>{const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)},()=>!0,()=>!1);function sde(t){if(!t)return"Today";switch(t.view){case"notes-list":return{all:"Notes",pinned:"Pinned",today:"Today",locked:"Locked",todo:"Todo",trash:"Trash"}[t.group]??"Notes";case"note-detail":return"Note";case"tasks-list":case"task-detail":return"Tasks";case"plans-list":case"plan-detail":return"Plans";default:return"Today"}}function ade({children:t}){const{stack:e}=Vg(),{goBack:n}=nc(),[r,i]=$.useState(!1),[s,a]=$.useState(!1),[o,u]=$.useState(!1),[f,h]=$.useState(!1),d=$.useRef(void 0),m=$.useRef(!1),O=$.useRef(null),{state:y,elapsedLabel:v,activityLabel:w,projectLabel:k,isUnplanned:T,taskOptions:A,unplannedSuggestions:C,startEntry:I,pause:Q,resume:N,stop:j}=rde(),q=e[e.length-1],oe=e.length===0,we=q?.view.startsWith("note")??!1,K=sde(q),Ae=()=>{$c(),n()},Ee=$.useCallback(()=>{d.current!==void 0&&(window.clearTimeout(d.current),d.current=void 0)},[]),Be=ut=>{r||ut.pointerType==="mouse"&&ut.button!==0||(ut.preventDefault(),m.current=!1,Ee(),d.current=window.setTimeout(()=>{m.current=!0,$c(),h(!0)},vL))},G=()=>{Ee()},ye=()=>{Ee(),m.current=!1},Se=()=>{if(m.current){m.current=!1;return}Ee(),$c(),i(!0)},Te=ide(),ge=Te&&(window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(hover: none)").matches)?{onTouchStart:ut=>{r||!ut.touches[0]||(m.current=!1,Ee(),d.current=window.setTimeout(()=>{m.current=!0,$c(),h(!0)},vL))},onTouchEnd:()=>{Ee()}}:{},Pe=()=>{$c(),a(!0)};$.useEffect(()=>{const ut=()=>{$c(),a(!0)};return window.addEventListener("focus-sheet:open",ut),()=>{window.removeEventListener("focus-sheet:open",ut)}},[]),$.useEffect(()=>{const ut=()=>{$c(),u(!0)};return window.addEventListener("inbox-wizard:open",ut),()=>{window.removeEventListener("inbox-wizard:open",ut)}},[]),$.useEffect(()=>{const ut=qe=>{(qe.metaKey||qe.ctrlKey)&&qe.key==="k"&&(qe.preventDefault(),i(Cn=>!Cn))};return window.addEventListener("keydown",ut),()=>window.removeEventListener("keydown",ut)},[]);const De=lde(y),tt=y!=="idle",it=Te?document.body:null;return M.jsxs(M.Fragment,{children:[M.jsx(dhe,{}),M.jsxs("div",{className:Xi["app-shell"],children:[M.jsxs("header",{className:`${Xi["app-shell__topbar"]} ${we?Xi["app-shell__topbar--hidden"]:""}`,children:[M.jsx("div",{className:Xi["app-shell__topbar-left"],children:!oe&&M.jsx("button",{type:"button",className:Xi["app-shell__icon-button"],onClick:Ae,"aria-label":"Go back",children:M.jsx(ode,{})})}),M.jsx("div",{className:Xi["app-shell__topbar-title"],children:K}),M.jsx("div",{className:Xi["app-shell__topbar-right"],children:tt?M.jsxs("button",{type:"button",className:Xi["app-shell__focus-chip"],"data-status":y,onClick:Pe,"aria-label":`Open focus timer, ${De}, ${v}`,children:[M.jsx("span",{className:Xi["app-shell__focus-time"],children:v}),M.jsx("span",{className:Xi["app-shell__focus-status"],children:De})]}):null})]}),!we&&M.jsx("div",{className:Xi["app-shell__topbar-spacer"],"aria-hidden":"true"}),M.jsx("main",{className:`${Xi["app-shell__content"]} ${we?Xi["app-shell__content--notes"]:""}`,children:t}),M.jsx(Khe,{}),M.jsx(Rhe,{open:s,onOpenChange:a,state:y,elapsedLabel:v,activityLabel:w,projectLabel:k,isUnplanned:T,taskOptions:A,unplannedSuggestions:C,onStart:I,onPause:Q,onResume:N,onStop:j},s?"focus-open":"focus-closed"),M.jsx("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:K})]}),it&&yw.createPortal(M.jsxs(M.Fragment,{children:[M.jsx("button",{type:"button",className:Xi["app-shell__fab"],"aria-label":"Quick capture",ref:O,onClick:Se,onContextMenu:ut=>ut.preventDefault(),onPointerDown:Be,onPointerUp:G,onPointerCancel:ye,...ge,children:"+"}),M.jsx(pce,{open:r,onOpenChange:i}),M.jsx(Ghe,{open:o,onOpenChange:u}),M.jsx(Phe,{open:f,onOpenChange:h})]}),it)]})}function ode(){return M.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:Xi["app-shell__icon"],fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:M.jsx("path",{d:"M15 18l-6-6 6-6"})})}function lde(t){switch(t){case"running":return"Running";case"paused":return"Paused";default:return"Idle"}}const RC=$.createContext({});function $C(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const u4=typeof window<"u",c4=u4?$.useLayoutEffect:$.useEffect,Zw=$.createContext(null);function MC(t,e){t.indexOf(e)===-1&&t.push(e)}function C_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zo=(t,e,n)=>n>e?e:n<t?t:n;let IC=()=>{};const Il={},f4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function h4(t){return typeof t=="object"&&t!==null}const d4=t=>/^0[^.\s]+$/u.test(t);function DC(t){let e;return()=>(e===void 0&&(e=t()),e)}const _a=t=>t,ude=(t,e)=>n=>e(t(n)),hO=(...t)=>t.reduce(ude),yg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class QC{constructor(){this.subscriptions=[]}add(e){return MC(this.subscriptions,e),()=>C_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ga=t=>t*1e3,Oa=t=>t/1e3;function p4(t,e){return e?t*(1e3/e):0}const m4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cde=1e-7,fde=12;function hde(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=m4(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>cde&&++o<fde);return a}function dO(t,e,n,r){if(t===e&&n===r)return _a;const i=s=>hde(s,0,1,t,n);return s=>s===0||s===1?s:m4(i(s),e,r)}const g4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,O4=t=>e=>1-t(1-e),y4=dO(.33,1.53,.69,.99),NC=O4(y4),v4=g4(NC),b4=t=>(t*=2)<1?.5*NC(t):.5*(2-Math.pow(2,-10*(t-1))),LC=t=>1-Math.sin(Math.acos(t)),_4=O4(LC),w4=g4(LC),dde=dO(.42,0,1,1),pde=dO(0,0,.58,1),S4=dO(.42,0,.58,1),mde=t=>Array.isArray(t)&&typeof t[0]!="number",x4=t=>Array.isArray(t)&&typeof t[0]=="number",gde={linear:_a,easeIn:dde,easeInOut:S4,easeOut:pde,circIn:LC,circInOut:w4,circOut:_4,backIn:NC,backInOut:v4,backOut:y4,anticipate:b4},Ode=t=>typeof t=="string",bL=t=>{if(x4(t)){IC(t.length===4);const[e,n,r,i]=t;return dO(e,n,r,i)}else if(Ode(t))return gde[t];return t},Y0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yde(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(f.schedule(h),t()),h(o)}const f={schedule:(h,d=!1,m=!1)=>{const y=m&&i?n:r;return d&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,f.process(h))}};return f}const vde=40;function k4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Y0.reduce((A,C)=>(A[C]=yde(s),A),{}),{setup:o,read:u,resolveKeyframes:f,preUpdate:h,update:d,preRender:m,render:O,postRender:y}=a,v=()=>{const A=Il.useManualTiming?i.timestamp:performance.now();n=!1,Il.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,vde),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),u.process(i),f.process(i),h.process(i),d.process(i),m.process(i),O.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},w=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:Y0.reduce((A,C)=>{const I=a[C];return A[C]=(Q,N=!1,j=!1)=>(n||w(),I.schedule(Q,N,j)),A},{}),cancel:A=>{for(let C=0;C<Y0.length;C++)a[Y0[C]].cancel(A)},state:i,steps:a}}const{schedule:Qn,cancel:Yu,state:_i,steps:ok}=k4(typeof requestAnimationFrame<"u"?requestAnimationFrame:_a,!0);let Ib;function bde(){Ib=void 0}const Gi={now:()=>(Ib===void 0&&Gi.set(_i.isProcessing||Il.useManualTiming?_i.timestamp:performance.now()),Ib),set:t=>{Ib=t,queueMicrotask(bde)}},T4=t=>e=>typeof e=="string"&&e.startsWith(t),E4=T4("--"),_de=T4("var(--"),jC=t=>_de(t)?wde.test(t.split("/*")[0].trim()):!1,wde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function _L(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Yd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vg={...Yd,transform:t=>zo(0,1,t)},W0={...Yd,default:1},Dm=t=>Math.round(t*1e5)/1e5,BC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Sde(t){return t==null}const xde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zC=(t,e)=>n=>!!(typeof n=="string"&&xde.test(n)&&n.startsWith(t)||e&&!Sde(n)&&Object.prototype.hasOwnProperty.call(n,e)),A4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(BC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},kde=t=>zo(0,255,t),lk={...Yd,transform:t=>Math.round(kde(t))},Fc={test:zC("rgb","red"),parse:A4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lk.transform(t)+", "+lk.transform(e)+", "+lk.transform(n)+", "+Dm(vg.transform(r))+")"};function Tde(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const aE={test:zC("#"),parse:Tde,transform:Fc.transform},pO=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ku=pO("deg"),No=pO("%"),ct=pO("px"),Ede=pO("vh"),Ade=pO("vw"),wL={...No,parse:t=>No.parse(t)/100,transform:t=>No.transform(t*100)},Lh={test:zC("hsl","hue"),parse:A4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+No.transform(Dm(e))+", "+No.transform(Dm(n))+", "+Dm(vg.transform(r))+")"},jr={test:t=>Fc.test(t)||aE.test(t)||Lh.test(t),parse:t=>Fc.test(t)?Fc.parse(t):Lh.test(t)?Lh.parse(t):aE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fc.transform(t):Lh.transform(t),getAnimatableNone:t=>{const e=jr.parse(t);return e.alpha=0,jr.transform(e)}},Cde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pde(t){return isNaN(t)&&typeof t=="string"&&(t.match(BC)?.length||0)+(t.match(Cde)?.length||0)>0}const C4="number",P4="color",Rde="var",$de="var(",SL="${}",Mde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Mde,u=>(jr.test(u)?(r.color.push(s),i.push(P4),n.push(jr.parse(u))):u.startsWith($de)?(r.var.push(s),i.push(Rde),n.push(u)):(r.number.push(s),i.push(C4),n.push(parseFloat(u))),++s,SL)).split(SL);return{values:n,split:o,indexes:r,types:i}}function R4(t){return bg(t).values}function $4(t){const{split:e,types:n}=bg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===C4?s+=Dm(i[a]):o===P4?s+=jr.transform(i[a]):s+=i[a]}return s}}const Ide=t=>typeof t=="number"?0:jr.test(t)?jr.getAnimatableNone(t):t;function Dde(t){const e=R4(t);return $4(t)(e.map(Ide))}const Wu={test:Pde,parse:R4,createTransformer:$4,getAnimatableNone:Dde};function uk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Qde({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,u=2*n-o;i=uk(u,o,t+1/3),s=uk(u,o,t),a=uk(u,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function P_(t,e){return n=>n>0?e:t}const nr=(t,e,n)=>t+(e-t)*n,ck=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Nde=[aE,Fc,Lh],Lde=t=>Nde.find(e=>e.test(t));function xL(t){const e=Lde(t);if(!e)return!1;let n=e.parse(t);return e===Lh&&(n=Qde(n)),n}const kL=(t,e)=>{const n=xL(t),r=xL(e);if(!n||!r)return P_(t,e);const i={...n};return s=>(i.red=ck(n.red,r.red,s),i.green=ck(n.green,r.green,s),i.blue=ck(n.blue,r.blue,s),i.alpha=nr(n.alpha,r.alpha,s),Fc.transform(i))},oE=new Set(["none","hidden"]);function jde(t,e){return oE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Bde(t,e){return n=>nr(t,e,n)}function ZC(t){return typeof t=="number"?Bde:typeof t=="string"?jC(t)?P_:jr.test(t)?kL:Ude:Array.isArray(t)?M4:typeof t=="object"?jr.test(t)?kL:zde:P_}function M4(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>ZC(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function zde(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Zde(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const Ude=(t,e)=>{const n=Wu.createTransformer(e),r=bg(t),i=bg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?oE.has(t)&&!i.values.length||oE.has(e)&&!r.values.length?jde(t,e):hO(M4(Zde(r,i),i.values),n):P_(t,e)};function I4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nr(t,e,n):ZC(t)(t,e)}const qde=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qn.update(e,n),stop:()=>Yu(e),now:()=>_i.isProcessing?_i.timestamp:Gi.now()}},D4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},R_=2e4;function UC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<R_;)e+=n,r=t.next(e);return e>=R_?1/0:e}function Vde(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(UC(r),R_);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Oa(i)}}const Xde=5;function Q4(t,e,n){const r=Math.max(e-Xde,0);return p4(n-t(r),e-r)}const hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fk=.001;function Fde({duration:t=hr.duration,bounce:e=hr.bounce,velocity:n=hr.velocity,mass:r=hr.mass}){let i,s,a=1-e;a=zo(hr.minDamping,hr.maxDamping,a),t=zo(hr.minDuration,hr.maxDuration,Oa(t)),a<1?(i=f=>{const h=f*a,d=h*t,m=h-n,O=lE(f,a),y=Math.exp(-d);return fk-m/O*y},s=f=>{const d=f*a*t,m=d*n+n,O=Math.pow(a,2)*Math.pow(f,2)*t,y=Math.exp(-d),v=lE(Math.pow(f,2),a);return(-i(f)+fk>0?-1:1)*((m-O)*y)/v}):(i=f=>{const h=Math.exp(-f*t),d=(f-n)*t+1;return-fk+h*d},s=f=>{const h=Math.exp(-f*t),d=(n-f)*(t*t);return h*d});const o=5/t,u=Wde(i,s,o);if(t=Ga(t),isNaN(u))return{stiffness:hr.stiffness,damping:hr.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const Yde=12;function Wde(t,e,n){let r=n;for(let i=1;i<Yde;i++)r=r-t(r)/e(r);return r}function lE(t,e){return t*Math.sqrt(1-e*e)}const Gde=["duration","bounce"],Kde=["stiffness","damping","mass"];function TL(t,e){return e.some(n=>t[n]!==void 0)}function Hde(t){let e={velocity:hr.velocity,stiffness:hr.stiffness,damping:hr.damping,mass:hr.mass,isResolvedFromDuration:!1,...t};if(!TL(t,Kde)&&TL(t,Gde))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*zo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:hr.mass,stiffness:i,damping:s}}else{const n=Fde(t);e={...e,...n,mass:hr.mass},e.isResolvedFromDuration=!0}return e}function $_(t=hr.visualDuration,e=hr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:u,damping:f,mass:h,duration:d,velocity:m,isResolvedFromDuration:O}=Hde({...n,velocity:-Oa(n.velocity||0)}),y=m||0,v=f/(2*Math.sqrt(u*h)),w=a-s,k=Oa(Math.sqrt(u/h)),T=Math.abs(w)<5;r||(r=T?hr.restSpeed.granular:hr.restSpeed.default),i||(i=T?hr.restDelta.granular:hr.restDelta.default);let A;if(v<1){const I=lE(k,v);A=Q=>{const N=Math.exp(-v*k*Q);return a-N*((y+v*k*w)/I*Math.sin(I*Q)+w*Math.cos(I*Q))}}else if(v===1)A=I=>a-Math.exp(-k*I)*(w+(y+k*w)*I);else{const I=k*Math.sqrt(v*v-1);A=Q=>{const N=Math.exp(-v*k*Q),j=Math.min(I*Q,300);return a-N*((y+v*k*w)*Math.sinh(j)+I*w*Math.cosh(j))/I}}const C={calculatedDuration:O&&d||null,next:I=>{const Q=A(I);if(O)o.done=I>=d;else{let N=I===0?y:0;v<1&&(N=I===0?Ga(y):Q4(A,I,Q));const j=Math.abs(N)<=r,q=Math.abs(a-Q)<=i;o.done=j&&q}return o.value=o.done?a:Q,o},toString:()=>{const I=Math.min(UC(C),R_),Q=D4(N=>C.next(I*N).value,I,30);return I+"ms "+Q},toTransition:()=>{}};return C}$_.applyToOptions=t=>{const e=Vde(t,100,$_);return t.ease=e.ease,t.duration=Ga(e.duration),t.type="keyframes",t};function uE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:u,restDelta:f=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},O=j=>o!==void 0&&j<o||u!==void 0&&j>u,y=j=>o===void 0?u:u===void 0||Math.abs(o-j)<Math.abs(u-j)?o:u;let v=n*e;const w=d+v,k=a===void 0?w:a(w);k!==w&&(v=k-d);const T=j=>-v*Math.exp(-j/r),A=j=>k+T(j),C=j=>{const q=T(j),oe=A(j);m.done=Math.abs(q)<=f,m.value=m.done?k:oe};let I,Q;const N=j=>{O(m.value)&&(I=j,Q=$_({keyframes:[m.value,y(m.value)],velocity:Q4(A,j,m.value),damping:i,stiffness:s,restDelta:f,restSpeed:h}))};return N(0),{calculatedDuration:null,next:j=>{let q=!1;return!Q&&I===void 0&&(q=!0,C(j),N(j)),I!==void 0&&j>=I?Q.next(j-I):(!q&&C(j),m)}}}function Jde(t,e,n){const r=[],i=n||Il.mix||I4,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||_a:e;o=hO(u,o)}r.push(o)}return r}function epe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(IC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Jde(e,r,i),u=o.length,f=h=>{if(a&&h<t[0])return e[0];let d=0;if(u>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const m=yg(t[d],t[d+1],h);return o[d](m)};return n?h=>f(zo(t[0],t[s-1],h)):f}function tpe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yg(0,e,r);t.push(nr(n,1,i))}}function npe(t){const e=[0];return tpe(e,t.length-1),e}function rpe(t,e){return t.map(n=>n*e)}function ipe(t,e){return t.map(()=>e||S4).splice(0,t.length-1)}function Qm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mde(r)?r.map(bL):bL(r),s={done:!1,value:e[0]},a=rpe(n&&n.length===e.length?n:npe(e),t),o=epe(a,e,{ease:Array.isArray(i)?i:ipe(e,i)});return{calculatedDuration:t,next:u=>(s.value=o(u),s.done=u>=t,s)}}const spe=t=>t!==null;function qC(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(spe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const ape={decay:uE,inertia:uE,tween:Qm,keyframes:Qm,spring:$_};function N4(t){typeof t.type=="string"&&(t.type=ape[t.type])}class VC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ope=t=>t/100;class XC extends VC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gi.now()&&this.tick(Gi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N4(e);const{type:n=Qm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const u=n||Qm;u!==Qm&&typeof o[0]!="number"&&(this.mixKeyframes=hO(ope,I4(o[0],o[1])),o=[0,100]);const f=u({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...o].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=UC(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:O,type:y,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,C=r;if(d){const j=Math.min(this.currentTime,i)/o;let q=Math.floor(j),oe=j%1;!oe&&j>=1&&(oe=1),oe===1&&q--,q=Math.min(q,d+1),q%2&&(m==="reverse"?(oe=1-oe,O&&(oe-=O/o)):m==="mirror"&&(C=a)),A=zo(0,1,oe)*o}const I=T?{done:!1,value:h[0]}:C.next(A);s&&(I.value=s(I.value));let{done:Q}=I;!T&&u!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return N&&y!==uE&&(I.value=qC(h,this.options,w,this.speed)),v&&v(I.value),N&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Oa(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oa(e)}get time(){return Oa(this.currentTime)}set time(e){e=Ga(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oa(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=qde,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function lpe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yc=t=>t*180/Math.PI,cE=t=>{const e=Yc(Math.atan2(t[1],t[0]));return fE(e)},upe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cE,rotateZ:cE,skewX:t=>Yc(Math.atan(t[1])),skewY:t=>Yc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fE=t=>(t=t%360,t<0&&(t+=360),t),EL=cE,AL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),CL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cpe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AL,scaleY:CL,scale:t=>(AL(t)+CL(t))/2,rotateX:t=>fE(Yc(Math.atan2(t[6],t[5]))),rotateY:t=>fE(Yc(Math.atan2(-t[2],t[0]))),rotateZ:EL,rotate:EL,skewX:t=>Yc(Math.atan(t[4])),skewY:t=>Yc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hE(t){return t.includes("scale")?1:0}function dE(t,e){if(!t||t==="none")return hE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=cpe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=upe,i=o}if(!i)return hE(e);const s=r[e],a=i[1].split(",").map(hpe);return typeof s=="function"?s(a):a[s]}const fpe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dE(n,e)};function hpe(t){return parseFloat(t.trim())}const Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gd=new Set(Wd),PL=t=>t===Yd||t===ct,dpe=new Set(["x","y","z"]),ppe=Wd.filter(t=>!dpe.has(t));function mpe(t){const e=[];return ppe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Du={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dE(e,"x"),y:(t,{transform:e})=>dE(e,"y")};Du.translateX=Du.x;Du.translateY=Du.y;const sf=new Set;let pE=!1,mE=!1,gE=!1;function L4(){if(mE){const t=Array.from(sf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=mpe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mE=!1,pE=!1,sf.forEach(t=>t.complete(gE)),sf.clear()}function j4(){sf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(mE=!0)})}function gpe(){gE=!0,j4(),L4(),gE=!1}class FC{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(sf.add(this),pE||(pE=!0,Qn.read(j4),Qn.resolveKeyframes(L4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}lpe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sf.delete(this)}cancel(){this.state==="scheduled"&&(sf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ope=t=>t.startsWith("--");function ype(t,e,n){Ope(e)?t.style.setProperty(e,n):t.style[e]=n}const vpe=DC(()=>window.ScrollTimeline!==void 0),bpe={};function _pe(t,e){const n=DC(t);return()=>bpe[e]??n()}const B4=_pe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bm([0,.65,.55,1]),circOut:bm([.55,0,1,.45]),backIn:bm([.31,.01,.66,-.59]),backOut:bm([.33,1.53,.69,.99])};function z4(t,e){if(t)return typeof t=="function"?B4()?D4(t,e):"ease-out":x4(t)?bm(t):Array.isArray(t)?t.map(n=>z4(n,e)||RL.easeOut):RL[t]}function wpe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:u}={},f=void 0){const h={[e]:n};u&&(h.offset=u);const d=z4(o,i);Array.isArray(d)&&(h.easing=d);const m={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(m.pseudoElement=f),t.animate(h,m)}function Z4(t){return typeof t=="function"&&"applyToOptions"in t}function Spe({type:t,...e}){return Z4(t)&&B4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U4 extends VC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,IC(typeof e.type!="string");const f=Spe(e);this.animation=wpe(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=qC(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):ype(n,r,h),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oa(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oa(e)}get time(){return Oa(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ga(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&vpe()?(this.animation.timeline=e,_a):n(this)}}const q4={anticipate:b4,backInOut:v4,circInOut:w4};function xpe(t){return t in q4}function kpe(t){typeof t.ease=="string"&&xpe(t.ease)&&(t.ease=q4[t.ease])}const hk=10;class Tpe extends U4{constructor(e){kpe(e),N4(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new XC({...a,autoplay:!1}),u=Math.max(hk,Gi.now()-this.startTime),f=zo(0,hk,u-hk);n.setWithVelocity(o.sample(Math.max(0,u-f)).value,o.sample(u).value,f),o.stop()}}const $L=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wu.test(t)||t==="0")&&!t.startsWith("url("));function Epe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ape(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=$L(i,e),o=$L(s,e);return!a||!o?!1:Epe(t)||(n==="spring"||Z4(n))&&r}function OE(t){t.duration=0,t.type="keyframes"}const Cpe=new Set(["opacity","clipPath","filter","transform"]),Ppe=DC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rpe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Ppe()&&n&&Cpe.has(n)&&(n!=="transform"||!f)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const $pe=40;class Mpe extends VC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:u,motionValue:f,element:h,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gi.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:f,element:h,...d},O=h?.KeyframeResolver||FC;this.keyframeResolver=new O(o,(y,v,w)=>this.onKeyframesResolved(y,v,m,!w),u,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:u,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Gi.now(),Ape(e,s,a,o)||((Il.instantAnimations||!u)&&h?.(qC(e,r,n)),e[0]=e[e.length-1],OE(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>$pe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},O=!f&&Rpe(m),y=m.motionValue?.owner?.current,v=O?new Tpe({...m,element:y}):new XC(m);v.finished.then(()=>{this.notifyFinished()}).catch(_a),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gpe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function V4(t,e,n,r=0,i=1){const s=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}const Ipe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dpe(t){const e=Ipe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function X4(t,e,n=1){const[r,i]=Dpe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return f4(a)?parseFloat(a):a}return jC(i)?X4(i,e,n+1):i}const Qpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Npe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lpe={type:"keyframes",duration:.8},jpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bpe=(t,{keyframes:e})=>e.length>2?Lpe:Gd.has(t)?t.startsWith("scale")?Npe(e[1]):Qpe:jpe,zpe=t=>t!==null;function Zpe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zpe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function F4(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function YC(t,e){const n=t?.[e]??t?.default??t;return n!==t?F4(n,t):n}function Upe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const WC=(t,e,n,r={},i,s)=>a=>{const o=YC(r,t)||{},u=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ga(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Upe(o)||Object.assign(h,Bpe(t,h)),h.duration&&(h.duration=Ga(h.duration)),h.repeatDelay&&(h.repeatDelay=Ga(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(OE(h),h.delay===0&&(d=!0)),(Il.instantAnimations||Il.skipAnimations||i?.shouldSkipAnimations)&&(d=!0,OE(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const m=Zpe(h.keyframes,o);if(m!==void 0){Qn.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new XC(h):new Mpe(h)};function ML(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function GC(t,e,n,r){if(typeof e=="function"){const[i,s]=ML(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ML(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function sd(t,e,n){const r=t.getProps();return GC(r,e,n!==void 0?n:r.custom,t)}const Y4=new Set(["width","height","top","left","right","bottom",...Wd]),IL=30,qpe=t=>!isNaN(parseFloat(t));class Vpe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Gi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qpe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new QC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IL);return p4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xd(t,e){return new Vpe(t,e)}const yE=t=>Array.isArray(t);function Xpe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xd(n))}function Fpe(t){return yE(t)?t[t.length-1]||0:t}function Ype(t,e){const n=sd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=Fpe(s[a]);Xpe(t,a,o)}}const $i=t=>!!(t&&t.getVelocity);function Wpe(t){return!!($i(t)&&t.add)}function vE(t,e){const n=t.getValue("willChange");if(Wpe(n))return n.add(e);if(!n&&Il.WillChange){const r=new Il.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function KC(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Gpe="framerAppearId",W4="data-"+KC(Gpe);function G4(t){return t.props[W4]}function Kpe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function K4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...o}=e;const u=t.getDefaultTransition();s=s?F4(s,u):u;const f=s?.reduceMotion;r&&(s=r);const h=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const m in o){const O=t.getValue(m,t.latestValues[m]??null),y=o[m];if(y===void 0||d&&Kpe(d,m))continue;const v={delay:n,...YC(s||{},m)},w=O.get();if(w!==void 0&&!O.isAnimating&&!Array.isArray(y)&&y===w&&!v.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=G4(t);if(C){const I=window.MotionHandoffAnimation(C,m,Qn);I!==null&&(v.startTime=I,k=!0)}}vE(t,m);const T=f??t.shouldReduceMotion;O.start(WC(m,O,y,T&&Y4.has(m)?{type:!1}:v,t,k));const A=O.animation;A&&h.push(A)}if(a){const m=()=>Qn.update(()=>{a&&Ype(t,a)});h.length?Promise.all(h).then(m):m()}return h}function bE(t,e,n={}){const r=sd(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(K4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:d}=i;return Hpe(t,e,u,f,h,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,f]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function Hpe(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),o.push(bE(u,e,{...a,delay:n+(typeof r=="function"?0:r)+V4(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(o)}function Jpe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bE(t,e,n);else{const i=typeof e=="function"?sd(t,e,n.custom):e;r=Promise.all(K4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const eme={test:t=>t==="auto",parse:t=>t},H4=t=>e=>e.test(t),J4=[Yd,ct,No,ku,Ade,Ede,eme],DL=t=>J4.find(H4(t));function tme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||d4(t):!0}const nme=new Set(["brightness","contrast","saturate","opacity"]);function rme(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BC)||[];if(!r)return t;const i=n.replace(r,"");let s=nme.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ime=/\b([a-z-]*)\(.*?\)/gu,_E={...Wu,getAnimatableNone:t=>{const e=t.match(ime);return e?e.map(rme).join(" "):t}},QL={...Yd,transform:Math.round},sme={rotate:ku,rotateX:ku,rotateY:ku,rotateZ:ku,scale:W0,scaleX:W0,scaleY:W0,scaleZ:W0,skew:ku,skewX:ku,skewY:ku,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:vg,originX:wL,originY:wL,originZ:ct},HC={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,inset:ct,insetBlock:ct,insetBlockStart:ct,insetBlockEnd:ct,insetInline:ct,insetInlineStart:ct,insetInlineEnd:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,paddingBlock:ct,paddingBlockStart:ct,paddingBlockEnd:ct,paddingInline:ct,paddingInlineStart:ct,paddingInlineEnd:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,marginBlock:ct,marginBlockStart:ct,marginBlockEnd:ct,marginInline:ct,marginInlineStart:ct,marginInlineEnd:ct,fontSize:ct,backgroundPositionX:ct,backgroundPositionY:ct,...sme,zIndex:QL,fillOpacity:vg,strokeOpacity:vg,numOctaves:QL},ame={...HC,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:_E,WebkitFilter:_E},eU=t=>ame[t];function tU(t,e){let n=eU(t);return n!==_E&&(n=Wu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ome=new Set(["auto","none","0"]);function lme(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!ome.has(s)&&bg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=tU(n,i)}class ume extends FC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),jC(d))){const m=X4(d,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Y4.has(r)||e.length!==2)return;const[i,s]=e,a=DL(i),o=DL(s),u=_L(i),f=_L(s);if(u!==f&&Du[r]){this.needsMeasurement=!0;return}if(a!==o)if(PL(a)&&PL(o))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else Du[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||tme(e[i]))&&r.push(i);r.length&&lme(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Du[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Du[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,u])=>{e.getValue(o).set(u)}),this.resolveNoneKeyframes()}}const cme=new Set(["opacity","clipPath","filter","transform"]);function nU(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const rU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wE(t){return h4(t)&&"offsetHeight"in t}const{schedule:JC}=k4(queueMicrotask,!1),Za={x:!1,y:!1};function iU(){return Za.x||Za.y}function fme(t){return t==="x"||t==="y"?Za[t]?null:(Za[t]=!0,()=>{Za[t]=!1}):Za.x||Za.y?null:(Za.x=Za.y=!0,()=>{Za.x=Za.y=!1})}function sU(t,e){const n=nU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function hme(t){return!(t.pointerType==="touch"||iU())}function dme(t,e,n={}){const[r,i,s]=sU(t,n);return r.forEach(a=>{let o=!1,u=!1,f;const h=()=>{a.removeEventListener("pointerleave",y)},d=w=>{f&&(f(w),f=void 0),h()},m=w=>{o=!1,window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",m),u&&(u=!1,d(w))},O=()=>{o=!0,window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",m,i)},y=w=>{if(w.pointerType!=="touch"){if(o){u=!0;return}d(w)}},v=w=>{if(!hme(w))return;u=!1;const k=e(a,w);typeof k=="function"&&(f=k,a.addEventListener("pointerleave",y,i))};a.addEventListener("pointerenter",v,i),a.addEventListener("pointerdown",O,i)}),s}const aU=(t,e)=>e?t===e?!0:aU(t,e.parentElement):!1,eP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pme=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mme(t){return pme.has(t.tagName)||t.isContentEditable===!0}const gme=new Set(["INPUT","SELECT","TEXTAREA"]);function Ome(t){return gme.has(t.tagName)||t.isContentEditable===!0}const Db=new WeakSet;function NL(t){return e=>{e.key==="Enter"&&t(e)}}function dk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yme=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NL(()=>{if(Db.has(n))return;dk(n,"down");const i=NL(()=>{dk(n,"up")}),s=()=>dk(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function LL(t){return eP(t)&&!iU()}const jL=new WeakSet;function vme(t,e,n={}){const[r,i,s]=sU(t,n),a=o=>{const u=o.currentTarget;if(!LL(o)||jL.has(o))return;Db.add(u),n.stopPropagation&&jL.add(o);const f=e(u,o),h=(O,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Db.has(u)&&Db.delete(u),LL(O)&&typeof f=="function"&&f(O,{success:y})},d=O=>{h(O,u===window||u===document||n.useGlobalTarget||aU(u,O.target))},m=O=>{h(O,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),wE(o)&&(o.addEventListener("focus",f=>yme(f,i)),!mme(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function tP(t){return h4(t)&&"ownerSVGElement"in t}const Qb=new WeakMap;let Nb;const oU=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:tP(r)&&"getBBox"in r?r.getBBox()[e]:r[n],bme=oU("inline","width","offsetWidth"),_me=oU("block","height","offsetHeight");function wme({target:t,borderBoxSize:e}){Qb.get(t)?.forEach(n=>{n(t,{get width(){return bme(t,e)},get height(){return _me(t,e)}})})}function Sme(t){t.forEach(wme)}function xme(){typeof ResizeObserver>"u"||(Nb=new ResizeObserver(Sme))}function kme(t,e){Nb||xme();const n=nU(t);return n.forEach(r=>{let i=Qb.get(r);i||(i=new Set,Qb.set(r,i)),i.add(e),Nb?.observe(r)}),()=>{n.forEach(r=>{const i=Qb.get(r);i?.delete(e),i?.size||Nb?.unobserve(r)})}}const Lb=new Set;let jh;function Tme(){jh=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Lb.forEach(e=>e(t))},window.addEventListener("resize",jh)}function Eme(t){return Lb.add(t),jh||Tme(),()=>{Lb.delete(t),!Lb.size&&typeof jh=="function"&&(window.removeEventListener("resize",jh),jh=void 0)}}function BL(t,e){return typeof t=="function"?Eme(t):kme(t,e)}function Ame(t){return tP(t)&&t.tagName==="svg"}const Cme=[...J4,jr,Wu],Pme=t=>Cme.find(H4(t)),zL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bh=()=>({x:zL(),y:zL()}),ZL=()=>({min:0,max:0}),Hr=()=>({x:ZL(),y:ZL()}),Rme=new WeakMap;function Uw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _g(t){return typeof t=="string"||Array.isArray(t)}const nP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rP=["initial",...nP];function qw(t){return Uw(t.animate)||rP.some(e=>_g(t[e]))}function lU(t){return!!(qw(t)||t.variants)}function $me(t,e,n){for(const r in e){const i=e[r],s=n[r];if($i(i))t.addValue(r,i);else if($i(s))t.addValue(r,xd(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,xd(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const SE={current:null},uU={current:!1},Mme=typeof window<"u";function Ime(){if(uU.current=!0,!!Mme)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>SE.current=t.matches;t.addEventListener("change",e),e()}else SE.current=!1}const UL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let M_={};function cU(t){M_=t}function Dme(){return M_}class Qme{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=FC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=Gi.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Qn.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=qw(n),this.isVariantNode=lU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const O in m){const y=m[O];f[O]!==void 0&&$i(y)&&y.set(f[O])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,Rme.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(uU.current||Ime(),this.shouldReduceMotion=SE.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Yu(this.notifyUpdate),Yu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&cme.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:u,ease:f,duration:h}=n.accelerate,d=new U4({element:this.current,name:e,keyframes:o,times:u,ease:f,duration:Ga(h)}),m=a(d);this.valueSubscriptions.set(e,()=>{m(),d.cancel()});return}const r=Gd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in M_){const n=M_[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UL.length;r++){const i=UL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=$me(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f4(r)||d4(r))?r=parseFloat(r):!Pme(r)&&Wu.test(n)&&(r=tU(e,n)),this.setBaseTarget(e,$i(r)?r.get():r)),$i(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=GC(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$i(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new QC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){JC.render(this.render)}}class fU extends Qme{constructor(){super(...arguments),this.KeyframeResolver=ume}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$i(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class lc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hU({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Nme({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Lme(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pk(t){return t===void 0||t===1}function xE({scale:t,scaleX:e,scaleY:n}){return!pk(t)||!pk(e)||!pk(n)}function Nc(t){return xE(t)||dU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dU(t){return qL(t.x)||qL(t.y)}function qL(t){return t&&t!=="0%"}function I_(t,e,n){const r=t-n,i=e*r;return n+i}function VL(t,e,n,r,i){return i!==void 0&&(t=I_(t,i,r)),I_(t,n,r)+e}function kE(t,e=0,n=1,r,i){t.min=VL(t.min,e,n,r,i),t.max=VL(t.max,e,n,r,i)}function pU(t,{x:e,y:n}){kE(t.x,e.translate,e.scale,e.originPoint),kE(t.y,n.translate,n.scale,n.originPoint)}const XL=.999999999999,FL=1.0000000000001;function jme(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,pU(t,a)),r&&Nc(s.latestValues)&&Zh(t,s.latestValues))}e.x<FL&&e.x>XL&&(e.x=1),e.y<FL&&e.y>XL&&(e.y=1)}function zh(t,e){t.min=t.min+e,t.max=t.max+e}function YL(t,e,n,r,i=.5){const s=nr(t.min,t.max,i);kE(t,e,n,s,r)}function Zh(t,e){YL(t.x,e.x,e.scaleX,e.scale,e.originX),YL(t.y,e.y,e.scaleY,e.scale,e.originY)}function mU(t,e){return hU(Lme(t.getBoundingClientRect(),e))}function Bme(t,e,n){const r=mU(t,n),{scroll:i}=e;return i&&(zh(r.x,i.offset.x),zh(r.y,i.offset.y)),r}const zme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zme=Wd.length;function Ume(t,e,n){let r="",i=!0;for(let s=0;s<Zme;s++){const a=Wd[s],o=t[a];if(o===void 0)continue;let u=!0;if(typeof o=="number")u=o===(a.startsWith("scale")?1:0);else{const f=parseFloat(o);u=a.startsWith("scale")?f===1:f===0}if(!u||n){const f=rU(o,HC[a]);if(!u){i=!1;const h=zme[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function iP(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const u in e){const f=e[u];if(Gd.has(u)){a=!0;continue}else if(E4(u)){i[u]=f;continue}else{const h=rU(f,HC[u]);u.startsWith("origin")?(o=!0,s[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=Ume(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:u="50%",originY:f="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${f} ${h}`}}function gU(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function WL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const om={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ct.test(t))t=parseFloat(t);else return t;const n=WL(t,e.target.x),r=WL(t,e.target.y);return`${n}% ${r}%`}},qme={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wu.parse(t);if(i.length>5)return r;const s=Wu.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=u;const f=nr(o,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}},TE={borderRadius:{...om,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:om,borderTopRightRadius:om,borderBottomLeftRadius:om,borderBottomRightRadius:om,boxShadow:qme};function OU(t,{layout:e,layoutId:n}){return Gd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!TE[t]||t==="opacity")}function sP(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)($i(r[a])||i&&$i(i[a])||OU(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function Vme(t){return window.getComputedStyle(t)}class Xme extends fU{constructor(){super(...arguments),this.type="html",this.renderInstance=gU}readValueFromInstance(e,n){if(Gd.has(n))return this.projection?.isProjecting?hE(n):fpe(e,n);{const r=Vme(e),i=(E4(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mU(e,n)}build(e,n,r){iP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sP(e,n,r)}}const Fme={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yme={offset:"strokeDashoffset",array:"strokeDasharray"};function Wme(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Fme:Yme;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const Gme=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yU(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},u,f,h){if(iP(t,o,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m}=t;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=h?.transformBox??"fill-box",delete d.transformBox);for(const O of Gme)d[O]!==void 0&&(m[O]=d[O],delete d[O]);e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Wme(d,i,s,a,!1)}const vU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Kme(t,e,n,r){gU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vU.has(i)?i:KC(i),e.attrs[i])}function _U(t,e,n){const r=sP(t,e,n);for(const i in t)if($i(t[i])||$i(e[i])){const s=Wd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class Hme extends fU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gd.has(n)){const r=eU(n);return r&&r.default||0}return n=vU.has(n)?n:KC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _U(e,n,r)}build(e,n,r){yU(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Kme(e,n,r,i)}mount(e){this.isSVGTag=bU(e.tagName),super.mount(e)}}const Jme=rP.length;function wU(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wU(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Jme;n++){const r=rP[n],i=t.props[r];(_g(i)||i===!1)&&(e[r]=i)}return e}function SU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ege=[...nP].reverse(),tge=nP.length;function nge(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jpe(t,n,r)))}function rge(t){let e=nge(t),n=GL(),r=!0;const i=u=>(f,h)=>{const d=sd(t,h,u==="exit"?t.presenceContext?.custom:void 0);if(d){const{transition:m,transitionEnd:O,...y}=d;f={...f,...y,...O}}return f};function s(u){e=u(t)}function a(u){const{props:f}=t,h=wU(t.parent)||{},d=[],m=new Set;let O={},y=1/0;for(let w=0;w<tge;w++){const k=ege[w],T=n[k],A=f[k]!==void 0?f[k]:h[k],C=_g(A),I=k===u?T.isActive:null;I===!1&&(y=w);let Q=A===h[k]&&A!==f[k]&&C;if(Q&&r&&t.manuallyAnimateOnMount&&(Q=!1),T.protectedKeys={...O},!T.isActive&&I===null||!A&&!T.prevProp||Uw(A)||typeof A=="boolean")continue;if(k==="exit"&&T.isActive&&I!==!0){T.prevResolvedValues&&(O={...O,...T.prevResolvedValues});continue}const N=ige(T.prevProp,A);let j=N||k===u&&T.isActive&&!Q&&C||w>y&&C,q=!1;const oe=Array.isArray(A)?A:[A];let we=oe.reduce(i(k),{});I===!1&&(we={});const{prevResolvedValues:K={}}=T,Ae={...K,...we},Ee=ye=>{j=!0,m.has(ye)&&(q=!0,m.delete(ye)),T.needsAnimating[ye]=!0;const Se=t.getValue(ye);Se&&(Se.liveStyle=!1)};for(const ye in Ae){const Se=we[ye],Te=K[ye];if(O.hasOwnProperty(ye))continue;let he=!1;yE(Se)&&yE(Te)?he=!SU(Se,Te):he=Se!==Te,he?Se!=null?Ee(ye):m.add(ye):Se!==void 0&&m.has(ye)?Ee(ye):T.protectedKeys[ye]=!0}T.prevProp=A,T.prevResolvedValues=we,T.isActive&&(O={...O,...we}),r&&t.blockInitialAnimation&&(j=!1);const Be=Q&&N;j&&(!Be||q)&&d.push(...oe.map(ye=>{const Se={type:k};if(typeof ye=="string"&&r&&!Be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,he=sd(Te,ye);if(Te.enteringChildren&&he){const{delayChildren:z}=he.transition||{};Se.delay=V4(Te.enteringChildren,t,z)}}return{animation:ye,options:Se}}))}if(m.size){const w={};if(typeof f.initial!="boolean"){const k=sd(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(w.transition=k.transition)}m.forEach(k=>{const T=t.getBaseTarget(k),A=t.getValue(k);A&&(A.liveStyle=!0),w[k]=T??null}),d.push({animation:w})}let v=!!d.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function o(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(d=>d.animationState?.setActive(u,f)),n[u].isActive=f;const h=a(u);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=GL()}}}function ige(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SU(e,t):!1}function Mc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GL(){return{animate:Mc(!0),whileInView:Mc(),whileHover:Mc(),whileTap:Mc(),whileDrag:Mc(),whileFocus:Mc(),exit:Mc()}}function KL(t,e){t.min=e.min,t.max=e.max}function ja(t,e){KL(t.x,e.x),KL(t.y,e.y)}function HL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const xU=1e-4,sge=1-xU,age=1+xU,kU=.01,oge=0-kU,lge=0+kU;function Ki(t){return t.max-t.min}function uge(t,e,n){return Math.abs(t-e)<=n}function JL(t,e,n,r=.5){t.origin=r,t.originPoint=nr(e.min,e.max,t.origin),t.scale=Ki(n)/Ki(e),t.translate=nr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sge&&t.scale<=age||isNaN(t.scale))&&(t.scale=1),(t.translate>=oge&&t.translate<=lge||isNaN(t.translate))&&(t.translate=0)}function Nm(t,e,n,r){JL(t.x,e.x,n.x,r?r.originX:void 0),JL(t.y,e.y,n.y,r?r.originY:void 0)}function ej(t,e,n){t.min=n.min+e.min,t.max=t.min+Ki(e)}function cge(t,e,n){ej(t.x,e.x,n.x),ej(t.y,e.y,n.y)}function tj(t,e,n){t.min=e.min-n.min,t.max=t.min+Ki(e)}function D_(t,e,n){tj(t.x,e.x,n.x),tj(t.y,e.y,n.y)}function nj(t,e,n,r,i){return t-=e,t=I_(t,1/n,r),i!==void 0&&(t=I_(t,1/i,r)),t}function fge(t,e=0,n=1,r=.5,i,s=t,a=t){if(No.test(e)&&(e=parseFloat(e),e=nr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=nr(s.min,s.max,r);t===s&&(o-=e),t.min=nj(t.min,e,n,o,i),t.max=nj(t.max,e,n,o,i)}function rj(t,e,[n,r,i],s,a){fge(t,e[n],e[r],e[i],e.scale,s,a)}const hge=["x","scaleX","originX"],dge=["y","scaleY","originY"];function ij(t,e,n,r){rj(t.x,e,hge,n?n.x:void 0,r?r.x:void 0),rj(t.y,e,dge,n?n.y:void 0,r?r.y:void 0)}function sj(t){return t.translate===0&&t.scale===1}function TU(t){return sj(t.x)&&sj(t.y)}function aj(t,e){return t.min===e.min&&t.max===e.max}function pge(t,e){return aj(t.x,e.x)&&aj(t.y,e.y)}function oj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EU(t,e){return oj(t.x,e.x)&&oj(t.y,e.y)}function lj(t){return Ki(t.x)/Ki(t.y)}function uj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Co(t){return[t("x"),t("y")]}function mge(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:d,rotateY:m,skewX:O,skewY:y}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),O&&(r+=`skewX(${O}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,u=t.y.scale*e.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const AU=["TopLeft","TopRight","BottomLeft","BottomRight"],gge=AU.length,cj=t=>typeof t=="string"?parseFloat(t):t,fj=t=>typeof t=="number"||ct.test(t);function Oge(t,e,n,r,i,s){i?(t.opacity=nr(0,n.opacity??1,yge(r)),t.opacityExit=nr(e.opacity??1,0,vge(r))):s&&(t.opacity=nr(e.opacity??1,n.opacity??1,r));for(let a=0;a<gge;a++){const o=`border${AU[a]}Radius`;let u=hj(e,o),f=hj(n,o);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||fj(u)===fj(f)?(t[o]=Math.max(nr(cj(u),cj(f),r),0),(No.test(f)||No.test(u))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=nr(e.rotate||0,n.rotate||0,r))}function hj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yge=CU(0,.5,_4),vge=CU(.5,.95,_a);function CU(t,e,n){return r=>r<t?0:r>e?1:n(yg(t,e,r))}function bge(t,e,n){const r=$i(t)?t:xd(t);return r.start(WC("",r,e,n)),r.animation}function wg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const _ge=(t,e)=>t.depth-e.depth;class wge{constructor(){this.children=[],this.isDirty=!1}add(e){MC(this.children,e),this.isDirty=!0}remove(e){C_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_ge),this.isDirty=!1,this.children.forEach(e)}}function Sge(t,e){const n=Gi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Yu(r),t(s-e))};return Qn.setup(r,!0),()=>Yu(r)}function jb(t){return $i(t)?t.get():t}class xge{constructor(){this.members=[]}add(e){MC(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&C_(this.members,r)}e.scheduleRender()}remove(e){if(C_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const u=r.instance;u&&u.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Bb={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mk=["","X","Y","Z"],kge=1e3;let Tge=0;function gk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=G4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PU(r)}function RU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=Tge++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cge),this.nodes.forEach(Mge),this.nodes.forEach(Ige),this.nodes.forEach(Pge)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new wge)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new QC),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=tP(a)&&!Ame(a),this.instance=a;const{layoutId:o,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;Qn.read(()=>{d=window.innerWidth}),t(a,()=>{const O=window.innerWidth;O!==d&&(d=O,this.root.updateBlockedByResize=!0,h&&h(),h=Sge(m,250),Bb.hasAnimatedSinceResize&&(Bb.hasAnimatedSinceResize=!1,this.nodes.forEach(mj)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||jge,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=f.getProps(),k=!this.targetLayout||!EU(this.targetLayout,O),T=!d&&m;if(this.options.layoutRoot||this.resumeFrom||T||d&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...YC(y,"layout"),onPlay:v,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,T)}else d||mj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dge),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($ge),this.nodes.forEach(Ege),this.nodes.forEach(Age)):this.nodes.forEach(pj),this.clearAllSnapshots();const o=Gi.now();_i.delta=zo(0,1e3/60,o-_i.timestamp),_i.timestamp=o,_i.isProcessing=!0,ok.update.process(_i),ok.preRender.process(_i),ok.render.process(_i),_i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rge),this.sharedNodes.forEach(Qge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ki(this.snapshot.measuredBox.x)&&!Ki(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!TU(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(o||Nc(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),Bge(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Hr();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zge))){const{scroll:f}=this.root;f&&(zh(o.x,f.offset.x),zh(o.y,f.offset.y))}return o}removeElementScroll(a){const o=Hr();if(ja(o,a),this.scroll?.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:d}=f;f!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&ja(o,a),zh(o.x,h.offset.x),zh(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const u=Hr();ja(u,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Zh(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Nc(h.latestValues)&&Zh(u,h.latestValues)}return Nc(this.latestValues)&&Zh(u,this.latestValues),u}removeTransform(a){const o=Hr();ja(o,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Nc(f.latestValues))continue;xE(f.latestValues)&&f.updateSnapshot();const h=Hr(),d=f.measurePageBox();ja(h,d),ij(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Nc(this.latestValues)&&ij(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=_i.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hr(),this.targetWithTransforms=Hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ja(this.target,this.layout.layoutBox),pU(this.target,this.targetDelta)):ja(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xE(this.parent.latestValues)||dU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),D_(this.relativeTargetOrigin,o,u),ja(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_i.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ja(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;jme(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hr());const{target:O}=a;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HL(this.prevProjectionDelta.x,this.projectionDelta.x),HL(this.prevProjectionDelta.y,this.projectionDelta.y)),Nm(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!uj(this.projectionDelta.x,this.prevProjectionDelta.x)||!uj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bh(),this.projectionDelta=Bh(),this.projectionDeltaWithTransform=Bh()}setAnimationOrigin(a,o=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},d=Bh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Hr(),O=u?u.source:void 0,y=this.layout?this.layout.source:void 0,v=O!==y,w=this.getStack(),k=!w||w.members.length<=1,T=!!(v&&!k&&this.options.crossfade===!0&&!this.path.some(Lge));this.animationProgress=0;let A;this.mixTargetDelta=C=>{const I=C/1e3;gj(d.x,a.x,I),gj(d.y,a.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(D_(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nge(this.relativeTarget,this.relativeTargetOrigin,m,I),A&&pge(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Hr()),ja(A,this.relativeTarget)),v&&(this.animationValues=h,Oge(h,f,this.latestValues,I,T,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{Bb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xd(0)),this.currentAnimation=bge(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kge),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:f,latestValues:h}=a;if(!(!o||!u||!f)){if(this!==a&&this.layout&&f&&$U(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Hr();const d=Ki(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+d;const m=Ki(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}ja(o,u),Zh(o,h),Nm(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new xge),this.sharedNodes.get(a).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const f={};u.z&&gk("z",a,f,this.animationValues);for(let h=0;h<mk.length;h++)gk(`rotate${mk[h]}`,a,f,this.animationValues),gk(`skew${mk[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=jb(o?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=jb(o?.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let d=mge(this.projectionDeltaWithTransform,this.treeScale,h);u&&(d=u(h,d)),a.transform=d;const{x:m,y:O}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${O.origin*100}% 0`,f.animationValues?a.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in TE){if(h[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:k}=TE[y],T=d==="none"?h[y]:v(h[y],f);if(w){const A=w.length;for(let C=0;C<A;C++)a[w[C]]=T}else k?this.options.visualElement.renderState.vars[y]=T:a[y]=T}this.options.layoutId&&(a.pointerEvents=f===this?jb(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(dj),this.root.sharedNodes.clear()}}}function Ege(t){t.updateLayout()}function Age(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Co(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=Ki(d);d.min=n[h].min,d.max=d.min+m}):$U(i,e.layoutBox,n)&&Co(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=Ki(n[h]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Bh();Nm(a,n,e.layoutBox);const o=Bh();s?Nm(o,t.applyTransform(r,!0),e.measuredBox):Nm(o,n,e.layoutBox);const u=!TU(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const O=Hr();D_(O,e.layoutBox,d.layoutBox);const y=Hr();D_(y,n,m.layoutBox),EU(O,y)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=O,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Cge(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pge(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rge(t){t.clearSnapshot()}function dj(t){t.clearMeasurements()}function pj(t){t.isLayoutDirty=!1}function $ge(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Mge(t){t.resolveTargetDelta()}function Ige(t){t.calcProjection()}function Dge(t){t.resetSkewAndRotation()}function Qge(t){t.removeLeadSnapshot()}function gj(t,e,n){t.translate=nr(e.translate,0,n),t.scale=nr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Oj(t,e,n,r){t.min=nr(e.min,n.min,r),t.max=nr(e.max,n.max,r)}function Nge(t,e,n,r){Oj(t.x,e.x,n.x,r),Oj(t.y,e.y,n.y,r)}function Lge(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jge={duration:.45,ease:[.4,0,.1,1]},yj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vj=yj("applewebkit/")&&!yj("chrome/")?Math.round:_a;function bj(t){t.min=vj(t.min),t.max=vj(t.max)}function Bge(t){bj(t.x),bj(t.y)}function $U(t,e,n){return t==="position"||t==="preserve-aspect"&&!uge(lj(e),lj(n),.2)}function zge(t){return t!==t.root&&t.scroll?.wasRoot}const Zge=RU({attachResizeListener:(t,e)=>wg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ok={current:void 0},MU=RU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ok.current){const t=new Zge({});t.mount(window),t.setOptions({layoutScroll:!0}),Ok.current=t}return Ok.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aP=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _j(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uge(...t){return e=>{let n=!1;const r=t.map(i=>{const s=_j(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():_j(t[i],null)}}}}function qge(...t){return $.useCallback(Uge(...t),t)}class Vge extends $.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=wE(r)&&r.offsetWidth||0,s=wE(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Xge({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=$.useId(),o=$.useRef(null),u=$.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=$.useContext(aP),h=t.props?.ref??t?.ref,d=qge(o,h);return $.useInsertionEffect(()=>{const{width:m,height:O,top:y,left:v,right:w,bottom:k}=u.current;if(e||s===!1||!o.current||!m||!O)return;const T=n==="left"?`left: ${v}`:`right: ${w}`,A=r==="bottom"?`bottom: ${k}`:`top: ${y}`;o.current.dataset.motionPopId=a;const C=document.createElement("style");f&&(C.nonce=f);const I=i??document.head;return I.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${O}px !important;
            ${T}px !important;
            ${A}px !important;
          }
        `),()=>{I.contains(C)&&I.removeChild(C)}},[e]),M.jsx(Vge,{isPresent:e,childRef:o,sizeRef:u,pop:s,children:s===!1?t:$.cloneElement(t,{ref:d})})}const Fge=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:u,root:f})=>{const h=$C(Yge),d=$.useId();let m=!0,O=$.useMemo(()=>(m=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:y=>{h.set(y,!0);for(const v of h.values())if(!v)return;r&&r()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,r]);return s&&m&&(O={...O}),$.useMemo(()=>{h.forEach((y,v)=>h.set(v,!1))},[n]),$.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),t=M.jsx(Xge,{pop:a==="popLayout",isPresent:n,anchorX:o,anchorY:u,root:f,children:t}),M.jsx(Zw.Provider,{value:O,children:t})};function Yge(){return new Map}function IU(t=!0){const e=$.useContext(Zw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=$.useId();$.useEffect(()=>{if(t)return i(s)},[t]);const a=$.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const G0=t=>t.key||"";function wj(t){const e=[];return $.Children.forEach(t,n=>{$.isValidElement(n)&&e.push(n)}),e}const Wge=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:u="top",root:f})=>{const[h,d]=IU(a),m=$.useMemo(()=>wj(t),[t]),O=a&&!h?[]:m.map(G0),y=$.useRef(!0),v=$.useRef(m),w=$C(()=>new Map),k=$.useRef(new Set),[T,A]=$.useState(m),[C,I]=$.useState(m);c4(()=>{y.current=!1,v.current=m;for(let j=0;j<C.length;j++){const q=G0(C[j]);O.includes(q)?(w.delete(q),k.current.delete(q)):w.get(q)!==!0&&w.set(q,!1)}},[C,O.length,O.join("-")]);const Q=[];if(m!==T){let j=[...m];for(let q=0;q<C.length;q++){const oe=C[q],we=G0(oe);O.includes(we)||(j.splice(q,0,oe),Q.push(oe))}return s==="wait"&&Q.length&&(j=Q),I(wj(j)),A(m),null}const{forceRender:N}=$.useContext(RC);return M.jsx(M.Fragment,{children:C.map(j=>{const q=G0(j),oe=a&&!h?!1:m===C||O.includes(q),we=()=>{if(k.current.has(q))return;if(k.current.add(q),w.has(q))w.set(q,!0);else return;let K=!0;w.forEach(Ae=>{Ae||(K=!1)}),K&&(N?.(),I(v.current),a&&d?.(),r&&r())};return M.jsx(Fge,{isPresent:oe,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:f,onExitComplete:oe?void 0:we,anchorX:o,anchorY:u,children:j},q)})})},DU=$.createContext({strict:!1}),Sj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let xj=!1;function Gge(){if(xj)return;const t={};for(const e in Sj)t[e]={isEnabled:n=>Sj[e].some(r=>!!n[r])};cU(t),xj=!0}function QU(){return Gge(),Dme()}function Kge(t){const e=QU();for(const n in t)e[n]={...e[n],...t[n]};cU(e)}const Hge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Q_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Hge.has(t)}let NU=t=>!Q_(t);function Jge(t){typeof t=="function"&&(NU=e=>e.startsWith("on")?!Q_(e):t(e))}try{Jge(require("@emotion/is-prop-valid").default)}catch{}function eOe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(NU(i)||n===!0&&Q_(i)||!e&&!Q_(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Vw=$.createContext({});function tOe(t,e){if(qw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_g(n)?n:void 0,animate:_g(r)?r:void 0}}return t.inherit!==!1?e:{}}function nOe(t){const{initial:e,animate:n}=tOe(t,$.useContext(Vw));return $.useMemo(()=>({initial:e,animate:n}),[kj(e),kj(n)])}function kj(t){return Array.isArray(t)?t.join(" "):t}const oP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LU(t,e,n){for(const r in e)!$i(e[r])&&!OU(r,n)&&(t[r]=e[r])}function rOe({transformTemplate:t},e){return $.useMemo(()=>{const n=oP();return iP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iOe(t,e){const n=t.style||{},r={};return LU(r,n,t),Object.assign(r,rOe(t,e)),r}function sOe(t,e){const n={},r=iOe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jU=()=>({...oP(),attrs:{}});function aOe(t,e,n,r){const i=$.useMemo(()=>{const s=jU();return yU(s,e,bU(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LU(s,t.style,t),i.style={...s,...i.style}}return i}const oOe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lP(t){return typeof t!="string"||t.includes("-")?!1:!!(oOe.indexOf(t)>-1||/[A-Z]/u.test(t))}function lOe(t,e,n,{latestValues:r},i,s=!1,a){const u=(a??lP(t)?aOe:sOe)(e,r,i,t),f=eOe(e,typeof t=="string",s),h=t!==$.Fragment?{...f,...u,ref:n}:{},{children:d}=e,m=$.useMemo(()=>$i(d)?d.get():d,[d]);return $.createElement(t,{...h,children:m})}function uOe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:cOe(n,r,i,t),renderState:e()}}function cOe(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=jb(s[m]);let{initial:a,animate:o}=t;const u=qw(t),f=lU(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!Uw(d)){const m=Array.isArray(d)?d:[d];for(let O=0;O<m.length;O++){const y=GC(t,m[O]);if(y){const{transitionEnd:v,transition:w,...k}=y;for(const T in k){let A=k[T];if(Array.isArray(A)){const C=h?A.length-1:0;A=A[C]}A!==null&&(i[T]=A)}for(const T in v)i[T]=v[T]}}}return i}const BU=t=>(e,n)=>{const r=$.useContext(Vw),i=$.useContext(Zw),s=()=>uOe(t,e,r,i);return n?s():$C(s)},fOe=BU({scrapeMotionValuesFromProps:sP,createRenderState:oP}),hOe=BU({scrapeMotionValuesFromProps:_U,createRenderState:jU}),dOe=Symbol.for("motionComponentSymbol");function pOe(t,e,n){const r=$.useRef(n);$.useInsertionEffect(()=>{r.current=n});const i=$.useRef(null);return $.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const o=a(s);typeof o=="function"&&(i.current=o)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const zU=$.createContext({});function Mh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mOe(t,e,n,r,i,s){const{visualElement:a}=$.useContext(Vw),o=$.useContext(DU),u=$.useContext(Zw),f=$.useContext(aP),h=f.reducedMotion,d=f.skipAnimations,m=$.useRef(null),O=$.useRef(!1);r=r||o.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,skipAnimations:d,isSVG:s}),O.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const y=m.current,v=$.useContext(zU);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&gOe(m.current,n,i,v);const w=$.useRef(!1);$.useInsertionEffect(()=>{y&&w.current&&y.update(n,u)});const k=n[W4],T=$.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return c4(()=>{O.current=!0,y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),$.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),T.current=!1),y.enteringChildren=void 0)}),y}function gOe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Mh(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:f})}function ZU(t){if(t)return t.options.allowProjection!==!1?t.projection:ZU(t.parent)}function yk(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&Kge(r);const s=n?n==="svg":lP(t),a=s?hOe:fOe;function o(f,h){let d;const m={...$.useContext(aP),...f,layoutId:OOe(f)},{isStatic:O}=m,y=nOe(f),v=a(f,O);if(!O&&u4){yOe();const w=vOe(m);d=w.MeasureLayout,y.visualElement=mOe(t,v,m,i,w.ProjectionNode,s)}return M.jsxs(Vw.Provider,{value:y,children:[d&&y.visualElement?M.jsx(d,{visualElement:y.visualElement,...m}):null,lOe(t,f,pOe(v,y.visualElement,h),v,O,e,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=$.forwardRef(o);return u[dOe]=t,u}function OOe({layoutId:t}){const e=$.useContext(RC).id;return e&&t!==void 0?e+"-"+t:t}function yOe(t,e){$.useContext(DU).strict}function vOe(t){const e=QU(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function bOe(t,e){if(typeof Proxy>"u")return yk;const n=new Map,r=(s,a)=>yk(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,yk(a,void 0,t,e)),n.get(a))})}const _Oe=(t,e)=>e.isSVG??lP(t)?new Hme(e):new Xme(e,{allowProjection:t!==$.Fragment});class wOe extends lc{constructor(e){super(e),e.animationState||(e.animationState=rge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SOe=0;class xOe extends lc{constructor(){super(...arguments),this.id=SOe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kOe={animation:{Feature:wOe},exit:{Feature:xOe}};function mO(t){return{point:{x:t.pageX,y:t.pageY}}}const TOe=t=>e=>eP(e)&&t(e,mO(e));function Lm(t,e,n,r){return wg(t,e,TOe(n),r)}const UU=({current:t})=>t?t.ownerDocument.defaultView:null,Tj=(t,e)=>Math.abs(t-e);function EOe(t,e){const n=Tj(t.x,e.x),r=Tj(t.y,e.y);return Math.sqrt(n**2+r**2)}const Ej=new Set(["auto","scroll"]);class qU{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=O=>{this.handleScroll(O.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=bk(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=EOe(O.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:w}=O,{timestamp:k}=_i;this.history.push({...w,timestamp:k});const{onStart:T,onMove:A}=this.handlers;y||(T&&T(this.lastMoveEvent,O),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,O)},this.handlePointerMove=(O,y)=>{this.lastMoveEvent=O,this.lastMoveEventInfo=vk(y,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(O,y)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=bk(O.type==="pointercancel"?this.lastMoveEventInfo:vk(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(O,T),w&&w(O,T)},!eP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const u=mO(e),f=vk(u,this.transformPagePoint),{point:h}=f,{timestamp:d}=_i;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,bk(f,this.history)),this.removeListeners=hO(Lm(this.contextWindow,"pointermove",this.handlePointerMove),Lm(this.contextWindow,"pointerup",this.handlePointerUp),Lm(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Ej.has(r.overflowX)||Ej.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),Qn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yu(this.updatePoint)}}function vk(t,e){return e?{point:e(t.point)}:t}function Aj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bk({point:t},e){return{point:t,delta:Aj(t,VU(e)),offset:Aj(t,AOe(e)),velocity:COe(e,.1)}}function AOe(t){return t[0]}function VU(t){return t[t.length-1]}function COe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=VU(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ga(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Ga(e)*2&&(r=t[1]);const s=Oa(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function POe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nr(n,t,r.max):Math.min(t,n)),t}function Cj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ROe(t,{top:e,left:n,bottom:r,right:i}){return{x:Cj(t.x,n,i),y:Cj(t.y,e,r)}}function Pj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $Oe(t,e){return{x:Pj(t.x,e.x),y:Pj(t.y,e.y)}}function MOe(t,e){let n=.5;const r=Ki(t),i=Ki(e);return i>r?n=yg(e.min,e.max-r,t.min):r>i&&(n=yg(t.min,t.max-i,e.min)),zo(0,1,n)}function IOe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const EE=.35;function DOe(t=EE){return t===!1?t=0:t===!0&&(t=EE),{x:Rj(t,"left","right"),y:Rj(t,"top","bottom")}}function Rj(t,e,n){return{min:$j(t,e),max:$j(t,n)}}function $j(t,e){return typeof t=="number"?t:t[e]||0}const QOe=new WeakMap;class NOe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{n&&this.snapToCursor(mO(d).point),this.stopAnimation()},a=(d,m)=>{const{drag:O,dragPropagation:y,onDragStart:v}=this.getProps();if(O&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fme(O),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Co(k=>{let T=this.getAxisMotionValue(k).get()||0;if(No.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const C=A.layout.layoutBox[k];C&&(T=Ki(C)*(parseFloat(T)/100))}}this.originPoint[k]=T}),v&&Qn.update(()=>v(d,m),!1,!0),vE(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:O,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:k}=m;if(y&&this.currentDirection===null){this.currentDirection=jOe(k),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,k),this.updateAxis("y",m.point,k),this.visualElement.render(),w&&Qn.update(()=>w(d,m),!1,!0)},u=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new qU(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:UU(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Qn.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!K0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=POe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Mh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ROe(r.layoutBox,e):this.constraints=!1,this.elastic=DOe(n),i!==this.constraints&&!Mh(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Co(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=IOe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Bme(r,i.root,this.visualElement.getTransformPagePoint());let a=$Oe(i.layout.layoutBox,s);if(n){const o=n(Nme(a));this.hasMutatedConstraints=!!o,o&&(a=hU(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},f=Co(h=>{if(!K0(h,n,this.currentDirection))return;let d=u&&u[h]||{};a&&(d={min:0,max:0});const m=i?200:1e6,O=i?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vE(this.visualElement,e),r.start(WC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Co(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Co(n=>{const{drag:r}=this.getProps();if(!K0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n],u=s.get()||0;s.set(e[n]-nr(a,o,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Co(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();i[a]=MOe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Co(a=>{if(!K0(a,e,null))return;const o=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];o.set(nr(u,f,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;QOe.set(this.visualElement,this);const e=this.visualElement.current,n=Lm(e,"pointerdown",f=>{const{drag:h,dragListener:d=!0}=this.getProps(),m=f.target,O=m!==e&&Ome(m);h&&d&&!O&&this.start(f)});let r;const i=()=>{const{dragConstraints:f}=this.getProps();Mh(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),r||(r=LOe(e,f.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qn.read(i);const o=wg(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Co(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=f[d].translate,m.set(m.get()+f[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),u&&u(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=EE,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Mj(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function LOe(t,e,n){const r=BL(t,Mj(n)),i=BL(e,Mj(n));return()=>{r(),i()}}function K0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jOe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BOe extends lc{constructor(e){super(e),this.removeGroupControls=_a,this.removeListeners=_a,this.controls=new NOe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_a}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const _k=t=>(e,n)=>{t&&Qn.update(()=>t(e,n),!1,!0)};class zOe extends lc{constructor(){super(...arguments),this.removePointerDownListener=_a}onPointerDown(e){this.session=new qU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:_k(e),onStart:_k(n),onMove:_k(r),onEnd:(s,a)=>{delete this.session,i&&Qn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Lm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wk=!1;class ZOe extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),wk&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Bb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),wk=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Qn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),JC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;wk=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XU(t){const[e,n]=IU(),r=$.useContext(RC);return M.jsx(ZOe,{...t,layoutGroup:r,switchLayoutGroup:$.useContext(zU),isPresent:e,safeToRemove:n})}const UOe={pan:{Feature:zOe},drag:{Feature:BOe,ProjectionNode:MU,MeasureLayout:XU}};function Ij(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Qn.postRender(()=>s(e,mO(e)))}class qOe extends lc{mount(){const{current:e}=this.node;e&&(this.unmount=dme(e,(n,r)=>(Ij(this.node,r,"Start"),i=>Ij(this.node,i,"End"))))}unmount(){}}class VOe extends lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hO(wg(this.node.current,"focus",()=>this.onFocus()),wg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dj(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Qn.postRender(()=>s(e,mO(e)))}class XOe extends lc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=vme(e,(i,s)=>(Dj(this.node,s,"Start"),(a,{success:o})=>Dj(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const AE=new WeakMap,Sk=new WeakMap,FOe=t=>{const e=AE.get(t.target);e&&e(t)},YOe=t=>{t.forEach(FOe)};function WOe({root:t,...e}){const n=t||document;Sk.has(n)||Sk.set(n,{});const r=Sk.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YOe,{root:t,...e})),r[i]}function GOe(t,e,n){const r=WOe(e);return AE.set(t,n),r.observe(t),()=>{AE.delete(t),r.unobserve(t)}}const KOe={some:0,all:1};class HOe extends lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:KOe[i]},o=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=f?h:d;m&&m(u)};return GOe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JOe(e,n))&&this.startObserver()}unmount(){}}function JOe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eye={inView:{Feature:HOe},tap:{Feature:XOe},focus:{Feature:VOe},hover:{Feature:qOe}},tye={layout:{ProjectionNode:MU,MeasureLayout:XU}},nye={...kOe,...eye,...UOe,...tye},rye=bOe(nye,_Oe),iye=80,sye=30;function aye({onBack:t,enabled:e=!0}){$.useEffect(()=>{if(!e)return;let n=0,r=0,i=!1;const s=u=>{const f=u.touches[0];f&&f.clientX<=sye&&(n=f.clientX,r=f.clientY,i=!0)},a=u=>{if(!i)return;i=!1;const f=u.changedTouches[0];if(!f)return;const h=f.clientX-n,d=Math.abs(f.clientY-r);h>iye&&d<h*.75&&t()},o=()=>{i=!1};return window.addEventListener("touchstart",s,{passive:!0}),window.addEventListener("touchend",a,{passive:!0}),window.addEventListener("touchcancel",o,{passive:!0}),()=>{window.removeEventListener("touchstart",s),window.removeEventListener("touchend",a),window.removeEventListener("touchcancel",o)}},[e,t])}function oye(t){const e=new Date;e.setHours(0,0,0,0);const n=e.toISOString();return t.updated_at>=n||t.created_at>=n}function lye(t){return(t.content??"").includes("- [ ]")}function uye(t){const{db:e,isReady:n}=ac(),[r,i]=$.useState([]),[s,a]=$.useState(!0);return $.useEffect(()=>{if(!e||!n)return;if(t==="locked"){i([]),a(!1);return}const o=t==="trash"?{is_trashed:!0}:t==="pinned"?{is_pinned:!0,is_trashed:!1}:{is_trashed:!1},u=e.notes.find({selector:o,sort:[{is_pinned:"desc"},{updated_at:"desc"},{id:"asc"}]}).$.subscribe(f=>{let h=f.map(d=>d.toJSON());t==="today"?h=h.filter(oye):t==="todo"&&(h=h.filter(lye)),i(h),a(!1)});return()=>u.unsubscribe()},[e,n,t]),{notes:r,isLoading:s}}const cye="_container_1sdbr_1",fye="_header_1sdbr_8",hye="_backButton_1sdbr_21",dye="_title_1sdbr_44",pye="_newButton_1sdbr_50",mye="_list_1sdbr_77",gye="_empty_1sdbr_87",Oye="_item_1sdbr_93",yye="_itemTitleRow_1sdbr_119",vye="_itemTitle_1sdbr_119",bye="_pinIcon_1sdbr_134",_ye="_itemSnippet_1sdbr_149",wye="_itemMeta_1sdbr_158",vs={container:cye,header:fye,backButton:hye,title:dye,newButton:pye,list:mye,empty:gye,item:Oye,itemTitleRow:yye,itemTitle:vye,pinIcon:bye,itemSnippet:_ye,itemMeta:wye},Sye={all:"Notes",todo:"Todo",today:"Today",locked:"Locked",pinned:"Pinned",trash:"Trash"},xye=()=>new Date().toISOString();function FU({group:t}){const{db:e,isReady:n}=ac(),{pushLayer:r,goBack:i}=nc(),{notes:s,isLoading:a}=uye(t),o=d=>{r({view:"note-detail",noteId:d})},u=async()=>{if(!e)return;const d=xye(),m=_l();await e.notes.insert({id:m,title:"Untitled",content:"",inbox_at:null,note_type:null,is_pinned:!1,properties:null,created_at:d,updated_at:d,is_trashed:!1,trashed_at:null}),r({view:"note-detail",noteId:m})},f=Sye[t]??"Notes",h=t!=="trash"&&t!=="locked";return $.useEffect(()=>{t==="locked"&&zw("Locked notes coming soon")},[t]),M.jsxs("div",{className:vs.container,children:[M.jsxs("div",{className:vs.header,children:[M.jsx("button",{type:"button",className:vs.backButton,onClick:i,"aria-label":"Go back",children:M.jsx(kye,{})}),M.jsx("h1",{className:vs.title,children:f}),h&&M.jsx("button",{type:"button",className:vs.newButton,onClick:u,disabled:!e||!n,"aria-label":"New note",children:M.jsx(Tye,{})})]}),M.jsx("div",{className:vs.list,children:a?M.jsx("p",{className:vs.empty,children:"Loading..."}):s.length===0?M.jsx("p",{className:vs.empty,children:"No notes here yet."}):s.map(d=>{const m=eE(Sd(d.content,d.title)),O=Uue(d.content),y=_C(d.updated_at);return M.jsxs("button",{type:"button",className:vs.item,onClick:()=>o(d.id),children:[M.jsxs("div",{className:vs.itemTitleRow,children:[M.jsx("div",{className:vs.itemTitle,children:m}),d.is_pinned&&M.jsx(Eye,{})]}),O?M.jsx("div",{className:vs.itemSnippet,children:O}):null,M.jsxs("div",{className:vs.itemMeta,children:["Updated ",y]})]},d.id)})})]})}function kye(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:M.jsx("path",{d:"M15 18l-6-6 6-6"})})}function Tye(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:M.jsx("path",{d:"M12 5v14M5 12h14"})})}function Eye(){return M.jsx("span",{className:vs.pinIcon,"aria-hidden":"true",children:M.jsx("svg",{viewBox:"0 0 24 24",focusable:"false",children:M.jsx("path",{d:"M8 4h8l-1.6 3.2c-.2.4-.2.8 0 1.2L16 12v4l-4-2.2L8 16v-4l1.6-3.6c.2-.4.2-.8 0-1.2L8 4z",fill:"currentColor"})})})}function YU(t){const e=t+"CollectionProvider",[n,r]=Fd(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:k}=v,T=Su.useRef(null),A=Su.useRef(new Map).current;return M.jsx(i,{scope:w,itemMap:A,collectionRef:T,children:k})};a.displayName=e;const o=t+"CollectionSlot",u=Og(o),f=Su.forwardRef((v,w)=>{const{scope:k,children:T}=v,A=s(o,k),C=ki(w,A.collectionRef);return M.jsx(u,{ref:C,children:T})});f.displayName=o;const h=t+"CollectionItemSlot",d="data-radix-collection-item",m=Og(h),O=Su.forwardRef((v,w)=>{const{scope:k,children:T,...A}=v,C=Su.useRef(null),I=ki(w,C),Q=s(h,k);return Su.useEffect(()=>(Q.itemMap.set(C,{ref:C,...A}),()=>{Q.itemMap.delete(C)})),M.jsx(m,{[d]:"",ref:I,children:T})});O.displayName=h;function y(v){const w=s(t+"CollectionConsumer",v);return Su.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((Q,N)=>A.indexOf(Q.ref.current)-A.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:f,ItemSlot:O},y,r]}var Aye=$.createContext(void 0);function WU(t){const e=$.useContext(Aye);return t||e||"ltr"}const Cye=["top","right","bottom","left"],Gu=Math.min,Xs=Math.max,N_=Math.round,H0=Math.floor,Lo=t=>({x:t,y:t}),Pye={left:"right",right:"left",bottom:"top",top:"bottom"},Rye={start:"end",end:"start"};function CE(t,e,n){return Xs(t,Gu(e,n))}function Dl(t,e){return typeof t=="function"?t(e):t}function Ql(t){return t.split("-")[0]}function Kd(t){return t.split("-")[1]}function uP(t){return t==="x"?"y":"x"}function cP(t){return t==="y"?"height":"width"}const $ye=new Set(["top","bottom"]);function Io(t){return $ye.has(Ql(t))?"y":"x"}function fP(t){return uP(Io(t))}function Mye(t,e,n){n===void 0&&(n=!1);const r=Kd(t),i=fP(t),s=cP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=L_(a)),[a,L_(a)]}function Iye(t){const e=L_(t);return[PE(t),e,PE(e)]}function PE(t){return t.replace(/start|end/g,e=>Rye[e])}const Qj=["left","right"],Nj=["right","left"],Dye=["top","bottom"],Qye=["bottom","top"];function Nye(t,e,n){switch(t){case"top":case"bottom":return n?e?Nj:Qj:e?Qj:Nj;case"left":case"right":return e?Dye:Qye;default:return[]}}function Lye(t,e,n,r){const i=Kd(t);let s=Nye(Ql(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(PE)))),s}function L_(t){return t.replace(/left|right|bottom|top/g,e=>Pye[e])}function jye(t){return{top:0,right:0,bottom:0,left:0,...t}}function GU(t){return typeof t!="number"?jye(t):{top:t,right:t,bottom:t,left:t}}function j_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Lj(t,e,n){let{reference:r,floating:i}=t;const s=Io(e),a=fP(e),o=cP(a),u=Ql(e),f=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let O;switch(u){case"top":O={x:h,y:r.y-i.height};break;case"bottom":O={x:h,y:r.y+r.height};break;case"right":O={x:r.x+r.width,y:d};break;case"left":O={x:r.x-i.width,y:d};break;default:O={x:r.x,y:r.y}}switch(Kd(e)){case"start":O[a]-=m*(n&&f?-1:1);break;case"end":O[a]+=m*(n&&f?-1:1);break}return O}async function Bye(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:O=0}=Dl(e,t),y=GU(O),w=o[m?d==="floating"?"reference":"floating":d],k=j_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:f,rootBoundary:h,strategy:u})),T=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),C=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},I=j_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:T,offsetParent:A,strategy:u}):T);return{top:(k.top-I.top+y.top)/C.y,bottom:(I.bottom-k.bottom+y.bottom)/C.y,left:(k.left-I.left+y.left)/C.x,right:(I.right-k.right+y.right)/C.x}}const zye=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=Lj(f,r,u),m=r,O={},y=0;for(let w=0;w<o.length;w++){var v;const{name:k,fn:T}=o[w],{x:A,y:C,data:I,reset:Q}=await T({x:h,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:O,rects:f,platform:{...a,detectOverflow:(v=a.detectOverflow)!=null?v:Bye},elements:{reference:t,floating:e}});h=A??h,d=C??d,O={...O,[k]:{...O[k],...I}},Q&&y<=50&&(y++,typeof Q=="object"&&(Q.placement&&(m=Q.placement),Q.rects&&(f=Q.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):Q.rects),{x:h,y:d}=Lj(f,m,u)),w=-1)}return{x:h,y:d,placement:m,strategy:i,middlewareData:O}},Zye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:u}=e,{element:f,padding:h=0}=Dl(t,e)||{};if(f==null)return{};const d=GU(h),m={x:n,y:r},O=fP(i),y=cP(O),v=await a.getDimensions(f),w=O==="y",k=w?"top":"left",T=w?"bottom":"right",A=w?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[O]-m[O]-s.floating[y],I=m[O]-s.reference[O],Q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let N=Q?Q[A]:0;(!N||!await(a.isElement==null?void 0:a.isElement(Q)))&&(N=o.floating[A]||s.floating[y]);const j=C/2-I/2,q=N/2-v[y]/2-1,oe=Gu(d[k],q),we=Gu(d[T],q),K=oe,Ae=N-v[y]-we,Ee=N/2-v[y]/2+j,Be=CE(K,Ee,Ae),G=!u.arrow&&Kd(i)!=null&&Ee!==Be&&s.reference[y]/2-(Ee<K?oe:we)-v[y]/2<0,ye=G?Ee<K?Ee-K:Ee-Ae:0;return{[O]:m[O]+ye,data:{[O]:Be,centerOffset:Ee-Be-ye,...G&&{alignmentOffset:ye}},reset:G}}}),Uye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=Dl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=Ql(i),T=Io(o),A=Ql(o)===o,C=await(u.isRTL==null?void 0:u.isRTL(f.floating)),I=m||(A||!v?[L_(o)]:Iye(o)),Q=y!=="none";!m&&Q&&I.push(...Lye(o,v,y,C));const N=[o,...I],j=await u.detectOverflow(e,w),q=[];let oe=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&q.push(j[k]),d){const Ee=Mye(i,a,C);q.push(j[Ee[0]],j[Ee[1]])}if(oe=[...oe,{placement:i,overflows:q}],!q.every(Ee=>Ee<=0)){var we,K;const Ee=(((we=s.flip)==null?void 0:we.index)||0)+1,Be=N[Ee];if(Be&&(!(d==="alignment"?T!==Io(Be):!1)||oe.every(Se=>Io(Se.placement)===T?Se.overflows[0]>0:!0)))return{data:{index:Ee,overflows:oe},reset:{placement:Be}};let G=(K=oe.filter(ye=>ye.overflows[0]<=0).sort((ye,Se)=>ye.overflows[1]-Se.overflows[1])[0])==null?void 0:K.placement;if(!G)switch(O){case"bestFit":{var Ae;const ye=(Ae=oe.filter(Se=>{if(Q){const Te=Io(Se.placement);return Te===T||Te==="y"}return!0}).map(Se=>[Se.placement,Se.overflows.filter(Te=>Te>0).reduce((Te,he)=>Te+he,0)]).sort((Se,Te)=>Se[1]-Te[1])[0])==null?void 0:Ae[0];ye&&(G=ye);break}case"initialPlacement":G=o;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function jj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bj(t){return Cye.some(e=>t[e]>=0)}const qye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...s}=Dl(t,e);switch(i){case"referenceHidden":{const a=await r.detectOverflow(e,{...s,elementContext:"reference"}),o=jj(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bj(o)}}}case"escaped":{const a=await r.detectOverflow(e,{...s,altBoundary:!0}),o=jj(a,n.floating);return{data:{escapedOffsets:o,escaped:Bj(o)}}}default:return{}}}}},KU=new Set(["left","top"]);async function Vye(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Ql(n),o=Kd(n),u=Io(n)==="y",f=KU.has(a)?-1:1,h=s&&u?-1:1,d=Dl(e,t);let{mainAxis:m,crossAxis:O,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof y=="number"&&(O=o==="end"?y*-1:y),u?{x:O*h,y:m*f}:{x:m*f,y:O*h}}const Xye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,u=await Vye(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},Fye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:u={fn:k=>{let{x:T,y:A}=k;return{x:T,y:A}}},...f}=Dl(t,e),h={x:n,y:r},d=await s.detectOverflow(e,f),m=Io(Ql(i)),O=uP(m);let y=h[O],v=h[m];if(a){const k=O==="y"?"top":"left",T=O==="y"?"bottom":"right",A=y+d[k],C=y-d[T];y=CE(A,y,C)}if(o){const k=m==="y"?"top":"left",T=m==="y"?"bottom":"right",A=v+d[k],C=v-d[T];v=CE(A,v,C)}const w=u.fn({...e,[O]:y,[m]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[O]:a,[m]:o}}}}}},Yye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:u=!0,crossAxis:f=!0}=Dl(t,e),h={x:n,y:r},d=Io(i),m=uP(d);let O=h[m],y=h[d];const v=Dl(o,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const A=m==="y"?"height":"width",C=s.reference[m]-s.floating[A]+w.mainAxis,I=s.reference[m]+s.reference[A]-w.mainAxis;O<C?O=C:O>I&&(O=I)}if(f){var k,T;const A=m==="y"?"width":"height",C=KU.has(Ql(i)),I=s.reference[d]-s.floating[A]+(C&&((k=a.offset)==null?void 0:k[d])||0)+(C?0:w.crossAxis),Q=s.reference[d]+s.reference[A]+(C?0:((T=a.offset)==null?void 0:T[d])||0)-(C?w.crossAxis:0);y<I?y=I:y>Q&&(y=Q)}return{[m]:O,[d]:y}}}},Wye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:u=()=>{},...f}=Dl(t,e),h=await a.detectOverflow(e,f),d=Ql(i),m=Kd(i),O=Io(i)==="y",{width:y,height:v}=s.floating;let w,k;d==="top"||d==="bottom"?(w=d,k=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(k=d,w=m==="end"?"top":"bottom");const T=v-h.top-h.bottom,A=y-h.left-h.right,C=Gu(v-h[w],T),I=Gu(y-h[k],A),Q=!e.middlewareData.shift;let N=C,j=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=T),Q&&!m){const oe=Xs(h.left,0),we=Xs(h.right,0),K=Xs(h.top,0),Ae=Xs(h.bottom,0);O?j=y-2*(oe!==0||we!==0?oe+we:Xs(h.left,h.right)):N=v-2*(K!==0||Ae!==0?K+Ae:Xs(h.top,h.bottom))}await u({...e,availableWidth:j,availableHeight:N});const q=await a.getDimensions(o.floating);return y!==q.width||v!==q.height?{reset:{rects:!0}}:{}}}};function Xw(){return typeof window<"u"}function Hd(t){return HU(t)?(t.nodeName||"").toLowerCase():"#document"}function Gs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vo(t){var e;return(e=(HU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HU(t){return Xw()?t instanceof Node||t instanceof Gs(t).Node:!1}function eo(t){return Xw()?t instanceof Element||t instanceof Gs(t).Element:!1}function Zo(t){return Xw()?t instanceof HTMLElement||t instanceof Gs(t).HTMLElement:!1}function zj(t){return!Xw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gs(t).ShadowRoot}const Gye=new Set(["inline","contents"]);function gO(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=to(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Gye.has(i)}const Kye=new Set(["table","td","th"]);function Hye(t){return Kye.has(Hd(t))}const Jye=[":popover-open",":modal"];function Fw(t){return Jye.some(e=>{try{return t.matches(e)}catch{return!1}})}const eve=["transform","translate","scale","rotate","perspective"],tve=["transform","translate","scale","rotate","perspective","filter"],nve=["paint","layout","strict","content"];function hP(t){const e=dP(),n=eo(t)?to(t):t;return eve.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tve.some(r=>(n.willChange||"").includes(r))||nve.some(r=>(n.contain||"").includes(r))}function rve(t){let e=Ku(t);for(;Zo(e)&&!kd(e);){if(hP(e))return e;if(Fw(e))return null;e=Ku(e)}return null}function dP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ive=new Set(["html","body","#document"]);function kd(t){return ive.has(Hd(t))}function to(t){return Gs(t).getComputedStyle(t)}function Yw(t){return eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ku(t){if(Hd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zj(t)&&t.host||Vo(t);return zj(e)?e.host:e}function JU(t){const e=Ku(t);return kd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zo(e)&&gO(e)?e:JU(e)}function Sg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=JU(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Gs(i);if(s){const o=RE(a);return e.concat(a,a.visualViewport||[],gO(i)?i:[],o&&n?Sg(o):[])}return e.concat(i,Sg(i,[],n))}function RE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eq(t){const e=to(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zo(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=N_(n)!==s||N_(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function pP(t){return eo(t)?t:t.contextElement}function ad(t){const e=pP(t);if(!Zo(e))return Lo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=eq(e);let a=(s?N_(n.width):n.width)/r,o=(s?N_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const sve=Lo(0);function tq(t){const e=Gs(t);return!dP()||!e.visualViewport?sve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ave(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gs(t)?!1:e}function ff(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=pP(t);let a=Lo(1);e&&(r?eo(r)&&(a=ad(r)):a=ad(t));const o=ave(s,n,r)?tq(s):Lo(0);let u=(i.left+o.x)/a.x,f=(i.top+o.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const m=Gs(s),O=r&&eo(r)?Gs(r):r;let y=m,v=RE(y);for(;v&&r&&O!==y;){const w=ad(v),k=v.getBoundingClientRect(),T=to(v),A=k.left+(v.clientLeft+parseFloat(T.paddingLeft))*w.x,C=k.top+(v.clientTop+parseFloat(T.paddingTop))*w.y;u*=w.x,f*=w.y,h*=w.x,d*=w.y,u+=A,f+=C,y=Gs(v),v=RE(y)}}return j_({width:h,height:d,x:u,y:f})}function Ww(t,e){const n=Yw(t).scrollLeft;return e?e.left+n:ff(Vo(t)).left+n}function nq(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ww(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function ove(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Vo(r),o=e?Fw(e.floating):!1;if(r===a||o&&s)return n;let u={scrollLeft:0,scrollTop:0},f=Lo(1);const h=Lo(0),d=Zo(r);if((d||!d&&!s)&&((Hd(r)!=="body"||gO(a))&&(u=Yw(r)),Zo(r))){const O=ff(r);f=ad(r),h.x=O.x+r.clientLeft,h.y=O.y+r.clientTop}const m=a&&!d&&!s?nq(a,u):Lo(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+h.x+m.x,y:n.y*f.y-u.scrollTop*f.y+h.y+m.y}}function lve(t){return Array.from(t.getClientRects())}function uve(t){const e=Vo(t),n=Yw(t),r=t.ownerDocument.body,i=Xs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ww(t);const o=-n.scrollTop;return to(r).direction==="rtl"&&(a+=Xs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const Zj=25;function cve(t,e){const n=Gs(t),r=Vo(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const h=dP();(!h||h&&e==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}const f=Ww(r);if(f<=0){const h=r.ownerDocument,d=h.body,m=getComputedStyle(d),O=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-d.clientWidth-O);y<=Zj&&(s-=y)}else f<=Zj&&(s+=f);return{width:s,height:a,x:o,y:u}}const fve=new Set(["absolute","fixed"]);function hve(t,e){const n=ff(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zo(t)?ad(t):Lo(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,u=i*s.x,f=r*s.y;return{width:a,height:o,x:u,y:f}}function Uj(t,e,n){let r;if(e==="viewport")r=cve(t,n);else if(e==="document")r=uve(Vo(t));else if(eo(e))r=hve(e,n);else{const i=tq(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return j_(r)}function rq(t,e){const n=Ku(t);return n===e||!eo(n)||kd(n)?!1:to(n).position==="fixed"||rq(n,e)}function dve(t,e){const n=e.get(t);if(n)return n;let r=Sg(t,[],!1).filter(o=>eo(o)&&Hd(o)!=="body"),i=null;const s=to(t).position==="fixed";let a=s?Ku(t):t;for(;eo(a)&&!kd(a);){const o=to(a),u=hP(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&fve.has(i.position)||gO(a)&&!u&&rq(t,a))?r=r.filter(h=>h!==a):i=o,a=Ku(a)}return e.set(t,r),r}function pve(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Fw(e)?[]:dve(e,this._c):[].concat(n),r],o=a[0],u=a.reduce((f,h)=>{const d=Uj(e,h,i);return f.top=Xs(d.top,f.top),f.right=Gu(d.right,f.right),f.bottom=Gu(d.bottom,f.bottom),f.left=Xs(d.left,f.left),f},Uj(e,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mve(t){const{width:e,height:n}=eq(t);return{width:e,height:n}}function gve(t,e,n){const r=Zo(e),i=Vo(e),s=n==="fixed",a=ff(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const u=Lo(0);function f(){u.x=Ww(i)}if(r||!r&&!s)if((Hd(e)!=="body"||gO(i))&&(o=Yw(e)),r){const O=ff(e,!0,s,e);u.x=O.x+e.clientLeft,u.y=O.y+e.clientTop}else i&&f();s&&!r&&i&&f();const h=i&&!r&&!s?nq(i,o):Lo(0),d=a.left+o.scrollLeft-u.x-h.x,m=a.top+o.scrollTop-u.y-h.y;return{x:d,y:m,width:a.width,height:a.height}}function xk(t){return to(t).position==="static"}function qj(t,e){if(!Zo(t)||to(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vo(t)===n&&(n=n.ownerDocument.body),n}function iq(t,e){const n=Gs(t);if(Fw(t))return n;if(!Zo(t)){let i=Ku(t);for(;i&&!kd(i);){if(eo(i)&&!xk(i))return i;i=Ku(i)}return n}let r=qj(t,e);for(;r&&Hye(r)&&xk(r);)r=qj(r,e);return r&&kd(r)&&xk(r)&&!hP(r)?n:r||rve(t)||n}const Ove=async function(t){const e=this.getOffsetParent||iq,n=this.getDimensions,r=await n(t.floating);return{reference:gve(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yve(t){return to(t).direction==="rtl"}const vve={convertOffsetParentRelativeRectToViewportRelativeRect:ove,getDocumentElement:Vo,getClippingRect:pve,getOffsetParent:iq,getElementRects:Ove,getClientRects:lve,getDimensions:mve,getScale:ad,isElement:eo,isRTL:yve};function sq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bve(t,e){let n=null,r;const i=Vo(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),s();const f=t.getBoundingClientRect(),{left:h,top:d,width:m,height:O}=f;if(o||e(),!m||!O)return;const y=H0(d),v=H0(i.clientWidth-(h+m)),w=H0(i.clientHeight-(d+O)),k=H0(h),A={rootMargin:-y+"px "+-v+"px "+-w+"px "+-k+"px",threshold:Xs(0,Gu(1,u))||1};let C=!0;function I(Q){const N=Q[0].intersectionRatio;if(N!==u){if(!C)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!sq(f,t.getBoundingClientRect())&&a(),C=!1}try{n=new IntersectionObserver(I,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,A)}n.observe(t)}return a(!0),s}function _ve(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=pP(t),h=i||s?[...f?Sg(f):[],...Sg(e)]:[];h.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const d=f&&o?bve(f,n):null;let m=-1,O=null;a&&(O=new ResizeObserver(k=>{let[T]=k;T&&T.target===f&&O&&(O.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=O)==null||A.observe(e)})),n()}),f&&!u&&O.observe(f),O.observe(e));let y,v=u?ff(t):null;u&&w();function w(){const k=ff(t);v&&!sq(v,k)&&n(),v=k,y=requestAnimationFrame(w)}return n(),()=>{var k;h.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),d?.(),(k=O)==null||k.disconnect(),O=null,u&&cancelAnimationFrame(y)}}const wve=Xye,Sve=Fye,xve=Uye,kve=Wye,Tve=qye,Vj=Zye,Eve=Yye,Ave=(t,e,n)=>{const r=new Map,i={platform:vve,...n},s={...i.platform,_c:r};return zye(t,e,{...i,platform:s})};var Cve=typeof document<"u",Pve=function(){},zb=Cve?$.useLayoutEffect:Pve;function B_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!B_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!B_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function aq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xj(t,e){const n=aq(t);return Math.round(e*n)/n}function kk(t){const e=$.useRef(t);return zb(()=>{e.current=t}),e}function Rve(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:u,open:f}=t,[h,d]=$.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,O]=$.useState(r);B_(m,r)||O(r);const[y,v]=$.useState(null),[w,k]=$.useState(null),T=$.useCallback(Se=>{Se!==Q.current&&(Q.current=Se,v(Se))},[]),A=$.useCallback(Se=>{Se!==N.current&&(N.current=Se,k(Se))},[]),C=s||y,I=a||w,Q=$.useRef(null),N=$.useRef(null),j=$.useRef(h),q=u!=null,oe=kk(u),we=kk(i),K=kk(f),Ae=$.useCallback(()=>{if(!Q.current||!N.current)return;const Se={placement:e,strategy:n,middleware:m};we.current&&(Se.platform=we.current),Ave(Q.current,N.current,Se).then(Te=>{const he={...Te,isPositioned:K.current!==!1};Ee.current&&!B_(j.current,he)&&(j.current=he,yw.flushSync(()=>{d(he)}))})},[m,e,n,we,K]);zb(()=>{f===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(Se=>({...Se,isPositioned:!1})))},[f]);const Ee=$.useRef(!1);zb(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),zb(()=>{if(C&&(Q.current=C),I&&(N.current=I),C&&I){if(oe.current)return oe.current(C,I,Ae);Ae()}},[C,I,Ae,oe,q]);const Be=$.useMemo(()=>({reference:Q,floating:N,setReference:T,setFloating:A}),[T,A]),G=$.useMemo(()=>({reference:C,floating:I}),[C,I]),ye=$.useMemo(()=>{const Se={position:n,left:0,top:0};if(!G.floating)return Se;const Te=Xj(G.floating,h.x),he=Xj(G.floating,h.y);return o?{...Se,transform:"translate("+Te+"px, "+he+"px)",...aq(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Te,top:he}},[n,o,G.floating,h.x,h.y]);return $.useMemo(()=>({...h,update:Ae,refs:Be,elements:G,floatingStyles:ye}),[h,Ae,Be,G,ye])}const $ve=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Vj({element:r.current,padding:i}).fn(n):{}:r?Vj({element:r,padding:i}).fn(n):{}}}},Mve=(t,e)=>({...wve(t),options:[t,e]}),Ive=(t,e)=>({...Sve(t),options:[t,e]}),Dve=(t,e)=>({...Eve(t),options:[t,e]}),Qve=(t,e)=>({...xve(t),options:[t,e]}),Nve=(t,e)=>({...kve(t),options:[t,e]}),Lve=(t,e)=>({...Tve(t),options:[t,e]}),jve=(t,e)=>({...$ve(t),options:[t,e]});var Bve="Arrow",oq=$.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return M.jsx(Ur.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});oq.displayName=Bve;var zve=oq;function Zve(t){const[e,n]=$.useState(void 0);return Fu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,o=f.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mP="Popper",[lq,uq]=Fd(mP),[Uve,cq]=lq(mP),fq=t=>{const{__scopePopper:e,children:n}=t,[r,i]=$.useState(null);return M.jsx(Uve,{scope:e,anchor:r,onAnchorChange:i,children:n})};fq.displayName=mP;var hq="PopperAnchor",dq=$.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=cq(hq,n),a=$.useRef(null),o=ki(e,a),u=$.useRef(null);return $.useEffect(()=>{const f=u.current;u.current=r?.current||a.current,f!==u.current&&s.onAnchorChange(u.current)}),r?null:M.jsx(Ur.div,{...i,ref:o})});dq.displayName=hq;var gP="PopperContent",[qve,Vve]=lq(gP),pq=$.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:O="optimized",onPlaced:y,...v}=t,w=cq(gP,n),[k,T]=$.useState(null),A=ki(e,it=>T(it)),[C,I]=$.useState(null),Q=Zve(C),N=Q?.width??0,j=Q?.height??0,q=r+(s!=="center"?"-"+s:""),oe=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},we=Array.isArray(f)?f:[f],K=we.length>0,Ae={padding:oe,boundary:we.filter(Fve),altBoundary:K},{refs:Ee,floatingStyles:Be,placement:G,isPositioned:ye,middlewareData:Se}=Rve({strategy:"fixed",placement:q,whileElementsMounted:(...it)=>_ve(...it,{animationFrame:O==="always"}),elements:{reference:w.anchor},middleware:[Mve({mainAxis:i+j,alignmentAxis:a}),u&&Ive({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Dve():void 0,...Ae}),u&&Qve({...Ae}),Nve({...Ae,apply:({elements:it,rects:ut,availableWidth:qe,availableHeight:Cn})=>{const{width:mr,height:yt}=ut.reference,rn=it.floating.style;rn.setProperty("--radix-popper-available-width",`${qe}px`),rn.setProperty("--radix-popper-available-height",`${Cn}px`),rn.setProperty("--radix-popper-anchor-width",`${mr}px`),rn.setProperty("--radix-popper-anchor-height",`${yt}px`)}}),C&&jve({element:C,padding:o}),Yve({arrowWidth:N,arrowHeight:j}),m&&Lve({strategy:"referenceHidden",...Ae})]}),[Te,he]=Oq(G),z=Ml(y);Fu(()=>{ye&&z?.()},[ye,z]);const ne=Se.arrow?.x,ge=Se.arrow?.y,Pe=Se.arrow?.centerOffset!==0,[De,tt]=$.useState();return Fu(()=>{k&&tt(window.getComputedStyle(k).zIndex)},[k]),M.jsx("div",{ref:Ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:ye?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[Se.transformOrigin?.x,Se.transformOrigin?.y].join(" "),...Se.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:M.jsx(qve,{scope:n,placedSide:Te,onArrowChange:I,arrowX:ne,arrowY:ge,shouldHideArrow:Pe,children:M.jsx(Ur.div,{"data-side":Te,"data-align":he,...v,ref:A,style:{...v.style,animation:ye?void 0:"none"}})})})});pq.displayName=gP;var mq="PopperArrow",Xve={top:"bottom",right:"left",bottom:"top",left:"right"},gq=$.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Vve(mq,r),a=Xve[s.placedSide];return M.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:M.jsx(zve,{...i,ref:n,style:{...i.style,display:"block"}})})});gq.displayName=mq;function Fve(t){return t!==null}var Yve=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[f,h]=Oq(n),d={start:"0%",center:"50%",end:"100%"}[h],m=(i.arrow?.x??0)+o/2,O=(i.arrow?.y??0)+u/2;let y="",v="";return f==="bottom"?(y=a?d:`${m}px`,v=`${-u}px`):f==="top"?(y=a?d:`${m}px`,v=`${r.floating.height+u}px`):f==="right"?(y=`${-u}px`,v=a?d:`${O}px`):f==="left"&&(y=`${r.floating.width+u}px`,v=a?d:`${O}px`),{data:{x:y,y:v}}}});function Oq(t){const[e,n="center"]=t.split("-");return[e,n]}var Wve=fq,Gve=dq,Kve=pq,Hve=gq,Tk="rovingFocusGroup.onEntryFocus",Jve={bubbles:!1,cancelable:!0},OO="RovingFocusGroup",[$E,yq,e0e]=YU(OO),[t0e,vq]=Fd(OO,[e0e]),[n0e,r0e]=t0e(OO),bq=$.forwardRef((t,e)=>M.jsx($E.Provider,{scope:t.__scopeRovingFocusGroup,children:M.jsx($E.Slot,{scope:t.__scopeRovingFocusGroup,children:M.jsx(i0e,{...t,ref:e})})}));bq.displayName=OO;var i0e=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...d}=t,m=$.useRef(null),O=ki(e,m),y=WU(s),[v,w]=wC({prop:a,defaultProp:o??null,onChange:u,caller:OO}),[k,T]=$.useState(!1),A=Ml(f),C=yq(n),I=$.useRef(!1),[Q,N]=$.useState(0);return $.useEffect(()=>{const j=m.current;if(j)return j.addEventListener(Tk,A),()=>j.removeEventListener(Tk,A)},[A]),M.jsx(n0e,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:$.useCallback(j=>w(j),[w]),onItemShiftTab:$.useCallback(()=>T(!0),[]),onFocusableItemAdd:$.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:$.useCallback(()=>N(j=>j-1),[]),children:M.jsx(Ur.div,{tabIndex:k||Q===0?-1:0,"data-orientation":r,...d,ref:O,style:{outline:"none",...t.style},onMouseDown:Ut(t.onMouseDown,()=>{I.current=!0}),onFocus:Ut(t.onFocus,j=>{const q=!I.current;if(j.target===j.currentTarget&&q&&!k){const oe=new CustomEvent(Tk,Jve);if(j.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const we=C().filter(G=>G.focusable),K=we.find(G=>G.active),Ae=we.find(G=>G.id===v),Be=[K,Ae,...we].filter(Boolean).map(G=>G.ref.current);Sq(Be,h)}}I.current=!1}),onBlur:Ut(t.onBlur,()=>T(!1))})})}),_q="RovingFocusGroupItem",wq=$.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,u=rd(),f=s||u,h=r0e(_q,n),d=h.currentTabStopId===f,m=yq(n),{onFocusableItemAdd:O,onFocusableItemRemove:y,currentTabStopId:v}=h;return $.useEffect(()=>{if(r)return O(),()=>y()},[r,O,y]),M.jsx($E.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:M.jsx(Ur.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:Ut(t.onMouseDown,w=>{r?h.onItemFocus(f):w.preventDefault()}),onFocus:Ut(t.onFocus,()=>h.onItemFocus(f)),onKeyDown:Ut(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=o0e(w,h.orientation,h.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=m().filter(C=>C.focusable).map(C=>C.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const C=A.indexOf(w.currentTarget);A=h.loop?l0e(A,C+1):A.slice(C+1)}setTimeout(()=>Sq(A))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:v!=null}):a})})});wq.displayName=_q;var s0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function a0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function o0e(t,e,n){const r=a0e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s0e[r]}function Sq(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function l0e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var u0e=bq,c0e=wq,ME=["Enter"," "],f0e=["ArrowDown","PageUp","Home"],xq=["ArrowUp","PageDown","End"],h0e=[...f0e,...xq],d0e={ltr:[...ME,"ArrowRight"],rtl:[...ME,"ArrowLeft"]},p0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yO="Menu",[xg,m0e,g0e]=YU(yO),[bf,kq]=Fd(yO,[g0e,uq,vq]),Gw=uq(),Tq=vq(),[O0e,_f]=bf(yO),[y0e,vO]=bf(yO),Eq=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=Gw(e),[u,f]=$.useState(null),h=$.useRef(!1),d=Ml(s),m=WU(i);return $.useEffect(()=>{const O=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",O,{capture:!0}),()=>{document.removeEventListener("keydown",O,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),M.jsx(Wve,{...o,children:M.jsx(O0e,{scope:e,open:n,onOpenChange:d,content:u,onContentChange:f,children:M.jsx(y0e,{scope:e,onClose:$.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};Eq.displayName=yO;var v0e="MenuAnchor",OP=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gw(n);return M.jsx(Gve,{...i,...r,ref:e})});OP.displayName=v0e;var yP="MenuPortal",[b0e,Aq]=bf(yP,{forceMount:void 0}),Cq=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=_f(yP,e);return M.jsx(b0e,{scope:e,forceMount:n,children:M.jsx(oc,{present:n||s.open,children:M.jsx(kC,{asChild:!0,container:i,children:r})})})};Cq.displayName=yP;var wa="MenuContent",[_0e,vP]=bf(wa),Pq=$.forwardRef((t,e)=>{const n=Aq(wa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=_f(wa,t.__scopeMenu),a=vO(wa,t.__scopeMenu);return M.jsx(xg.Provider,{scope:t.__scopeMenu,children:M.jsx(oc,{present:r||s.open,children:M.jsx(xg.Slot,{scope:t.__scopeMenu,children:a.modal?M.jsx(w0e,{...i,ref:e}):M.jsx(S0e,{...i,ref:e})})})})}),w0e=$.forwardRef((t,e)=>{const n=_f(wa,t.__scopeMenu),r=$.useRef(null),i=ki(e,r);return $.useEffect(()=>{const s=r.current;if(s)return zZ(s)},[]),M.jsx(bP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ut(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),S0e=$.forwardRef((t,e)=>{const n=_f(wa,t.__scopeMenu);return M.jsx(bP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),x0e=Og("MenuContent.ScrollLock"),bP=$.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:O,disableOutsideScroll:y,...v}=t,w=_f(wa,n),k=vO(wa,n),T=Gw(n),A=Tq(n),C=m0e(n),[I,Q]=$.useState(null),N=$.useRef(null),j=ki(e,N,w.onContentChange),q=$.useRef(0),oe=$.useRef(""),we=$.useRef(0),K=$.useRef(null),Ae=$.useRef("right"),Ee=$.useRef(0),Be=y?TC:$.Fragment,G=y?{as:x0e,allowPinchZoom:!0}:void 0,ye=Te=>{const he=oe.current+Te,z=C().filter(it=>!it.disabled),ne=document.activeElement,ge=z.find(it=>it.ref.current===ne)?.textValue,Pe=z.map(it=>it.textValue),De=Q0e(Pe,he,ge),tt=z.find(it=>it.textValue===De)?.ref.current;(function it(ut){oe.current=ut,window.clearTimeout(q.current),ut!==""&&(q.current=window.setTimeout(()=>it(""),1e3))})(he),tt&&setTimeout(()=>tt.focus())};$.useEffect(()=>()=>window.clearTimeout(q.current),[]),MZ();const Se=$.useCallback(Te=>Ae.current===K.current?.side&&L0e(Te,K.current?.area),[]);return M.jsx(_0e,{scope:n,searchRef:oe,onItemEnter:$.useCallback(Te=>{Se(Te)&&Te.preventDefault()},[Se]),onItemLeave:$.useCallback(Te=>{Se(Te)||(N.current?.focus(),Q(null))},[Se]),onTriggerLeave:$.useCallback(Te=>{Se(Te)&&Te.preventDefault()},[Se]),pointerGraceTimerRef:we,onPointerGraceIntentChange:$.useCallback(Te=>{K.current=Te},[]),children:M.jsx(Be,{...G,children:M.jsx(xC,{asChild:!0,trapped:i,onMountAutoFocus:Ut(s,Te=>{Te.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:M.jsx(SC,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:O,children:M.jsx(u0e,{asChild:!0,...A,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:Q,onEntryFocus:Ut(u,Te=>{k.isUsingKeyboardRef.current||Te.preventDefault()}),preventScrollOnEntryFocus:!0,children:M.jsx(Kve,{role:"menu","aria-orientation":"vertical","data-state":Xq(w.open),"data-radix-menu-content":"",dir:k.dir,...T,...v,ref:j,style:{outline:"none",...v.style},onKeyDown:Ut(v.onKeyDown,Te=>{const z=Te.target.closest("[data-radix-menu-content]")===Te.currentTarget,ne=Te.ctrlKey||Te.altKey||Te.metaKey,ge=Te.key.length===1;z&&(Te.key==="Tab"&&Te.preventDefault(),!ne&&ge&&ye(Te.key));const Pe=N.current;if(Te.target!==Pe||!h0e.includes(Te.key))return;Te.preventDefault();const tt=C().filter(it=>!it.disabled).map(it=>it.ref.current);xq.includes(Te.key)&&tt.reverse(),I0e(tt)}),onBlur:Ut(t.onBlur,Te=>{Te.currentTarget.contains(Te.target)||(window.clearTimeout(q.current),oe.current="")}),onPointerMove:Ut(t.onPointerMove,kg(Te=>{const he=Te.target,z=Ee.current!==Te.clientX;if(Te.currentTarget.contains(he)&&z){const ne=Te.clientX>Ee.current?"right":"left";Ae.current=ne,Ee.current=Te.clientX}}))})})})})})})});Pq.displayName=wa;var k0e="MenuGroup",_P=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return M.jsx(Ur.div,{role:"group",...r,ref:e})});_P.displayName=k0e;var T0e="MenuLabel",Rq=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return M.jsx(Ur.div,{...r,ref:e})});Rq.displayName=T0e;var z_="MenuItem",Fj="menu.itemSelect",Kw=$.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=$.useRef(null),a=vO(z_,t.__scopeMenu),o=vP(z_,t.__scopeMenu),u=ki(e,s),f=$.useRef(!1),h=()=>{const d=s.current;if(!n&&d){const m=new CustomEvent(Fj,{bubbles:!0,cancelable:!0});d.addEventListener(Fj,O=>r?.(O),{once:!0}),CZ(d,m),m.defaultPrevented?f.current=!1:a.onClose()}};return M.jsx($q,{...i,ref:u,disabled:n,onClick:Ut(t.onClick,h),onPointerDown:d=>{t.onPointerDown?.(d),f.current=!0},onPointerUp:Ut(t.onPointerUp,d=>{f.current||d.currentTarget?.click()}),onKeyDown:Ut(t.onKeyDown,d=>{const m=o.searchRef.current!=="";n||m&&d.key===" "||ME.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Kw.displayName=z_;var $q=$.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=vP(z_,n),o=Tq(n),u=$.useRef(null),f=ki(e,u),[h,d]=$.useState(!1),[m,O]=$.useState("");return $.useEffect(()=>{const y=u.current;y&&O((y.textContent??"").trim())},[s.children]),M.jsx(xg.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:M.jsx(c0e,{asChild:!0,...o,focusable:!r,children:M.jsx(Ur.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:Ut(t.onPointerMove,kg(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(t.onPointerLeave,kg(y=>a.onItemLeave(y))),onFocus:Ut(t.onFocus,()=>d(!0)),onBlur:Ut(t.onBlur,()=>d(!1))})})})}),E0e="MenuCheckboxItem",Mq=$.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return M.jsx(Lq,{scope:t.__scopeMenu,checked:n,children:M.jsx(Kw,{role:"menuitemcheckbox","aria-checked":Z_(n)?"mixed":n,...i,ref:e,"data-state":SP(n),onSelect:Ut(i.onSelect,()=>r?.(Z_(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Mq.displayName=E0e;var Iq="MenuRadioGroup",[A0e,C0e]=bf(Iq,{value:void 0,onValueChange:()=>{}}),Dq=$.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ml(r);return M.jsx(A0e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:M.jsx(_P,{...i,ref:e})})});Dq.displayName=Iq;var Qq="MenuRadioItem",Nq=$.forwardRef((t,e)=>{const{value:n,...r}=t,i=C0e(Qq,t.__scopeMenu),s=n===i.value;return M.jsx(Lq,{scope:t.__scopeMenu,checked:s,children:M.jsx(Kw,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":SP(s),onSelect:Ut(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Nq.displayName=Qq;var wP="MenuItemIndicator",[Lq,P0e]=bf(wP,{checked:!1}),jq=$.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=P0e(wP,n);return M.jsx(oc,{present:r||Z_(s.checked)||s.checked===!0,children:M.jsx(Ur.span,{...i,ref:e,"data-state":SP(s.checked)})})});jq.displayName=wP;var R0e="MenuSeparator",Bq=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return M.jsx(Ur.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Bq.displayName=R0e;var $0e="MenuArrow",zq=$.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gw(n);return M.jsx(Hve,{...i,...r,ref:e})});zq.displayName=$0e;var M0e="MenuSub",[cPe,Zq]=bf(M0e),_m="MenuSubTrigger",Uq=$.forwardRef((t,e)=>{const n=_f(_m,t.__scopeMenu),r=vO(_m,t.__scopeMenu),i=Zq(_m,t.__scopeMenu),s=vP(_m,t.__scopeMenu),a=$.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:u}=s,f={__scopeMenu:t.__scopeMenu},h=$.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return $.useEffect(()=>h,[h]),$.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),u(null)}},[o,u]),M.jsx(OP,{asChild:!0,...f,children:M.jsx($q,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Xq(n.open),...t,ref:fO(e,i.onTriggerChange),onClick:d=>{t.onClick?.(d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ut(t.onPointerMove,kg(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ut(t.onPointerLeave,kg(d=>{h();const m=n.content?.getBoundingClientRect();if(m){const O=n.content?.dataset.side,y=O==="right",v=y?-5:5,w=m[y?"left":"right"],k=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:w,y:m.top},{x:k,y:m.top},{x:k,y:m.bottom},{x:w,y:m.bottom}],side:O}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(t.onKeyDown,d=>{const m=s.searchRef.current!=="";t.disabled||m&&d.key===" "||d0e[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});Uq.displayName=_m;var qq="MenuSubContent",Vq=$.forwardRef((t,e)=>{const n=Aq(wa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=_f(wa,t.__scopeMenu),a=vO(wa,t.__scopeMenu),o=Zq(qq,t.__scopeMenu),u=$.useRef(null),f=ki(e,u);return M.jsx(xg.Provider,{scope:t.__scopeMenu,children:M.jsx(oc,{present:r||s.open,children:M.jsx(xg.Slot,{scope:t.__scopeMenu,children:M.jsx(bP,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&u.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ut(t.onFocusOutside,h=>{h.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ut(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Ut(t.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),m=p0e[a.dir].includes(h.key);d&&m&&(s.onOpenChange(!1),o.trigger?.focus(),h.preventDefault())})})})})})});Vq.displayName=qq;function Xq(t){return t?"open":"closed"}function Z_(t){return t==="indeterminate"}function SP(t){return Z_(t)?"indeterminate":t?"checked":"unchecked"}function I0e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function D0e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Q0e(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=D0e(t,Math.max(s,0));i.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function N0e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],u=e[a],f=o.x,h=o.y,d=u.x,m=u.y;h>r!=m>r&&n<(d-f)*(r-h)/(m-h)+f&&(i=!i)}return i}function L0e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return N0e(n,e)}function kg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var j0e=Eq,B0e=OP,z0e=Cq,Z0e=Pq,U0e=_P,q0e=Rq,V0e=Kw,X0e=Mq,F0e=Dq,Y0e=Nq,W0e=jq,G0e=Bq,K0e=zq,H0e=Uq,J0e=Vq,Hw="DropdownMenu",[ebe]=Fd(Hw,[kq]),ns=kq(),[tbe,Fq]=ebe(Hw),Yq=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,u=ns(e),f=$.useRef(null),[h,d]=wC({prop:i,defaultProp:s??!1,onChange:a,caller:Hw});return M.jsx(tbe,{scope:e,triggerId:rd(),triggerRef:f,contentId:rd(),open:h,onOpenChange:d,onOpenToggle:$.useCallback(()=>d(m=>!m),[d]),modal:o,children:M.jsx(j0e,{...u,open:h,onOpenChange:d,dir:r,modal:o,children:n})})};Yq.displayName=Hw;var Wq="DropdownMenuTrigger",Gq=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Fq(Wq,n),a=ns(n);return M.jsx(B0e,{asChild:!0,...a,children:M.jsx(Ur.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:fO(e,s.triggerRef),onPointerDown:Ut(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:Ut(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});Gq.displayName=Wq;var nbe="DropdownMenuPortal",Kq=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ns(e);return M.jsx(z0e,{...r,...n})};Kq.displayName=nbe;var Hq="DropdownMenuContent",Jq=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Fq(Hq,n),s=ns(n),a=$.useRef(!1);return M.jsx(Z0e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ut(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Ut(t.onInteractOutside,o=>{const u=o.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jq.displayName=Hq;var rbe="DropdownMenuGroup",ibe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(U0e,{...i,...r,ref:e})});ibe.displayName=rbe;var sbe="DropdownMenuLabel",abe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(q0e,{...i,...r,ref:e})});abe.displayName=sbe;var obe="DropdownMenuItem",e6=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(V0e,{...i,...r,ref:e})});e6.displayName=obe;var lbe="DropdownMenuCheckboxItem",ube=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(X0e,{...i,...r,ref:e})});ube.displayName=lbe;var cbe="DropdownMenuRadioGroup",fbe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(F0e,{...i,...r,ref:e})});fbe.displayName=cbe;var hbe="DropdownMenuRadioItem",dbe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(Y0e,{...i,...r,ref:e})});dbe.displayName=hbe;var pbe="DropdownMenuItemIndicator",mbe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(W0e,{...i,...r,ref:e})});mbe.displayName=pbe;var gbe="DropdownMenuSeparator",t6=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(G0e,{...i,...r,ref:e})});t6.displayName=gbe;var Obe="DropdownMenuArrow",ybe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(K0e,{...i,...r,ref:e})});ybe.displayName=Obe;var vbe="DropdownMenuSubTrigger",bbe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(H0e,{...i,...r,ref:e})});bbe.displayName=vbe;var _be="DropdownMenuSubContent",wbe=$.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ns(n);return M.jsx(J0e,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wbe.displayName=_be;var Sbe=Yq,xbe=Gq,kbe=Kq,Tbe=Jq,Ebe=e6,Abe=t6;const Cbe="_content_jeo8r_1",Pbe="_item_jeo8r_13",Rbe="_separator_jeo8r_61",U_={content:Cbe,item:Pbe,"item--inset":"_item--inset_jeo8r_26",separator:Rbe},$be=Sbe,Mbe=xbe,Ibe=kbe;function Dbe({className:t,sideOffset:e=8,align:n="end",...r}){return M.jsx(Ibe,{children:M.jsx(Tbe,{className:[U_.content,t].filter(Boolean).join(" "),sideOffset:e,align:n,...r})})}function J0({className:t,inset:e=!1,...n}){return M.jsx(Ebe,{className:[U_.item,e?U_["item--inset"]:"",t].filter(Boolean).join(" "),...n})}function Qbe({className:t,...e}){return M.jsx(Abe,{className:[U_.separator,t].filter(Boolean).join(" "),...e})}let IE=[],n6=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?n6:IE).push(n=n+t[e])})();function Nbe(t){if(t<768)return!1;for(let e=0,n=IE.length;;){let r=e+n>>1;if(t<IE[r])n=r;else if(t>=n6[r])e=r+1;else return!0;if(e==n)return!1}}function Yj(t){return t>=127462&&t<=127487}const Wj=8205;function Lbe(t,e,n=!0,r=!0){return(n?r6:jbe)(t,e,r)}function r6(t,e,n){if(e==t.length)return e;e&&i6(t.charCodeAt(e))&&s6(t.charCodeAt(e-1))&&e--;let r=Ek(t,e);for(e+=Gj(r);e<t.length;){let i=Ek(t,e);if(r==Wj||i==Wj||n&&Nbe(i))e+=Gj(i),r=i;else if(Yj(i)){let s=0,a=e-2;for(;a>=0&&Yj(Ek(t,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function jbe(t,e,n){for(;e>0;){let r=r6(t,e-2,n);if(r<e)return r;e--}return 0}function Ek(t,e){let n=t.charCodeAt(e);if(!s6(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return i6(r)?(n-55296<<10)+(r-56320)+65536:n}function i6(t){return t>=56320&&t<57344}function s6(t){return t>=55296&&t<56320}function Gj(t){return t<65536?1:2}class on{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Td(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Ro.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Td(this,e,n);let r=[];return this.decompose(e,n,r,0),Ro.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new jm(this),s=new jm(e);for(let a=n,o=n;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new jm(this,e)}iterRange(e,n=this.length){return new a6(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new o6(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?on.empty:e.length<=32?new xr(e):Ro.from(xr.split(e,[]))}}class xr extends on{constructor(e,n=Bbe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.text[s],o=i+a.length;if((n?r:o)>=e)return new zbe(i,o,r,a);i=o+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new xr(Kj(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),o=Zb(s.text,a.text.slice(),0,s.length);if(o.length<=32)r.push(new xr(o,a.length+s.length));else{let u=o.length>>1;r.push(new xr(o.slice(0,u)),new xr(o.slice(u)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof xr))return super.replace(e,n,r);[e,n]=Td(this,e,n);let i=Zb(this.text,Zb(r.text,Kj(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new xr(i,s):Ro.from(xr.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Td(this,e,n);let i="";for(let s=0,a=0;s<=n&&a<this.text.length;a++){let o=this.text[a],u=s+o.length;s>e&&a&&(i+=r),e<u&&n>s&&(i+=o.slice(Math.max(0,e-s),n-s)),s=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new xr(r,i)),r=[],i=-1);return i>-1&&n.push(new xr(r,i)),n}}class Ro extends on{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.children[s],o=i+a.length,u=r+a.lines-1;if((n?u:o)>=e)return a.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let s=0,a=0;a<=n&&s<this.children.length;s++){let o=this.children[s],u=a+o.length;if(e<=u&&n>=a){let f=i&((a<=e?1:0)|(u>=n?2:0));a>=e&&u<=n&&!f?r.push(o):o.decompose(e-a,n-a,r,f)}a=u+1}}replace(e,n,r){if([e,n]=Td(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],o=s+a.length;if(e>=s&&n<=o){let u=a.replace(e-s,n-s,r),f=this.lines-a.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let h=this.children.slice();return h[i]=u,new Ro(h,this.length-(n-e)+r.length)}return super.replace(s,o,u)}s=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Td(this,e,n);let i="";for(let s=0,a=0;s<this.children.length&&a<=n;s++){let o=this.children[s],u=a+o.length;a>e&&s&&(i+=r),e<u&&n>a&&(i+=o.sliceString(e-a,n-a,r)),a=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ro))return 0;let r=0,[i,s,a,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==a||s==o)return r;let u=this.children[i],f=e.children[s];if(u!=f)return r+u.scanIdentical(f,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let O of e)r+=O.lines;if(r<32){let O=[];for(let y of e)y.flatten(O);return new xr(O,n)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,o=[],u=0,f=-1,h=[];function d(O){let y;if(O.lines>s&&O instanceof Ro)for(let v of O.children)d(v);else O.lines>a&&(u>a||!u)?(m(),o.push(O)):O instanceof xr&&u&&(y=h[h.length-1])instanceof xr&&O.lines+y.lines<=32?(u+=O.lines,f+=O.length+1,h[h.length-1]=new xr(y.text.concat(O.text),y.length+1+O.length)):(u+O.lines>i&&m(),u+=O.lines,f+=O.length+1,h.push(O))}function m(){u!=0&&(o.push(h.length==1?h[0]:Ro.from(h,f)),f=-1,u=h.length=0)}for(let O of e)d(O);return m(),o.length==1?o[0]:new Ro(o,n)}}on.empty=new xr([""],0);function Bbe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Zb(t,e,n=0,r=1e9){for(let i=0,s=0,a=!0;s<t.length&&i<=r;s++){let o=t[s],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),a?(e[e.length-1]+=o,a=!1):e.push(o)),i=u+1}return e}function Kj(t,e,n){return Zb(t,[""],e,n)}class jm{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof xr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,o=i instanceof xr?i.text.length:i.children.length;if(a==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof xr){let u=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[a+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof xr?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class a6{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new jm(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class o6{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(on.prototype[Symbol.iterator]=function(){return this.iter()},jm.prototype[Symbol.iterator]=a6.prototype[Symbol.iterator]=o6.prototype[Symbol.iterator]=function(){return this});let zbe=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Td(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Fa(t,e,n=!0,r=!0){return Lbe(t,e,n,r)}function Zbe(t){return t>=56320&&t<57344}function Ube(t){return t>=55296&&t<56320}function Lc(t,e){let n=t.charCodeAt(e);if(!Ube(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Zbe(r)?(n-55296<<10)+(r-56320)+65536:n}function qbe(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Ih(t){return t<65536?1:2}const DE=/\r\n?|\n/;var Wi=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Wi||(Wi={}));class xl{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,n=!1){QE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new xl(e)}composeDesc(e){return this.empty?e:e.empty?this:l6(this,e)}mapDesc(e,n=!1){return e.empty?this:NE(this,e,n)}mapPos(e,n=-1,r=Wi.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],u=this.sections[a++],f=i+o;if(u<0){if(f>e)return s+(e-i);s+=o}else{if(r!=Wi.Simple&&f>=e&&(r==Wi.TrackDel&&i<e&&f>e||r==Wi.TrackBefore&&i<e||r==Wi.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!o)return e==i||n<0?s:s+u;s+=u}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],a=this.sections[r++],o=i+s;if(a>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new xl(e)}static create(e){return new xl(e)}}class si extends xl{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return QE(this,(n,r,i,s,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return NE(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let a=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=a;let u=i>>1;for(;r.length<u;)r.push(on.empty);r.push(a?e.slice(s,s+a):on.empty)}s+=a}return new si(n,r)}compose(e){return this.empty?e:e.empty?this:l6(this,e,!0)}map(e,n=!1){return e.empty?this:NE(this,e,n,!0)}iterChanges(e,n=!1){QE(this,e,n)}get desc(){return xl.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Tg(this);e:for(let a=0,o=0;;){let u=a==e.length?1e9:e[a++];for(;o<u||o==u&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,u-o);Ri(i,h,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Ri(n,h,d),d>0&&Qu(r,n,s.text),s.forward(h),o+=h}let f=e[a++];for(;o<f;){if(s.done)break e;let h=Math.min(s.len,f-o);Ri(n,h,-1),Ri(i,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),o+=h}}return{changes:new si(n,r),filtered:xl.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],a=0,o=null;function u(h=!1){if(!h&&!i.length)return;a<n&&Ri(i,n-a,-1);let d=new si(i,s);o=o?o.compose(d.map(o)):d,i=[],s=[],a=0}function f(h){if(Array.isArray(h))for(let d of h)f(d);else if(h instanceof si){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);u(),o=o?o.compose(h.map(o)):h}else{let{from:d,to:m=d,insert:O}=h;if(d>m||d<0||m>n)throw new RangeError(`Invalid change range ${d} to ${m} (in doc of length ${n})`);let y=O?typeof O=="string"?on.of(O.split(r||DE)):O:on.empty,v=y.length;if(d==m&&v==0)return;d<a&&u(),d>a&&Ri(i,d-a,-1),Ri(i,m-d,v),Qu(s,i,y),a=m}}return f(e),u(!o),o}static empty(e){return new si(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(on.empty);r[i]=on.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new si(n,r)}static createSet(e,n){return new si(e,n)}}function Ri(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Qu(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(on.empty);t.push(n)}}function QE(t,e,n){let r=t.inserted;for(let i=0,s=0,a=0;a<t.sections.length;){let o=t.sections[a++],u=t.sections[a++];if(u<0)i+=o,s+=o;else{let f=i,h=s,d=on.empty;for(;f+=o,h+=u,u&&r&&(d=d.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)o=t.sections[a++],u=t.sections[a++];e(i,f,s,h,d),i=f,s=h}}}function NE(t,e,n,r=!1){let i=[],s=r?[]:null,a=new Tg(t),o=new Tg(e);for(let u=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let f=Math.min(a.len,o.len);Ri(i,f,-1),a.forward(f),o.forward(f)}else if(o.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!n))){let f=o.len;for(Ri(i,o.ins,-1);f;){let h=Math.min(a.len,f);a.ins>=0&&u<a.i&&a.len<=h&&(Ri(i,0,a.ins),s&&Qu(s,i,a.text),u=a.i),a.forward(h),f-=h}o.next()}else if(a.ins>=0){let f=0,h=a.len;for(;h;)if(o.ins==-1){let d=Math.min(h,o.len);f+=d,h-=d,o.forward(d)}else if(o.ins==0&&o.len<h)h-=o.len,o.next();else break;Ri(i,f,u<a.i?a.ins:0),s&&u<a.i&&Qu(s,i,a.text),u=a.i,a.forward(a.len-h)}else{if(a.done&&o.done)return s?si.createSet(i,s):xl.create(i);throw new Error("Mismatched change set lengths")}}}function l6(t,e,n=!1){let r=[],i=n?[]:null,s=new Tg(t),a=new Tg(e);for(let o=!1;;){if(s.done&&a.done)return i?si.createSet(r,i):xl.create(r);if(s.ins==0)Ri(r,s.len,0,o),s.next();else if(a.len==0&&!a.done)Ri(r,0,a.ins,o),i&&Qu(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,a.len),f=r.length;if(s.ins==-1){let h=a.ins==-1?-1:a.off?0:a.ins;Ri(r,u,h,o),i&&h&&Qu(i,r,a.text)}else a.ins==-1?(Ri(r,s.off?0:s.len,u,o),i&&Qu(i,r,s.textBit(u))):(Ri(r,s.off?0:s.len,a.off?0:a.ins,o),i&&!a.off&&Qu(i,r,a.text));o=(s.ins>u||a.ins>=0&&a.len>u)&&(o||r.length>f),s.forward2(u),a.forward(u)}}}}class Tg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?on.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?on.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Wc{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Wc(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return rt.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return rt.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return rt.range(e.anchor,e.head)}static create(e,n,r){return new Wc(e,n,r)}}class rt{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:rt.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new rt([this.main],0)}addRange(e,n=!0){return rt.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,rt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new rt(e.ranges.map(n=>Wc.fromJSON(n)),e.main)}static single(e,n=e){return new rt([rt.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return rt.normalized(e.slice(),n);r=s.to}return new rt(e,n)}static cursor(e,n=0,r,i){return Wc.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Wc.create(n,e,48|s):Wc.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,u=Math.max(s.to,a.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?rt.range(u,o):rt.range(o,u))}}return new rt(e,n)}}function u6(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let xP=0;class At{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=xP++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new At(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:kP),!!e.static,e.enables)}of(e){return new Ub([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ub(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ub(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function kP(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Ub{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=xP++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,u=!1,f=!1,h=[];for(let d of this.dependencies)d=="doc"?u=!0:d=="selection"?f=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&h.push(e[d.id]);return{create(d){return d.values[a]=r(d),1},update(d,m){if(u&&m.docChanged||f&&(m.docChanged||m.selection)||LE(d,h)){let O=r(d);if(o?!Hj(O,d.values[a],i):!i(O,d.values[a]))return d.values[a]=O,1}return 0},reconfigure:(d,m)=>{let O,y=m.config.address[s];if(y!=null){let v=V_(m,y);if(this.dependencies.every(w=>w instanceof At?m.facet(w)===d.facet(w):w instanceof zl?m.field(w,!1)==d.field(w,!1):!0)||(o?Hj(O=r(d),v,i):i(O=r(d),v)))return d.values[a]=v,0}else O=r(d);return d.values[a]=O,1}}}}function Hj(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function LE(t,e){let n=!1;for(let r of e)Bm(t,r)&1&&(n=!0);return n}function Vbe(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),s=r.filter(u=>!(u&1)),a=t[e.id]>>1;function o(u){let f=[];for(let h=0;h<r.length;h++){let d=V_(u,r[h]);if(i[h]==2)for(let m of d)f.push(m);else f.push(d)}return e.combine(f)}return{create(u){for(let f of r)Bm(u,f);return u.values[a]=o(u),1},update(u,f){if(!LE(u,s))return 0;let h=o(u);return e.compare(h,u.values[a])?0:(u.values[a]=h,1)},reconfigure(u,f){let h=LE(u,r),d=f.config.facets[e.id],m=f.facet(e);if(d&&!h&&kP(n,d))return u.values[a]=m,0;let O=o(u);return e.compare(O,m)?(u.values[a]=m,0):(u.values[a]=O,1)}}}const eb=At.define({static:!0});class zl{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new zl(xP++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(eb).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let s=r.facet(eb),a=i.facet(eb),o;return(o=s.find(u=>u.field==this))&&o!=a.find(u=>u.field==this)?(r.values[n]=o.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,eb.of({field:this,create:e})]}get extension(){return this}}const Uc={lowest:4,low:3,default:2,high:1,highest:0};function lm(t){return e=>new c6(e,t)}const Jd={highest:lm(Uc.highest),high:lm(Uc.high),default:lm(Uc.default),low:lm(Uc.low),lowest:lm(Uc.lowest)};class c6{constructor(e,n){this.inner=e,this.prec=n}}class Jw{of(e){return new jE(this,e)}reconfigure(e){return Jw.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class jE{constructor(e,n){this.compartment=e,this.inner=n}}class q_{constructor(e,n,r,i,s,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),a=new Map;for(let m of Xbe(e,n,a))m instanceof zl?i.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let o=Object.create(null),u=[],f=[];for(let m of i)o[m.id]=f.length<<1,f.push(O=>m.slot(O));let h=r?.config.facets;for(let m in s){let O=s[m],y=O[0].facet,v=h&&h[m]||[];if(O.every(w=>w.type==0))if(o[y.id]=u.length<<1|1,kP(v,O))u.push(r.facet(y));else{let w=y.combine(O.map(k=>k.value));u.push(r&&y.compare(w,r.facet(y))?r.facet(y):w)}else{for(let w of O)w.type==0?(o[w.id]=u.length<<1|1,u.push(w.value)):(o[w.id]=f.length<<1,f.push(k=>w.dynamicSlot(k)));o[y.id]=f.length<<1,f.push(w=>Vbe(w,y,O))}}let d=f.map(m=>m(o));return new q_(e,a,d,o,u,s)}}function Xbe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(a,o){let u=i.get(a);if(u!=null){if(u<=o)return;let f=r[u].indexOf(a);f>-1&&r[u].splice(f,1),a instanceof jE&&n.delete(a.compartment)}if(i.set(a,o),Array.isArray(a))for(let f of a)s(f,o);else if(a instanceof jE){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(a.compartment)||a.inner;n.set(a.compartment,f),s(f,o)}else if(a instanceof c6)s(a.inner,a.prec);else if(a instanceof zl)r[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Ub)r[o].push(a),a.facet.extensions&&s(a.facet.extensions,Uc.default);else{let f=a.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,o)}}return s(t,Uc.default),r.reduce((a,o)=>a.concat(o))}function Bm(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function V_(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const f6=At.define(),BE=At.define({combine:t=>t.some(e=>e),static:!0}),h6=At.define({combine:t=>t.length?t[0]:void 0,static:!0}),d6=At.define(),p6=At.define(),m6=At.define(),g6=At.define({combine:t=>t.length?t[0]:!1});class wf{constructor(e,n){this.type=e,this.value=n}static define(){return new Fbe}}class Fbe{of(e){return new wf(this,e)}}class Ybe{constructor(e){this.map=e}of(e){return new Nn(this,e)}}class Nn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Nn(this.type,n)}is(e){return this.type==e}static define(e={}){return new Ybe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Nn.reconfigure=Nn.define();Nn.appendConfig=Nn.define();class xi{constructor(e,n,r,i,s,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&u6(r,n.newLength),s.some(o=>o.type==xi.time)||(this.annotations=s.concat(xi.time.of(Date.now())))}static create(e,n,r,i,s,a){return new xi(e,n,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(xi.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}xi.time=wf.define();xi.userEvent=wf.define();xi.addToHistory=wf.define();xi.remote=wf.define();function Wbe(t,e){let n=[];for(let r=0,i=0;;){let s,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],a=t[r++];else if(i<e.length)s=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function O6(t,e,n){var r;let i,s,a;return n?(i=e.changes,s=si.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Nn.mapEffects(t.effects,i).concat(Nn.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function zE(t,e,n){let r=e.selection,i=od(e.annotations);return e.userEvent&&(i=i.concat(xi.userEvent.of(e.userEvent))),{changes:e.changes instanceof si?e.changes:si.of(e.changes||[],n,t.facet(h6)),selection:r&&(r instanceof rt?r:rt.single(r.anchor,r.head)),effects:od(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function y6(t,e,n){let r=zE(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let a=!!e[s].sequential;r=O6(r,zE(t,e[s],a?r.changes.newLength:t.doc.length),a)}let i=xi.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Kbe(n?Gbe(i):i)}function Gbe(t){let e=t.startState,n=!0;for(let i of e.facet(d6)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Wbe(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=si.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}t=xi.create(e,i,t.selection&&t.selection.map(s),Nn.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(p6);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof xi?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof xi?t=s[0]:t=y6(e,od(s),!1)}return t}function Kbe(t){let e=t.startState,n=e.facet(m6),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=O6(r,zE(e,s,t.changes.newLength),!0))}return r==t?t:xi.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Hbe=[];function od(t){return t==null?Hbe:Array.isArray(t)?t:[t]}var vl=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(vl||(vl={}));const Jbe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ZE;try{ZE=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function e_e(t){if(ZE)return ZE.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Jbe.test(n)))return!0}return!1}function t_e(t){return e=>{if(!/\S/.test(e))return vl.Space;if(e_e(e))return vl.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return vl.Word;return vl.Other}}class cn{constructor(e,n,r,i,s,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Bm(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Bm(this,r),V_(this,r)}update(...e){return y6(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(Jw.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,f)=>i.set(f,u)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Nn.reconfigure)?(n=null,r=o.value):o.is(Nn.appendConfig)&&(n=null,r=od(r).concat(o.value));let s;n?s=e.startState.values.slice():(n=q_.resolve(r,i,this),s=new cn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let a=e.startState.facet(BE)?e.newSelection:e.newSelection.asSingle();new cn(n,e.newDoc,a,s,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:rt.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],a=od(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),f=this.changes(u.changes),h=f.map(i);for(let m=0;m<o;m++)s[m]=s[m].map(h);let d=i.mapDesc(f,!0);s.push(u.range.map(d)),i=i.compose(h),a=Nn.mapEffects(a,h).concat(Nn.mapEffects(od(u.effects),d))}return{changes:i,selection:rt.create(s,n.mainIndex),effects:a}}changes(e=[]){return e instanceof si?e:si.of(e,this.doc.length,this.facet(cn.lineSeparator))}toText(e){return on.of(e.split(this.facet(cn.lineSeparator)||DE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Bm(this,n),V_(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof zl&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let a=r[s],o=e[s];i.push(a.init(u=>a.spec.fromJSON(o,u)))}}return cn.create({doc:e.doc,selection:rt.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=q_.resolve(e.extensions||[],new Map),r=e.doc instanceof on?e.doc:on.of((e.doc||"").split(n.staticFacet(cn.lineSeparator)||DE)),i=e.selection?e.selection instanceof rt?e.selection:rt.single(e.selection.anchor,e.selection.head):rt.single(0);return u6(i,r.length),n.staticFacet(BE)||(i=i.asSingle()),new cn(n,r,i,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(cn.tabSize)}get lineBreak(){return this.facet(cn.lineSeparator)||`
`}get readOnly(){return this.facet(g6)}phrase(e,...n){for(let r of this.facet(cn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(f6))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return t_e(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-r,o=e-r;for(;a>0;){let u=Fa(n,a,!1);if(s(n.slice(u,a))!=vl.Word)break;a=u}for(;o<i;){let u=Fa(n,o);if(s(n.slice(o,u))!=vl.Word)break;o=u}return a==o?null:rt.range(a+r,o+r)}}cn.allowMultipleSelections=BE;cn.tabSize=At.define({combine:t=>t.length?t[0]:4});cn.lineSeparator=h6;cn.readOnly=g6;cn.phrases=At.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});cn.languageData=f6;cn.changeFilter=d6;cn.transactionFilter=p6;cn.transactionExtender=m6;Jw.reconfigure=Nn.define();function n_e(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let a=i[s],o=r[s];if(o===void 0)r[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Hu{eq(e){return this==e}range(e,n=e){return UE.create(e,n,this)}}Hu.prototype.startSide=Hu.prototype.endSide=0;Hu.prototype.point=!1;Hu.prototype.mapMode=Wi.TrackDel;function TP(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let UE=class v6{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new v6(e,n,r)}};function qE(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class EP{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let a=i,o=s.length;;){if(a==o)return a;let u=a+o>>1,f=s[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==a)return f>=0?a:o;f>=0?o=u:a=u+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],a=-1,o=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],h=this.from[u]+e,d=this.to[u]+e,m,O;if(h==d){let y=n.mapPos(h,f.startSide,f.mapMode);if(y==null||(m=O=y,f.startSide!=f.endSide&&(O=n.mapPos(h,f.endSide),O<m)))continue}else if(m=n.mapPos(h,f.startSide),O=n.mapPos(d,f.endSide),m>O||m==O&&f.startSide>0&&f.endSide<=0)continue;(O-m||f.endSide-f.startSide)<0||(a<0&&(a=m),f.point&&(o=Math.max(o,O-m)),r.push(f),i.push(m-a),s.push(O-a))}return{mapped:r.length?new EP(i,s,r,o):null,pos:a}}}class gn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new gn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(qE)),this.isEmpty)return n.length?gn.of(n):this;let o=new b6(this,null,-1).goto(0),u=0,f=[],h=new X_;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let d=n[u++];h.addInner(d.from,d.to,d.value)||f.push(d)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!a||i>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||i>o.to||s<o.from||a(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||f.push(UE.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?gn.empty:this.nextLayer.update({add:f,filter:a,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],u=this.chunk[a],f=e.touchesRange(o,o+u.length);if(f===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(f===!0){let{mapped:h,pos:d}=u.map(o,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new gn(r,n,s||gn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(n>=s&&e<=s+a.length&&a.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Eg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Eg.from(e).goto(n)}static compare(e,n,r,i,s=-1){let a=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),o=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),u=Jj(a,o,r),f=new um(a,u,s),h=new um(o,u,s);r.iterGaps((d,m,O)=>eB(f,d,h,m,O,i)),r.empty&&r.length==0&&eB(f,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),a=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=Jj(s,a),u=new um(s,o,0).goto(r),f=new um(a,o,0).goto(r);for(;;){if(u.to!=f.to||!VE(u.active,f.active)||u.point&&(!f.point||!TP(u.point,f.point)))return!1;if(u.to>i)return!0;u.next(),f.next()}}static spans(e,n,r,i,s=-1){let a=new um(e,null,s).goto(n),o=n,u=a.openStart;for(;;){let f=Math.min(a.to,r);if(a.point){let h=a.activeForPoint(a.to),d=a.pointFrom<n?h.length+1:a.point.startSide<0?h.length:Math.min(h.length,u);i.point(o,f,a.point,h,d,a.pointRank),u=Math.min(a.openEnd(f),h.length)}else f>o&&(i.span(o,f,a.active,u),u=a.openEnd(f));if(a.to>r)return u+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(e,n=!1){let r=new X_;for(let i of e instanceof UE?[e]:n?r_e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return gn.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=gn.empty;i=i.nextLayer)n=new gn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}gn.empty=new gn([],[],null,-1);function r_e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(qE(e,r)>0)return t.slice().sort(qE);e=r}return t}gn.empty.nextLayer=gn.empty;class X_{finishChunk(e){this.chunks.push(new EP(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new X_)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(gn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=gn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Jj(t,e,n){let r=new Map;for(let s of t)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=r.get(s.chunk[a]);o!=null&&(n?n.mapPos(o):o)==s.chunkPos[a]&&!n?.touchesRange(o,o+s.chunk[a].length)&&i.add(s.chunk[a])}return i}class b6{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Eg{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new b6(a,n,r,s));return i.length==1?i[0]:new Eg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Ak(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Ak(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ak(this.heap,0)}}}function Ak(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class um{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Eg.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){tb(this.active,e),tb(this.activeTo,e),tb(this.activeRank,e),this.minActive=tB(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;nb(this.active,n,r),nb(this.activeTo,n,i),nb(this.activeRank,n,s),e&&nb(e,n,this.cursor.from),this.minActive=tB(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&tb(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function eB(t,e,n,r,i,s){t.goto(e),n.goto(r);let a=r+i,o=r,u=r-e,f=!!s.boundChange;for(let h=!1;;){let d=t.to+u-n.to,m=d||t.endSide-n.endSide,O=m<0?t.to+u:n.to,y=Math.min(O,a);if(t.point||n.point?(t.point&&n.point&&TP(t.point,n.point)&&VE(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(o,y,t.point,n.point),h=!1):(h&&s.boundChange(o),y>o&&!VE(t.active,n.active)&&s.compareRange(o,y,t.active,n.active),f&&y<a&&(d||t.openEnd(O)!=n.openEnd(O))&&(h=!0)),O>a)break;o=O,m<=0&&t.next(),m>=0&&n.next()}}function VE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!TP(t[n],e[n]))return!1;return!0}function tb(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function nb(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function tB(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Ag(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Fa(t,i));return r}function i_e(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Fa(t,i)}return t.length}const XE="",nB=typeof Symbol>"u"?"__"+XE:Symbol.for(XE),FE=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),rB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ed{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,u,f){let h=[],d=/^@(\w+)\b/.exec(a[0]),m=d&&d[1]=="keyframes";if(d&&o==null)return u.push(a[0]+";");for(let O in o){let y=o[O];if(/&/.test(O))s(O.split(/,\s*/).map(v=>a.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),y,u);else if(y&&typeof y=="object"){if(!d)throw new RangeError("The value of a property ("+O+") should be a primitive value.");s(i(O),y,h,m)}else y!=null&&h.push(O.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+y+";")}(h.length||m)&&u.push((r&&!d&&!f?a.map(r):a).join(", ")+" {"+h.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=rB[nB]||1;return rB[nB]=e+1,XE+e.toString(36)}static mount(e,n,r){let i=e[FE],s=r&&r.nonce;i?s&&i.setNonce(s):i=new s_e(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let iB=new Map;class s_e{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=iB.get(r);if(s)return e[FE]=s;this.sheet=new i.CSSStyleSheet,iB.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[FE]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let a=0;a<e.length;a++){let o=e[a],u=this.modules.indexOf(o);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,o),r)for(let f=0;f<o.rules.length;f++)r.insertRule(o.rules[f],i++)}else{for(;s<u;)i+=this.modules[s++].rules.length;i+=o.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ju={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a_e=typeof navigator<"u"&&/Mac/.test(navigator.platform),o_e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Si=0;Si<10;Si++)Ju[48+Si]=Ju[96+Si]=String(Si);for(var Si=1;Si<=24;Si++)Ju[Si+111]="F"+Si;for(var Si=65;Si<=90;Si++)Ju[Si]=String.fromCharCode(Si+32),Cg[Si]=String.fromCharCode(Si);for(var Ck in Ju)Cg.hasOwnProperty(Ck)||(Cg[Ck]=Ju[Ck]);function l_e(t){var e=a_e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||o_e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Cg:Ju)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let Yi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},YE=typeof document<"u"?document:{documentElement:{style:{}}};const WE=/Edge\/(\d+)/.exec(Yi.userAgent),_6=/MSIE \d/.test(Yi.userAgent),GE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yi.userAgent),eS=!!(_6||GE||WE),sB=!eS&&/gecko\/(\d+)/i.test(Yi.userAgent),Pk=!eS&&/Chrome\/(\d+)/.exec(Yi.userAgent),u_e="webkitFontSmoothing"in YE.documentElement.style,KE=!eS&&/Apple Computer/.test(Yi.vendor),aB=KE&&(/Mobile\/\w+/.test(Yi.userAgent)||Yi.maxTouchPoints>2);var ot={mac:aB||/Mac/.test(Yi.platform),windows:/Win/.test(Yi.platform),linux:/Linux|X11/.test(Yi.platform),ie:eS,ie_version:_6?YE.documentMode||6:GE?+GE[1]:WE?+WE[1]:0,gecko:sB,gecko_version:sB?+(/Firefox\/(\d+)/.exec(Yi.userAgent)||[0,0])[1]:0,chrome:!!Pk,chrome_version:Pk?+Pk[1]:0,ios:aB,android:/Android\b/.test(Yi.userAgent),webkit_version:u_e?+(/\bAppleWebKit\/(\d+)/.exec(Yi.userAgent)||[0,0])[1]:0,safari:KE,safari_version:KE?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Yi.userAgent)||[0,0])[1]:0,tabSize:YE.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function AP(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const F_=Object.create(null);function CP(t,e,n){if(t==e)return!0;t||(t=F_),e||(e=F_);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function c_e(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function oB(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function f_e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class ep{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Sa=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Sa||(Sa={}));class Fn extends Hu{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new bO(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new hf(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=w6(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new hf(e,r,i,n,e.widget||null,!0)}static line(e){return new _O(e)}static set(e,n=!1){return gn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Fn.none=gn.empty;class bO extends Fn{constructor(e){let{start:n,end:r}=w6(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?AP(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||F_}eq(e){return this==e||e instanceof bO&&this.tagName==e.tagName&&CP(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}bO.prototype.point=!1;class _O extends Fn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof _O&&this.spec.class==e.spec.class&&CP(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}_O.prototype.mapMode=Wi.TrackBefore;_O.prototype.point=!0;class hf extends Fn{constructor(e,n,r,i,s,a){super(n,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?Wi.TrackBefore:Wi.TrackAfter:Wi.TrackDel}get type(){return this.startSide!=this.endSide?Sa.WidgetRange:this.startSide<=0?Sa.WidgetBefore:Sa.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof hf&&h_e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}hf.prototype.point=!0;function w6(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function h_e(t,e){return t==e||!!(t&&e&&t.compare(e))}function ld(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Pg extends Hu{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Pg&&this.tagName==e.tagName&&CP(this.attributes,e.attributes)}static create(e){return new Pg(e.tagName,e.attributes||F_)}static set(e,n=!1){return gn.of(e,n)}}Pg.prototype.startSide=Pg.prototype.endSide=-1;function Rg(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function HE(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function zm(t,e){if(!e.anchorNode)return!1;try{return HE(t,e.anchorNode)}catch{return!1}}function Zm(t){return t.nodeType==3?Mg(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Um(t,e,n,r){return n?lB(t,e,n,r,-1)||lB(t,e,n,r,1):!1}function ec(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Y_(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function lB(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Nl(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=ec(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Nl(t):0}else return!1}}function Nl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $g(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function d_e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function S6(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function p_e(t,e,n,r,i,s,a,o){let u=t.ownerDocument,f=u.defaultView||window;for(let h=t,d=!1;h&&!d;)if(h.nodeType==1){let m,O=h==u.body,y=1,v=1;if(O)m=d_e(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let T=h.getBoundingClientRect();({scaleX:y,scaleY:v}=S6(h,T)),m={left:T.left,right:T.left+h.clientWidth*y,top:T.top,bottom:T.top+h.clientHeight*v}}let w=0,k=0;if(i=="nearest")e.top<m.top?(k=e.top-(m.top+a),n>0&&e.bottom>m.bottom+k&&(k=e.bottom-m.bottom+a)):e.bottom>m.bottom&&(k=e.bottom-m.bottom+a,n<0&&e.top-k<m.top&&(k=e.top-(m.top+a)));else{let T=e.bottom-e.top,A=m.bottom-m.top;k=(i=="center"&&T<=A?e.top+T/2-A/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-A+a)-m.top}if(r=="nearest"?e.left<m.left?(w=e.left-(m.left+s),n>0&&e.right>m.right+w&&(w=e.right-m.right+s)):e.right>m.right&&(w=e.right-m.right+s,n<0&&e.left<m.left+w&&(w=e.left-(m.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:r=="start"==o?e.left-s:e.right-(m.right-m.left)+s)-m.left,w||k)if(O)f.scrollBy(w,k);else{let T=0,A=0;if(k){let C=h.scrollTop;h.scrollTop+=k/v,A=(h.scrollTop-C)*v}if(w){let C=h.scrollLeft;h.scrollLeft+=w/y,T=(h.scrollLeft-C)*y}e={left:e.left-T,top:e.top-A,right:e.right-T,bottom:e.bottom-A},T&&Math.abs(T-w)<1&&(r="nearest"),A&&Math.abs(A-k)<1&&(i="nearest")}if(O)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function m_e(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class g_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Nl(n):0),r,Math.min(e.focusOffset,r?Nl(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let jc=null;ot.safari&&ot.safari_version>=26&&(jc=!1);function x6(t){if(t.setActive)return t.setActive();if(jc)return t.focus(jc);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(jc==null?{get preventScroll(){return jc={preventScroll:!0},!0}}:void 0),!jc){jc=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let uB;function Mg(t,e,n=e){let r=uB||(uB=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function ud(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,t.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function O_e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function y_e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Nl(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Nl(n))}else{if(n==t)return!0;r=ec(n),n=n.parentNode}}function k6(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function T6(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Nl(n)}else if(n.parentNode&&!Y_(n))r=ec(n),n=n.parentNode;else return null}}function E6(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Y_(n))r=ec(n)+1,n=n.parentNode;else return null}}class Ya{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ya(e.parentNode,ec(e),n)}static after(e,n){return new Ya(e.parentNode,ec(e)+1,n)}}var Er=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(Er||(Er={}));const df=Er.LTR,PP=Er.RTL;function A6(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const v_e=A6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),b_e=A6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),JE=Object.create(null),ko=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);JE[e]=n,JE[n]=-e}function C6(t){return t<=247?v_e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?b_e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const __e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Do{get dir(){return this.level%2?PP:df}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=n&&o.to>=n){if(o.level==r)return a;(s<0||(i!=0?i<0?o.from<n:o.to>n:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function P6(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!P6(r.inner,i.inner))return!1}return!0}const Tn=[];function w_e(t,e,n,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:e,o=s<r.length?r[s].from:n,u=s?256:i;for(let f=a,h=u,d=u;f<o;f++){let m=C6(t.charCodeAt(f));m==512?m=h:m==8&&d==4&&(m=16),Tn[f]=m==4?2:m,m&7&&(d=m),h=m}for(let f=a,h=u,d=u;f<o;f++){let m=Tn[f];if(m==128)f<o-1&&h==Tn[f+1]&&h&24?m=Tn[f]=h:Tn[f]=256;else if(m==64){let O=f+1;for(;O<o&&Tn[O]==64;)O++;let y=f&&h==8||O<n&&Tn[O]==8?d==1?1:8:256;for(let v=f;v<O;v++)Tn[v]=y;f=O-1}else m==8&&d==1&&(Tn[f]=1);h=m,m&7&&(d=m)}}}function S_e(t,e,n,r,i){let s=i==1?2:1;for(let a=0,o=0,u=0;a<=r.length;a++){let f=a?r[a-1].to:e,h=a<r.length?r[a].from:n;for(let d=f,m,O,y;d<h;d++)if(O=JE[m=t.charCodeAt(d)])if(O<0){for(let v=o-3;v>=0;v-=3)if(ko[v+1]==-O){let w=ko[v+2],k=w&2?i:w&4?w&1?s:i:0;k&&(Tn[d]=Tn[ko[v]]=k),o=v;break}}else{if(ko.length==189)break;ko[o++]=d,ko[o++]=m,ko[o++]=u}else if((y=Tn[d])==2||y==1){let v=y==i;u=v?0:1;for(let w=o-3;w>=0;w-=3){let k=ko[w+2];if(k&2)break;if(v)ko[w+2]|=2;else{if(k&4)break;ko[w+2]|=4}}}}}function x_e(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let a=i?n[i-1].to:t,o=i<n.length?n[i].from:e;for(let u=a;u<o;){let f=Tn[u];if(f==256){let h=u+1;for(;;)if(h==o){if(i==n.length)break;h=n[i++].to,o=i<n.length?n[i].from:e}else if(Tn[h]==256)h++;else break;let d=s==1,m=(h<e?Tn[h]:r)==1,O=d==m?d?1:2:r;for(let y=h,v=i,w=v?n[v-1].to:t;y>u;)y==w&&(y=n[--v].from,w=v?n[v-1].to:t),Tn[--y]=O;u=h}else s=f,u++}}}function eA(t,e,n,r,i,s,a){let o=r%2?2:1;if(r%2==i%2)for(let u=e,f=0;u<n;){let h=!0,d=!1;if(f==s.length||u<s[f].from){let v=Tn[u];v!=o&&(h=!1,d=v==16)}let m=!h&&o==1?[]:null,O=h?r:r+1,y=u;e:for(;;)if(f<s.length&&y==s[f].from){if(d)break e;let v=s[f];if(!h)for(let w=v.to,k=f+1;;){if(w==n)break e;if(k<s.length&&s[k].from==w)w=s[k++].to;else{if(Tn[w]==o)break e;break}}if(f++,m)m.push(v);else{v.from>u&&a.push(new Do(u,v.from,O));let w=v.direction==df!=!(O%2);tA(t,w?r+1:r,i,v.inner,v.from,v.to,a),u=v.to}y=v.to}else{if(y==n||(h?Tn[y]!=o:Tn[y]==o))break;y++}m?eA(t,u,y,r+1,i,m,a):u<y&&a.push(new Do(u,y,O)),u=y}else for(let u=n,f=s.length;u>e;){let h=!0,d=!1;if(!f||u>s[f-1].to){let v=Tn[u-1];v!=o&&(h=!1,d=v==16)}let m=!h&&o==1?[]:null,O=h?r:r+1,y=u;e:for(;;)if(f&&y==s[f-1].to){if(d)break e;let v=s[--f];if(!h)for(let w=v.from,k=f;;){if(w==e)break e;if(k&&s[k-1].to==w)w=s[--k].from;else{if(Tn[w-1]==o)break e;break}}if(m)m.push(v);else{v.to<u&&a.push(new Do(v.to,u,O));let w=v.direction==df!=!(O%2);tA(t,w?r+1:r,i,v.inner,v.from,v.to,a),u=v.from}y=v.from}else{if(y==e||(h?Tn[y-1]!=o:Tn[y-1]==o))break;y--}m?eA(t,y,u,r+1,i,m,a):y<u&&a.push(new Do(y,u,O)),u=y}}function tA(t,e,n,r,i,s,a){let o=e%2?2:1;w_e(t,i,s,r,o),S_e(t,i,s,r,o),x_e(i,s,r,o),eA(t,i,s,e,n,r,a)}function k_e(t,e,n){if(!t)return[new Do(0,0,e==PP?1:0)];if(e==df&&!n.length&&!__e.test(t))return R6(t.length);if(n.length)for(;t.length>Tn.length;)Tn[Tn.length]=256;let r=[],i=e==df?0:1;return tA(t,i,i,n,0,t.length,r),r}function R6(t){return[new Do(0,t,0)]}let $6="";function T_e(t,e,n,r,i){var s;let a=r.head-t.from,o=Do.find(e,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),u=e[o],f=u.side(i,n);if(a==f){let m=o+=i?1:-1;if(m<0||m>=e.length)return null;u=e[o=m],a=u.side(!i,n),f=u.side(i,n)}let h=Fa(t.text,a,u.forward(i,n));(h<u.from||h>u.to)&&(h=f),$6=t.text.slice(Math.min(a,h),Math.max(a,h));let d=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return d&&h==f&&d.level+(i?0:1)<u.level?rt.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):rt.cursor(h+t.from,u.forward(i,n)?-1:1,u.level)}function E_e(t,e,n){for(let r=e;r<n;r++){let i=C6(t.charCodeAt(r));if(i==1)return df;if(i==2||i==4)return PP}return df}const M6=At.define(),I6=At.define(),D6=At.define(),Q6=At.define(),nA=At.define(),N6=At.define(),L6=At.define(),RP=At.define(),$P=At.define(),j6=At.define({combine:t=>t.some(e=>e)}),A_e=At.define({combine:t=>t.some(e=>e)}),B6=At.define();class cd{constructor(e,n="nearest",r="nearest",i=5,s=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=a}map(e){return e.empty?this:new cd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new cd(rt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const rb=Nn.define({map:(t,e)=>t.map(e)}),z6=Nn.define();function Ws(t,e,n){let r=t.facet(Q6);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Ol=At.define({combine:t=>t.length?t[0]:!0});let C_e=0;const Uh=At.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Ll{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Uh.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Uh.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:a}=n||{};return new Ll(C_e++,e,r,i,o=>{let u=[];return a&&u.push(tS.of(f=>{let h=f.plugin(o);return h?a(h):Fn.none})),s&&u.push(s(o)),u})}static fromClass(e,n){return Ll.define((r,i)=>new e(r,i),n)}}class Rk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Ws(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Ws(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Ws(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Z6=At.define(),MP=At.define(),tS=At.define(),U6=At.define(),IP=At.define(),wO=At.define(),q6=At.define();function cB(t,e){let n=t.state.facet(q6);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return gn.spans(r,e.from,e.to,{point(){},span(s,a,o,u){let f=s-e.from,h=a-e.from,d=i;for(let m=o.length-1;m>=0;m--,u--){let O=o[m].spec.bidiIsolate,y;if(O==null&&(O=E_e(e.text,f,h)),u>0&&d.length&&(y=d[d.length-1]).to==f&&y.direction==O)y.to=h,d=y.inner;else{let v={from:f,to:h,direction:O,inner:[]};d.push(v),d=v.inner}}}}),i}const V6=At.define();function DP(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(V6)){let a=s(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const wm=At.define();class ya{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new ya(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,a=0;;){let o=i<e.length?e[i].fromB:1e9,u=s<n.length?n[s]:1e9,f=Math.min(o,u);if(f==1e9)break;let h=f+a,d=f,m=h;for(;;)if(s<n.length&&n[s]<=d){let O=n[s+1];s+=2,d=Math.max(d,O);for(let y=i;y<e.length&&e[y].fromB<=d;y++)a=e[y].toA-e[y].toB;m=Math.max(m,O+a)}else if(i<e.length&&e[i].fromB<=d){let O=e[i++];d=Math.max(d,O.toB),m=Math.max(m,O.toA),a=O.toA-O.toB}else break;r.push(new ya(h,m,f,d))}return r}}class W_{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=si.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,o,u)=>i.push(new ya(s,a,o,u))),this.changedRanges=i}static create(e,n,r){return new W_(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const P_e=[];class Zr{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return P_e}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&c_e(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=ec(this.dom),i=this.length?e>0:n>0;return new Ya(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof rS)return e;return null}static get(e){return e.cmTile}}class nS extends Zr{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,s=e?.node==n?e:null,a=0;for(let o of this.children){if(o.sync(e),a+=o.length+o.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=o.dom&&(s.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=fB(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=fB(i);this.length=a}}function fB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class rS extends nS{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Zr.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let a=r.children[i++];if(a instanceof ju)n.push(i),r=a,i=0;else{let o=s+a.length,u=e(a,s);if(u!==void 0)return u;s=o+a.breakAfter}}}resolveBlock(e,n){let r,i=-1,s,a=-1;if(this.blockTiles((o,u)=>{let f=u+o.length;if(e>=u&&e<=f){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==f&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,i=e-u),(f>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!s||!o.isWidget()&&s.isWidget())&&(s=o,a=e-u)}}),!r&&!s)throw new Error("No tile at position "+e);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:a}}}class ju extends nS{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new ju(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Ad extends nS{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new Ad(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,s=-1,a=null,o=-1;function u(h,d){for(let m=0,O=0;m<h.children.length&&O<=d;m++){let y=h.children[m],v=O+y.length;v>=d&&(y.isComposite()?u(y,d-O):(!a||a.isHidden&&(n>0||r&&$_e(a,y)))&&(v>d||y.flags&32)?(a=y,o=d-O):(O<d||y.flags&16&&!y.isHidden)&&(i=y,s=d-O)),O=v}}u(this,e);let f=(n<0?i:a)||i||a;return f?{tile:f,offset:f==i?s:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):R_e(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new Ya(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let a=r.tile.parent,o=!1;for(let u of a.children){if(o)return new Ya(u.dom,0);u==r.tile&&(o=!0)}}return new Ya(this.dom,0)}}function R_e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Zm(e);return n[n.length-1]||null}function $_e(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class ws extends nS{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new ws(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Gc extends Zr{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;e==0&&n<0||e==r&&n>=0?ot.chrome||ot.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):n<0?i--:s<r&&s++;let o=Mg(this.dom,i,s).getClientRects();if(!o.length)return null;let u=o[(a?a<0:n>=0)?0:o.length-1];return ot.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(o,f=>f.width)||u),a?$g(u,a<0):u||null}static of(e,n){let r=new Gc(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class pf extends Zr{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return $g(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?s.length-1:0;a=s[u],!(e>0?u==0:u==s.length-1||a.top<a.bottom);u+=o?-1:1);return $g(a,!o)}}get overrideDOMText(){if(!this.length)return on.empty;let{root:e}=this;if(!e)return on.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,s){return s||(s=e.toDOM(n),e.editable||(s.contentEditable="false")),new pf(s,r,e,i)}}class G_ extends Zr{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return on.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class M_e{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:s,beforeBreak:a,parents:o}=this;for(;e||n>0;)if(i.isComposite())if(a){if(!e)break;r&&r.break(),e--,a=!1}else if(s==i.children.length){if(!e&&!o.length)break;r&&r.leave(i),a=!!i.breakAfter,{tile:i,index:s}=o.pop(),s++}else{let u=i.children[s],f=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(a=!!f,s++,e-=u.length):(o.push({tile:i,index:s}),i=u,s=0,r&&u.isComposite()&&r.enter(u))}else if(s==i.length)a=!!i.breakAfter,{tile:i,index:s}=o.pop(),s++;else if(e){let u=Math.min(e,i.length-s);r&&r.skip(i,s,s+u),e-=u,s+=u}else break;return this.tile=i,this.index=s,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class I_e{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class D_e{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var s;this.flushBuffer();let a=this.ensureMarks(n,r),o=a.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=a.children[a.children.length-1]=new Gc(o.dom,o.text+e);u.parent=a}else a.append(i||Gc.of(e,(s=this.cache.find(Gc))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?$k(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],f=i.lastChild;if(f instanceof ws&&f.mark.eq(u.mark))f.dom!=u.dom&&f.setDOM($k(u.dom)),i=f;else{if(this.cache.reused.get(u)){let d=Zr.get(u.dom);d&&d.setDOM($k(u.dom))}let h=ws.of(u.mark,u.dom);i.append(h),i=h}this.cache.reused.set(u,2)}let s=Zr.get(e.text);s&&this.cache.reused.set(s,2);let a=new Gc(e.text,e.text.nodeValue);a.flags|=8,i.append(a)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=X6);let i=Ad.start(e,n||((r=this.cache.find(Ad))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let a=e[s],o;if(n>0&&(o=i.lastChild)&&o instanceof ws&&o.mark.eq(a))i=o,n--;else{let u=ws.of(a,(r=this.cache.find(ws,f=>f.mark.eq(a)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!hB(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ot.ios&&hB(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Mk,0,32)||new pf(Mk.toDOM(),0,Mk,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new I_e(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof ju&&i.wrapper.eq(r.wrapper))n=i;else{let s=ju.of(r.wrapper,(e=this.cache.find(ju,a=>a.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(s),n=s}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(G_,void 0,1);return r&&(r.flags=n),r||new G_(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Q_e{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const K_=[pf,Ad,Gc,ws,G_,ju,rS];for(let t=0;t<K_.length;t++)K_[t].bucket=t;class N_e{constructor(e){this.view=e,this.buckets=K_.map(()=>[]),this.index=K_.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,s=this.buckets[i],a=this.index[i];for(let o=s.length-1;o>=0;o--){let u=(o+a)%s.length,f=s[u];if((!n||n(f))&&!this.reused.has(f))return s.splice(u,1),u<a&&this.index[i]--,this.reused.set(f,r),f}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let s=0,a=0;;s++){if(s==i.length){if(a)return null;a=1,s=0}let o=i[s];if(!this.reused.has(o)&&(a==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,o.widget==e&&o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new pf(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class L_e{constructor(e,n,r,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new N_e(e),this.text=new Q_e(e.state.doc),this.builder=new D_e(this.cache,new rS(e,e.contentDOM),gn.iter(r)),this.cache.reused.set(n,2),this.old=new M_e(n),this.reuseWalker={skip:(a,o,u)=>{if(this.cache.add(a),a.isComposite())return!1},enter:a=>this.cache.add(a),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,a=0;;){let o=a<e.length?e[a++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let f=u-i;this.preserve(f,!a,!o),i=u,s+=f}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(s,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(s,o.toB)),s=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=z_e(this.old),s=this.openMarks;this.old.advance(e,r?1:-1,{skip:(a,o,u)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let f=u>0||o<a.length?pf.of(a.widget,this.view,u-o,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,i,s),s=i.length)}else if(a.isText())this.builder.ensureLine(null),!o&&u==a.length?this.builder.addText(a.text,i,s,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(o,u),i,s)),s=i.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof G_)this.cache.add(a);else if(a instanceof ws)this.builder.ensureLine(null),this.builder.addMark(a,i,s),this.cache.reused.set(a,1),s=i.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof ws&&i.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?i.length&&(i.length=s=0):a instanceof ws&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,s=0,a=gn.spans(this.decorations,e,n,{point:(o,u,f,h,d,m)=>{if(f instanceof hf){if(this.disallowBlockEffectsFor[m]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=h.length,d>h.length)i.continueWidget(u-o);else{let O=f.widget||(f.block?Cd.block:Cd.inline),y=j_e(f),v=this.cache.findWidget(O,u-o,y)||pf.of(O,this.view,u-o,y);f.block?(f.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(v)):(i.ensureLine(r),i.addInlineWidget(v,h,d))}r=null}else r=B_e(r,f);u>o&&this.text.skip(u-o)},span:(o,u,f,h)=>{for(let d=o;d<u;){let m=this.text.next(Math.min(512,u-d));m==null?(i.addLineStartIfNotCovered(r),i.addBreak(),d++):(i.ensureLine(r),i.addText(m,f,d==o?h:f.length),d+=m.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=a>s,this.openMarks=a}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let s=Zr.get(i);if(i==this.view.contentDOM)break;s instanceof ws?n.push(s):s?.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new Ad(i,X6):n.push(ws.of(new bO({tagName:i.nodeName.toLowerCase(),attributes:f_e(i)}),i))}return{line:r,marks:n}}}function hB(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function j_e(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const X6={class:"cm-line"};function B_e(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&AP(n,t),r&&(t.class+=" "+r)),t}function z_e(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof ws&&e.push(r.mark)}return e}function $k(t){let e=Zr.get(t);return e&&e.setDOM(t.cloneNode()),t}class Cd extends ep{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Cd.inline=new Cd("span");Cd.block=new Cd("div");const Mk=new class extends ep{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class dB{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Fn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new rS(e,e.contentDOM),this.updateInner([new ya(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:d})=>d<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!G_e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?U_e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:h,to:d}=this.hasComposition;r=new ya(h,d,e.changes.mapPos(h,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ot.ie||ot.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.blockWrappers;this.updateDeco();let u=X_e(a,this.decorations,e.changes);u.length&&(r=ya.extendWithRanges(r,u));let f=Y_e(o,this.blockWrappers,e.changes);return f.length&&(r=ya.extendWithRanges(r,f)),s&&!r.some(h=>h.fromA<=s.range.fromA&&h.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let a=this.tile,o=new L_e(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),rA(a,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ot.chrome||ot.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof Ik&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(z6)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,a=!s&&!(this.view.state.facet(Ol)||r.tabIndex>-1)&&zm(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||a))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,h;if(u.empty?h=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(h=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ot.gecko&&u.empty&&!this.hasComposition&&Z_e(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=h=new Ya(m,0),o=!0}let d=this.view.observer.selectionRange;(o||!d.focusNode||(!Um(f.node,f.offset,d.anchorNode,d.anchorOffset)||!Um(h.node,h.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,u))&&(this.view.observer.ignore(()=>{ot.android&&ot.chrome&&r.contains(d.focusNode)&&W_e(d.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let m=Rg(this.view.root);if(m)if(u.empty){if(ot.gecko){let O=q_e(f.node,f.offset);if(O&&O!=3){let y=(O==1?T6:E6)(f.node,f.offset);y&&(f=new Ya(y.node,y.offset))}}m.collapse(f.node,f.offset),u.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=u.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(h.node,h.offset)}catch{}}else{let O=document.createRange();u.anchor>u.head&&([f,h]=[h,f]),O.setEnd(h.node,h.offset),O.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(O)}a&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new Ya(d.anchorNode,d.anchorOffset),this.impreciseHead=h.precise?null:new Ya(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Um(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Rg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let o=a.posAtStart;if(n.head==o||n.head==o+a.length)return;let u=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!u||!f||u.bottom>f.top)return;let h=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(e==r.dom)s=r.dom.childNodes[n];else{let a=Nl(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;a==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?a=-1:a=1),e=o}a<0?s=e:s=e.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Zr.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let a=0,o=i;;a++){let u=r.children[a];if(u.dom==s)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,s=!1,a,o=-1,u=!1;return this.tile.blockTiles((f,h)=>{if(f.isWidget()){if(f.flags&32&&h>=e)return!0;f.flags&16&&(s=!0)}else{let d=h+f.length;if(h<=e&&(r=f,i=e-h,s=d<e),d>=e&&!a&&(a=f,o=e-h,u=h>e),h>e&&a)return!0}}),!r&&!a?this.domAtPos(e,n):(s&&a?r=null:u&&r&&(a=null),r&&n<0||!a?r.domIn(i,n):a.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof Ik?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(s,a){if(s.isComposite())for(let o of s.children){if(o.length>=a){let u=i(o,a);if(u)return u}if(a-=o.length,a<0)break}else if(s.isText()&&a<s.length){let o=Fa(s.text,a);if(o==a)return null;let u=Mg(s.dom,a,o).getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(f==u.length-1||h.top<h.bottom&&h.left<h.right)return h}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==Er.LTR,f=0,h=(d,m,O)=>{for(let y=0;y<d.children.length&&!(m>i);y++){let v=d.children[y],w=m+v.length,k=v.dom.getBoundingClientRect(),{height:T}=k;if(O&&!y&&(f+=k.top-O.top),v instanceof ju)w>r&&h(v,m,k);else if(m>=r&&(f>0&&n.push(-f),n.push(T+f),f=0,a)){let A=v.dom.lastChild,C=A?Zm(A):[];if(C.length){let I=C[C.length-1],Q=u?I.right-k.left:k.right-I.left;Q>o&&(o=Q,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=w)}}O&&y==d.children.length-1&&(f+=O.bottom-k.bottom),m=w+v.breakAfter}};return h(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?Er.RTL:Er.LTR}measureTextSize(){let e=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let o=0,u;for(let f of a.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let h=Zm(f.dom);if(h.length!=1)return;o+=h[0].width,u=h[0].height}if(o)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:o/a.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=Zm(n.firstChild)[0];r=n.getBoundingClientRect().height,i=a&&a.width?a.width/27:7,s=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],a=s?s.from-1:this.view.state.doc.length;if(a>r){let o=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Fn.replace({widget:new Ik(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return Fn.set(e)}updateDeco(){let e=1,n=this.view.state.facet(tS).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(IP).map((s,a)=>{let o=typeof s=="function";return o&&(r=!0),o?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(gn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(U6).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(B6))try{if(f(this.view,e.range,e))return!0}catch(h){Ws(this.view.state,h,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=DP(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;p_e(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==Er.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){rA(this.tile)}}function rA(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)rA(r,e)}}function Z_e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function F6(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=T6(n.focusNode,n.focusOffset),i=E6(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let o=Zr.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let u=Zr.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let a=e-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function U_e(t,e,n){let r=F6(t,n);if(!r)return null;let{node:i,from:s,to:a}=r,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new ya(u.mapPos(s),u.mapPos(a),s,a),text:i}}function q_e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let V_e=class{constructor(){this.changes=[]}compareRange(e,n){ld(e,n,this.changes)}comparePoint(e,n){ld(e,n,this.changes)}boundChange(e){ld(e,e,this.changes)}};function X_e(t,e,n){let r=new V_e;return gn.compare(t,e,n,r),r.changes}class F_e{constructor(){this.changes=[]}compareRange(e,n){ld(e,n,this.changes)}comparePoint(){}boundChange(e){ld(e,e,this.changes)}}function Y_e(t,e,n){let r=new F_e;return gn.compare(t,e,n,r),r.changes}function W_e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function G_e(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class Ik extends ep{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function K_e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return rt.cursor(e);s==0?n=1:s==i.length&&(n=-1);let a=s,o=s;n<0?a=Fa(i.text,s,!1):o=Fa(i.text,s);let u=r(i.text.slice(a,o));for(;a>0;){let f=Fa(i.text,a,!1);if(r(i.text.slice(f,a))!=u)break;a=f}for(;o<i.length;){let f=Fa(i.text,o);if(r(i.text.slice(o,f))!=u)break;o=f}return rt.range(a+i.from,o+i.from)}function H_e(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-o)*.5)/o);s+=u*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+i_e(a,s,t.state.tabSize)}function J_e(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Sa.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function ewe(t,e,n,r){let i=J_e(t,e.head,e.assoc||-1),s=!r||i.type!=Sa.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let a=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(o==Er.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(u!=null)return rt.cursor(u,n?-1:1)}return rt.cursor(n?i.to:i.from,n?-1:1)}function pB(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let o=e,u=null;;){let f=T_e(i,s,a,o,n),h=$6;if(!f){if(i.number==(n?t.state.doc.lines:1))return o;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(u){if(!u(h))return o}else{if(!r)return f;u=r(h)}o=f}}function twe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let a=r(s);return i==vl.Space&&(i=a),i==a}}function nwe(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return rt.cursor(i,e.assoc);let a=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),h=t.documentTop;if(f)a==null&&(a=f.left-u.left),o=s<0?f.top:f.bottom;else{let y=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-y.from))),o=(s<0?y.top:y.bottom)+h}let d=u.left+a,m=r??t.viewState.heightOracle.textHeight>>1,O=iA(t,{x:d,y:o+m*s},!1,s);return rt.cursor(O.pos,O.assoc,void 0,a)}function qm(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,a,o)=>{if(e>s&&e<a){let u=r||n||(e-s<a-e?-1:1);e=u<0?s:a,r=u}});if(!r)return e}}function Y6(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let a=qm(t,i.from,0);a!=i.from&&(s=rt.cursor(a,-1))}else{let a=qm(t,i.from,-1),o=qm(t,i.to,1);(a!=i.from||o!=i.to)&&(s=rt.range(i.from==i.anchor?a:o,i.from==i.head?a:o))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?rt.create(n,e.mainIndex):e}function Dk(t,e,n){let r=qm(t.state.facet(wO).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:rt.cursor(r,r<n.from?1:-1)}class $o{constructor(e,n){this.pos=e,this.assoc=n}}function iA(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),s=i.top+t.viewState.paddingTop,{x:a,y:o}=e,u=o-s,f;for(;;){if(u<0)return new $o(0,1);if(u>t.viewState.docHeight)return new $o(t.state.doc.length,-1);if(f=t.elementAtHeight(u),r==null)break;if(f.type==Sa.Text){if(r<0?f.to<t.viewport.from:f.from>t.viewport.to)break;let m=t.docView.coordsAt(r<0?f.from:f.to,r>0?-1:1);if(m&&(r<0?m.top<=u+s:m.bottom>=u+s))break}let d=t.viewState.heightOracle.textHeight/2;u=r>0?f.bottom+d:f.top-d}if(t.viewport.from>=f.to||t.viewport.to<=f.from){if(n)return null;if(f.type==Sa.Text){let d=H_e(t,i,f,a,o);return new $o(d,d==f.from?1:-1)}}if(f.type!=Sa.Text)return u<(f.top+f.bottom)/2?new $o(f.from,1):new $o(f.to,-1);let h=t.docView.lineAt(f.from,2);return(!h||h.length!=f.length)&&(h=t.docView.lineAt(f.from,-2)),new rwe(t,a,o,t.textDirectionAt(f.from)).scanTile(h,f.from)}class rwe{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Do.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Do.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,s=new Set,a=this.bidiIn(e[0],e[i]),o,u,f=-1,h=1e9,d;e:for(;r<i;){let O=i-r,y=r+i>>1;t:if(s.has(y)){let w=r+Math.floor(Math.random()*O);for(let k=0;k<O;k++){if(!s.has(w)){y=w;break t}w++,w==i&&(w=r)}break e}s.add(y);let v=n(y);if(v)for(let w=0;w<v.length;w++){let k=v[w],T=0;if(k.bottom<this.y)(!o||o.bottom<k.bottom)&&(o=k),T=1;else if(k.top>this.y)(!u||u.top>k.top)&&(u=k),T=-1;else{let A=k.left>this.x?this.x-k.left:k.right<this.x?this.x-k.right:0,C=Math.abs(A);C<h&&(f=y,h=C,d=k),A&&(T=A<0==(this.baseDir==Er.LTR)?-1:1)}T==-1&&(!a||this.baseDirAt(e[y],1))?i=y:T==1&&(!a||this.baseDirAt(e[y+1],-1))&&(r=y+1)}}if(!d){let O=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(O.top+O.bottom)/2,this.scan(e,n)}let m=(a?this.dirAt(e[f],1):this.baseDir)==Er.LTR;return{i:f,after:this.x>(d.left+d.right)/2==m}}scanText(e,n){let r=[];for(let s=0;s<e.length;s=Fa(e.text,s))r.push(n+s);r.push(n+e.length);let i=this.scan(r,s=>{let a=r[s]-n,o=r[s+1]-n;return Mg(e.dom,a,o).getClientRects()});return i.after?new $o(r[i.i+1],-1):new $o(r[i.i],1)}scanTile(e,n){if(!e.length)return new $o(n,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,n);if(o.isComposite())return this.scanTile(o,n)}let r=[n];for(let o=0,u=n;o<e.children.length;o++)r.push(u+=e.children[o].length);let i=this.scan(r,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:Mg(u.dom,0,u.length)).getClientRects()}),s=e.children[i.i],a=r[i.i];return s.isText()?this.scanText(s,a):s.isComposite()?this.scanTile(s,a):i.after?new $o(r[i.i+1],-1):new $o(a,1)}}const Sm="";class iwe{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(cn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Sm}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=Zr.get(i),o=i.nextSibling;if(o==n){a?.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=Zr.get(o);(a&&u?a.breakAfter:(a?a.breakAfter:Y_(i))||Y_(o)&&(i.nodeName!="BR"||a?.isWidget())&&this.text.length>s)&&!awe(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=i.exec(n))&&(s=o.index,a=o[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=s+a}}readNode(e){let n=Zr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(swe(e,r.node,r.offset)?n:0))}}function swe(t,e,n){for(;;){if(!e||n<Nl(e))return!1;if(e==t)return!0;n=ec(e)+1,e=e.parentNode}}function awe(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Zr.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class mB{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class owe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=W6(e.docView.tile,n,r,0))){let o=s||a?[]:uwe(e),u=new iwe(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=cwe(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!HE(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!HE(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),h=e.viewport;if((ot.ios||ot.chrome)&&e.state.selection.main.empty&&u!=f&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(u,f),m=Math.max(u,f),O=h.from-d,y=h.to-m;(O==0||O==1||d==0)&&(y==0||y==-1||m==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(rt.range(f,u)):this.newSel=rt.single(f,u)}}}function W6(t,e,n,r){if(t.isComposite()){let i=-1,s=-1,a=-1,o=-1;for(let u=0,f=r,h=r;u<t.children.length;u++){let d=t.children[u],m=f+d.length;if(f<e&&m>n)return W6(d,e,n,f);if(m>=e&&i==-1&&(i=u,s=f),f>n&&d.dom.parentNode==t.dom){a=u,o=h;break}h=m,f=m+d.breakAfter}return{from:s,to:o<0?r+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:a<t.children.length&&a>=0?t.children[a].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function G6(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,u=i.from,f=null;(s===8||ot.android&&e.text.length<o-a)&&(u=i.to,f="end");let h=K6(t.state.doc.sliceString(a,o,Sm),e.text,u-a,f);h&&(ot.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Sm+Sm&&h.toB--,n={from:a+h.from,to:a+h.toA,insert:on.of(e.text.slice(h.from,h.toB).split(Sm))})}else r&&(!t.hasFocus&&t.state.facet(Ol)||H_(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ot.mac||ot.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=rt.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:on.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ot.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=rt.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:on.of([" "])}),n)return QP(t,n,r,s);if(r&&!H_(r,i)){let a=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=Y6(t.state.facet(wO).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function QP(t,e,n,r=-1){if(ot.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ot.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ud(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&ud(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&ud(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,o=()=>a||(a=lwe(t,e,n));return t.state.facet(N6).some(u=>u(t,e.from,e.to,s,o))||t.dispatch(o()),!0}function lwe(t,e,n){let r,i=t.state,s=i.selection.main,a=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let u=e.from<s.from?-1:1,f=u<0?s.from:s.to,h=qm(i.facet(wO).map(d=>d(t)),f,u);e.from==h&&(a=h)}if(a>-1)r={changes:e,selection:rt.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=s.from<e.from?i.sliceDoc(s.from,e.from):"",f=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=i.changes(e),f=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let h=t.state.sliceDoc(e.from,e.to),d,m=n&&F6(t,n.main.head);if(m){let y=e.insert.length-(e.to-e.from);d={from:m.from,to:m.to-y}}else d=t.state.doc.lineAt(s.head);let O=s.to-e.to;r=i.changeByRange(y=>{if(y.from==s.from&&y.to==s.to)return{changes:u,range:f||y.map(u)};let v=y.to-O,w=v-h.length;if(t.state.sliceDoc(w,v)!=h||v>=d.from&&w<=d.to)return{range:y};let k=i.changes({from:w,to:v,insert:e.insert}),T=y.to-s.to;return{changes:k,range:f?rt.range(Math.max(0,f.anchor+T),Math.max(0,f.head+T)):y.map(k)}})}else r={changes:u,selection:f&&i.selection.replaceRange(f)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function K6(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let a=t.length,o=e.length;for(;a>0&&o>0&&t.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(r=="end"){let u=Math.max(0,s-Math.min(a,o));n-=a+u-s}if(a<s&&t.length<e.length){let u=n<=s&&n>=a?s-n:0;s-=u,o=s+(o-a),a=s}else if(o<s){let u=n<=s&&n>=o?s-n:0;s-=u,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function uwe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new mB(n,r)),(i!=n||s!=r)&&e.push(new mB(i,s))),e}function cwe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?rt.single(n+e,r+e):null}function H_(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class fwe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ot.safari&&e.contentDOM.addEventListener("input",()=>null),ot.gecko&&Twe(e.contentDOM.ownerDocument)}handleEvent(e){!vwe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=hwe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let a=!n[s].handlers.length,o=r[s];o&&a!=!o.handlers.length&&(i.removeEventListener(s,this.handleEvent),o=null),o||i.addEventListener(s,this.handleEvent,{passive:a})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&J6.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ot.android&&ot.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ot.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=H6.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||dwe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ud(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ot.safari&&!ot.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function gB(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Ws(n.state,i)}}}function hwe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(s)for(let o in s){let u=s[o];u&&n(o).handlers.push(gB(r.value,u))}if(a)for(let o in a){let u=a[o];u&&n(o).observers.push(gB(r.value,u))}}for(let r in no)n(r).handlers.push(no[r]);for(let r in Ta)n(r).observers.push(Ta[r]);return e}const H6=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],dwe="dthko",J6=[16,17,18,20,91,92,224,225],ib=6;function sb(t){return Math.max(0,t)*.7+8}function pwe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class mwe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=m_e(e.contentDOM),this.atoms=e.state.facet(wO).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(cn.allowMultipleSelections)&&gwe(e,n),this.dragging=ywe(e,n)&&nV(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&pwe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=DP(this.view);e.clientX-u.left<=i+ib?n=-sb(i-e.clientX):e.clientX+u.right>=a-ib&&(n=sb(e.clientX-a)),e.clientY-u.top<=s+ib?r=-sb(s-e.clientY):e.clientY+u.bottom>=o-ib&&(r=sb(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=Y6(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function gwe(t,e){let n=t.state.facet(M6);return n.length?n[0](e):ot.mac?e.metaKey:e.ctrlKey}function Owe(t,e){let n=t.state.facet(I6);return n.length?n[0](e):ot.mac?!e.altKey:!e.ctrlKey}function ywe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Rg(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function vwe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Zr.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const no=Object.create(null),Ta=Object.create(null),eV=ot.ie&&ot.ie_version<15||ot.ios&&ot.webkit_version<604;function bwe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),tV(t,n.value)},50)}function iS(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function tV(t,e){e=iS(t.state,RP,e);let{state:n}=t,r,i=1,s=n.toText(e),a=s.lines==n.selection.ranges.length;if(sA!=null&&n.selection.ranges.every(u=>u.empty)&&sA==s.toString()){let u=-1;r=n.changeByRange(f=>{let h=n.doc.lineAt(f.from);if(h.from==u)return{range:f};u=h.from;let d=n.toText((a?s.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:d},range:rt.cursor(f.from+d.length)}})}else a?r=n.changeByRange(u=>{let f=s.line(i++);return{changes:{from:u.from,to:u.to,insert:f.text},range:rt.cursor(u.from+f.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ta.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};no.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Ta.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Ta.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};no.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(D6))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=wwe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new mwe(t,e,n,r)),r&&t.observer.ignore(()=>{x6(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function OB(t,e,n,r){if(r==1)return rt.cursor(e,n);if(r==2)return K_e(t.state,e,n);{let i=t.docView.lineAt(e,n),s=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:s.from,o=i?i.posAtEnd:s.to;return o<t.state.doc.length&&o==s.to&&o++,rt.range(a,o)}}const _we=ot.ie&&ot.ie_version<=11;let yB=null,vB=0,bB=0;function nV(t){if(!_we)return t.detail;let e=yB,n=bB;return yB=t,bB=Date.now(),vB=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(vB+1)%3:1}function wwe(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=nV(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,a,o){let u=t.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,h=OB(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!a){let d=OB(t,n.pos,n.assoc,r),m=Math.min(d.from,h.from),O=Math.max(d.to,h.to);h=m<h.from?rt.range(m,O):rt.range(O,m)}return a?i.replaceRange(i.main.extend(h.from,h.to)):o&&r==1&&i.ranges.length>1&&(f=Swe(i,u.pos))?f:o?i.addRange(h):rt.create([h])}}}function Swe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return rt.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}no.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,a=s+i.length;(s>=n.to||a<=n.from)&&(n=rt.range(s,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",iS(t.state,$P,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};no.dragend=t=>(t.inputState.draggedContent=null,!1);function _B(t,e,n,r){if(n=iS(t.state,RP,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,a=r&&s&&Owe(t,e)?{from:s.from,to:s.to}:null,o={from:i,insert:n},u=t.state.changes(a?[a,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}no.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&_B(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),s()},o.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return _B(t,e,r,!0),!0}return!1};no.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=eV?null:e.clipboardData;return n?(tV(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(bwe(t),!1)};function xwe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function kwe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let a=t.doc.lineAt(s);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:iS(t,$P,e.join(t.lineBreak)),ranges:n,linewise:r}}let sA=null;no.copy=no.cut=(t,e)=>{if(!zm(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=kwe(t.state);if(!n&&!i)return!1;sA=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=eV?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(xwe(t,n),!1)};const rV=wf.define();function iV(t,e){let n=[];for(let r of t.facet(L6)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:rV.of(!0)}):null}function sV(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=iV(t.state,e);n?t.dispatch(n):t.update([])}},10)}Ta.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),sV(t)};Ta.blur=t=>{t.observer.clearSelectionRange(),sV(t)};Ta.compositionstart=Ta.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Ta.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ot.chrome&&ot.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Ta.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};no.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(s&&a.length){let o=a[0],u=t.posAtDOM(o.startContainer,o.startOffset),f=t.posAtDOM(o.endContainer,o.endOffset);return QP(t,{from:u,to:f,insert:t.state.toText(s)},null),!0}}let i;if(ot.chrome&&ot.android&&(i=H6.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ot.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ot.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Ta.compositionend(t,e),20),!1};const wB=new Set;function Twe(t){wB.has(t)||(wB.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const SB=["pre-wrap","normal","pre-line","break-spaces"];let Pd=!1;function xB(){Pd=!1}class Ewe{constructor(e){this.lineWrapping=e,this.doc=on.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return SB.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,a){let o=SB.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,u){this.heightSamples={};for(let f=0;f<a.length;f++){let h=a[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return u}}class Awe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Va{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Sa.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof hf?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Va(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Dn=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Dn||(Dn={}));const qb=.001;class Hi{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>qb&&(Pd=!0),this.height=e)}replace(e,n,r){return Hi.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,a=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:f,fromB:h,toB:d}=i[o],m=s.lineAt(u,Dn.ByPosNoHeight,r.setDoc(n),0,0),O=m.to>=f?m:s.lineAt(f,Dn.ByPosNoHeight,r,0,0);for(d+=O.to-f,f=O.to;o>0&&m.from<=i[o-1].toA;)u=i[o-1].fromA,h=i[o-1].fromB,o--,u<m.from&&(m=s.lineAt(u,Dn.ByPosNoHeight,r,0,0));h+=m.from-u,u=m.from;let y=NP.build(r.setDoc(a),e,h,d);s=J_(s,s.replace(u,f,y))}return s.updateHeight(r,0)}static empty(){return new qs(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(s>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,s-=o.size}else break;else if(i<s){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(s+=o.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new Pwe(Hi.of(e.slice(0,n)),a,Hi.of(e.slice(r)))}}function J_(t,e){return t==e?t:(t.constructor!=e.constructor&&(Pd=!0),e)}Hi.prototype.size=1;const Cwe=Fn.replace({});class aV extends Hi{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Va(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Va(i,0,r,this.spaceAbove,Cwe):this.mainBlock(r,i)}lineAt(e,n,r,i,s){let a=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(a):a}forEachLine(e,n,r,i,s,a){e<=s+this.length&&n>=s&&a(this.lineAt(0,Dn.ByPos,r,i,s))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class qs extends aV{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Va(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof qs||i instanceof wi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof wi?i=new qs(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):Hi.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class wi extends Hi{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,a,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);a=u/s,this.length>s+1&&(o=(this.height-u)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:o}}blockAt(e,n,r,i){let{firstLine:s,lastLine:a,perLine:o,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=n.doc.lineAt(f),d=o+h.length*u,m=Math.max(r,e-d/2);return new Va(h.from,h.length,m,d,0)}else{let f=Math.max(0,Math.min(a-s,Math.floor((e-r)/o))),{from:h,length:d}=n.doc.line(s+f);return new Va(h,d,r+o*f,o,0)}}lineAt(e,n,r,i,s){if(n==Dn.ByHeight)return this.blockAt(e,r,i,s);if(n==Dn.ByPosNoHeight){let{from:O,to:y}=r.doc.lineAt(e);return new Va(O,y-O,0,0,0)}let{firstLine:a,perLine:o,perChar:u}=this.heightMetrics(r,s),f=r.doc.lineAt(e),h=o+f.length*u,d=f.number-a,m=i+o*d+u*(f.from-s-d);return new Va(f.from,f.length,Math.max(i,Math.min(m,i+this.height-h)),h,0)}forEachLine(e,n,r,i,s,a){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:o,perLine:u,perChar:f}=this.heightMetrics(r,s);for(let h=e,d=i;h<=n;){let m=r.doc.lineAt(h);if(h==e){let y=m.number-o;d+=u*y+f*(e-s-y)}let O=u+f*m.length;a(new Va(m.from,m.length,d,O,0)),d+=O,h=m.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof wi?r[r.length-1]=new wi(s.length+i):r.push(null,new wi(i-1))}if(e>0){let s=r[0];s instanceof wi?r[0]=new wi(e+s.length):r.unshift(new wi(e-1),null)}return Hi.of(r)}decomposeLeft(e,n){n.push(new wi(e-1),null)}decomposeRight(e,n){n.push(null,new wi(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],o=Math.max(n,i.from),u=-1;for(i.from>n&&a.push(new wi(i.from-n-1).updateHeight(e,n));o<=s&&i.more;){let h=e.doc.lineAt(o).length;a.length&&a.push(null);let d=i.heights[i.index++],m=0;d<0&&(m=-d,d=i.heights[i.index++]),u==-1?u=d:Math.abs(d-u)>=qb&&(u=-2);let O=new qs(h,d,m);O.outdated=!1,a.push(O),o+=h+1}o<=s&&a.push(null,new wi(s-o).updateHeight(e,o));let f=Hi.of(a);return(u<0||Math.abs(f.height-this.height)>=qb||Math.abs(u-this.heightMetrics(e,n).perLine)>=qb)&&(Pd=!0),J_(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Pwe extends Hi{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let a=i+this.left.height,o=s+this.left.length+this.break,u=n==Dn.ByHeight?e<a:e<o,f=u?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,a,o);if(this.break||(u?f.to<o:f.from>o))return f;let h=n==Dn.ByPosNoHeight?Dn.ByPosNoHeight:Dn.ByPos;return u?f.join(this.right.lineAt(o,h,r,a,o)):this.left.lineAt(o,h,r,i,s).join(f)}forEachLine(e,n,r,i,s,a){let o=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,s,a),n>=u&&this.right.forEachLine(e,n,r,o,u,a);else{let f=this.lineAt(u,Dn.ByPos,r,i,s);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,s,a),f.to>=e&&f.from<=n&&a(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,o,u,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of r)s.push(o);if(e>0&&kB(s,a-1),n<this.length){let o=s.length;this.decomposeRight(n,s),kB(s,o)}return Hi.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Hi.of(this.break?[e,null,n]:[e,n]):(this.left=J_(this.left,e),this.right=J_(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:a}=this,o=n+s.length+this.break,u=null;return i&&i.from<=n+s.length&&i.more?u=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=o+a.length&&i.more?u=a=a.updateHeight(e,o,r,i):a.updateHeight(e,o,r),u?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function kB(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof wi&&(r=t[e+1])instanceof wi&&t.splice(e-1,3,new wi(n.length+1+r.length))}const Rwe=5;class NP{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof qs?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new qs(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new aV(a,i,r)):(a||s||i>=Rwe)&&this.addLineDeco(i,s,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new qs(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new wi(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof qs)return e;let n=new qs(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof qs)&&!this.isCovered?this.nodes.push(new qs(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof qs&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new NP(r,e);return gn.spans(n,r,i,s,0),s.finish(r)}}function $we(t,e,n){let r=new Mwe;return gn.compare(t,e,n,r,0),r.changes}class Mwe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&ld(e,n,this.changes,5)}}function Iwe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let m=h.getBoundingClientRect();s=Math.max(s,m.left),a=Math.min(a,m.right),o=Math.max(o,m.top),u=Math.min(f==t.parentNode?i.innerHeight:u,m.bottom)}f=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-n.left,right:Math.max(s,a)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function Dwe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Qwe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Qk{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Fn.replace({widget:new Nwe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Nwe extends ep{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class TB{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=EB,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Er.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(MP).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Ewe(n),this.stateDeco=AB(e),this.heightMap=Hi.empty().applyChanges(this.stateDeco,on.empty,this.heightOracle.setDoc(e.doc),[new ya(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fn.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new ab(s,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?EB:new LP(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(xm(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=AB(this.state);let i=e.changedRanges,s=ya.extendWithRanges(i,$we(r,this.stateDeco,e?e.changes:si.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);xB(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||Pd)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(A_e)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Er.RTL:Er.LTR;let a=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent,o=n.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,h=0;if(o.width&&o.height){let{scaleX:C,scaleY:I}=S6(n,o);(C>.005&&Math.abs(this.scaleX-C)>.005||I>.005&&Math.abs(this.scaleY-I)>.005)&&(this.scaleX=C,this.scaleY=I,f|=16,a=u=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,m=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=m)&&(this.paddingTop=d,this.paddingBottom=m,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=k6(e.scrollDOM);let y=(this.printing?Qwe:Iwe)(n,this.paddingTop),v=y.top-this.pixelViewport.top,w=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(u=!0)),!this.inView&&!this.scrollTarget&&!Dwe(e.dom))return 0;let T=o.width;if((this.contentDOMWidth!=T||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let C=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(C)&&(a=!0),a||i.lineWrapping&&Math.abs(T-this.contentDOMWidth)>i.charWidth){let{lineHeight:I,charWidth:Q,textHeight:N}=e.docView.measureTextSize();a=I>0&&i.refresh(s,I,Q,N,Math.max(5,T/Q),C),a&&(e.docView.minWidth=0,f|=16)}v>0&&w>0?h=Math.max(v,w):v<0&&w<0&&(h=Math.min(v,w)),xB();for(let I of this.viewports){let Q=I.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(I);this.heightMap=(a?Hi.empty().applyChanges(this.stateDeco,on.empty,this.heightOracle,[new ya(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new Awe(I.from,Q))}Pd&&(f|=2)}let A=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,u=new ab(i.lineAt(a-r*1e3,Dn.ByHeight,s,0,0).from,i.lineAt(o+(1-r)*1e3,Dn.ByHeight,s,0,0).to);if(n){let{head:f}=n.range;if(f<u.from||f>u.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(f,Dn.ByPos,s,0,0),m;n.y=="center"?m=(d.top+d.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&f<u.from?m=d.top:m=d.bottom-h,u=new ab(i.lineAt(m-1e3/2,Dn.ByHeight,s,0,0).from,i.lineAt(m+h+1e3/2,Dn.ByHeight,s,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new ab(this.heightMap.lineAt(r,Dn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Dn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Dn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Dn.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=o+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Qk(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=Er.LTR&&!r)return[];let o=[],u=(h,d,m,O)=>{if(d-h<s)return;let y=this.state.selection.main,v=[y.from];y.empty||v.push(y.to);for(let k of v)if(k>h&&k<d){u(h,k-10,m,O),u(k+10,d,m,O);return}let w=jwe(e,k=>k.from>=m.from&&k.to<=m.to&&Math.abs(k.from-h)<s&&Math.abs(k.to-d)<s&&!v.some(T=>k.from<T&&k.to>T));if(!w){if(d<m.to&&n&&r&&n.visibleRanges.some(A=>A.from<=d&&A.to>=d)){let A=n.moveToLineBoundary(rt.cursor(d),!1,!0).head;A>h&&(d=A)}let k=this.gapSize(m,h,d,O),T=r||k<2e6?k:2e6;w=new Qk(h,d,k,T)}o.push(w)},f=h=>{if(h.length<a||h.type!=Sa.Text)return;let d=Lwe(h.from,h.to,this.stateDeco);if(d.total<a)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,O,y;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,k;if(m!=null){let T=lb(d,m),A=((this.visibleBottom-this.visibleTop)/2+v)/h.height;w=T-A,k=T+A}else w=(this.visibleTop-h.top-v)/h.height,k=(this.visibleBottom-h.top+v)/h.height;O=ob(d,w),y=ob(d,k)}else{let v=d.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,k=0;if(v>2e6)for(let Q of e)Q.from>=h.from&&Q.from<h.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=Q.size-Q.displaySize);let T=this.pixelViewport.left+k,A=this.pixelViewport.right+k,C,I;if(m!=null){let Q=lb(d,m),N=((A-T)/2+w)/v;C=Q-N,I=Q+N}else C=(T-w)/v,I=(A+w)/v;O=ob(d,C),y=ob(d,I)}O>h.from&&u(h.from,O,h,d),y<h.to&&u(y,h.to,h,d)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return o}gapSize(e,n,r,i){let s=lb(i,r)-lb(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Qk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Fn.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];gn.spans(n,this.viewport.from,this.viewport.to,{span(s,a){r.push({from:s,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let a=this.visibleRanges[s],o=r[s];(a.from!=o.from||a.to!=o.to)&&(i|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||xm(this.heightMap.lineAt(e,Dn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||xm(this.heightMap.lineAt(this.scaler.fromDOM(e),Dn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return xm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ab{constructor(e,n){this.from=e,this.to=n}}function Lwe(t,e,n){let r=[],i=t,s=0;return gn.spans(n,t,e,{span(){},point(a,o){a>i&&(r.push({from:i,to:a}),s+=a-i),i=o}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function ob({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:a}=e[i],o=a-s;if(r<=o)return s+r;r-=o}}function lb(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function jwe(t,e){for(let n of t)if(e(n))return n}const EB={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function AB(t){let e=t.facet(tS).filter(r=>typeof r!="function"),n=t.facet(IP).filter(r=>typeof r!="function");return n.length&&e.push(gn.join(n)),e}class LP{constructor(e,n,r){let i=0,s=0,a=0;this.viewports=r.map(({from:o,to:u})=>{let f=n.lineAt(o,Dn.ByPos,e,0,0).top,h=n.lineAt(u,Dn.ByPos,e,0,0).bottom;return i+=h-f,{from:o,to:u,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof LP?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function xm(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Va(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>xm(i,e)):t._content)}const ub=At.define({combine:t=>t.join(" ")}),aA=At.define({combine:t=>t.indexOf(!0)>-1}),oA=Ed.newName(),oV=Ed.newName(),lV=Ed.newName(),uV={"&light":"."+oV,"&dark":"."+lV};function lA(t,e,n){return new Ed(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Bwe=lA("."+oA,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},uV),zwe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Nk=ot.ie&&ot.ie_version<=11;class Zwe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new g_e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ot.ie&&ot.ie_version<=11||ot.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ot.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ot.chrome&&ot.chrome_version<126)&&(this.editContext=new qwe(e),e.state.facet(Ol)&&(e.contentDOM.editContext=this.editContext.editContext)),Nk&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ol)?r.root.activeElement!=this.dom:!zm(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ot.ie&&ot.ie_version<=11||ot.android&&ot.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Um(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Rg(e.root);if(!n)return!1;let r=ot.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Uwe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=zm(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&y_e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,zwe),Nk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Nk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&ud(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&zm(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new owe(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=G6(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!H_(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=CB(n,e.previousSibling||e.target.previousSibling,-1),i=CB(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ol)!=e.state.facet(Ol)&&(e.view.contentDOM.editContext=e.state.facet(Ol)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function CB(t,e,n){for(;e;){let r=Zr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function PB(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor,1);return Um(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Uwe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return PB(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?PB(t,n):null}class qwe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:a}=i,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let f=u-o>r.text.length;o==this.from&&s<this.from?o=s:u==this.to&&s>this.to&&(u=s);let h=K6(e.state.sliceDoc(o,u),r.text,(f?i.from:i.to)-o,f?"end":null);if(!h){let m=rt.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));H_(m,i)||e.dispatch({selection:m,userEvent:"select"});return}let d={from:h.from+o,to:h.toA+o,insert:on.of(r.text.slice(h.from,h.toB).split(`
`))};if((ot.mac||ot.android)&&d.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:o,to:u,insert:on.of([r.text.replace("."," ")])}),this.pendingContextChange=d,!e.state.readOnly){let m=this.to-this.from+(d.to-d.from+d.insert.length);QP(e,d,rt.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),d.from<d.to&&!d.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let a=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);a<o;a++){let u=e.coordsForChar(a);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let a=s.underlineStyle,o=s.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(o)){let u=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(u<f){let h=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(Fn.mark({attributes:{style:h}}).range(u,f))}}}e.dispatch({effects:z6.of(Fn.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Rg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,a,o,u,f)=>{if(r)return;let h=f.length-(a-s);if(i&&a>=i.to)if(i.from==s&&i.to==a&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(s+=n,a+=n,a<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),f.toString()),this.to+=h}n+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class $t{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||O_e(e.parent)||document,this.viewState=new TB(e.state||cn.create(e)),e.scrollTo&&e.scrollTo.is(rb)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Uh).map(i=>new Rk(i));for(let i of this.plugins)i.update(this);this.observer=new Zwe(this),this.inputState=new fwe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new dB(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof xi?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let m of e){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,u=null;e.some(m=>m.annotation(rV))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=iV(s,a),u||(o=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(cn.phrases)!=this.state.facet(cn.phrases))return this.setState(s);i=W_.create(this,s,e),i.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(d&&(d=d.map(m.changes)),m.scrollIntoView){let{main:O}=m.state.selection;d=new cd(O.empty?O:rt.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of m.effects)O.is(rb)&&(d=O.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=ew.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(wm)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(ub)!=i.state.facet(ub)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let m of this.state.facet(nA))try{m(i)}catch(O){Ws(this.state,O,"update listener")}(u||h)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),h&&!G6(this,h)&&f.force&&ud(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new TB(e),this.plugins=e.facet(Uh).map(r=>new Rk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new dB(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Uh),r=e.state.facet(Uh);if(n!=r){let i=[];for(let s of r){let a=n.indexOf(s);if(a<0)i.push(new Rk(s));else{let o=this.plugins[a];o.mustUpdate=e,i.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Ws(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(k6(r))s=-1,a=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(i);s=O.from,a=O.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(O=>{try{return O.read(this)}catch(y){return Ws(this.state,y),RB}}),d=W_.create(this,this.state,[]),m=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d),m&&this.docViewUpdate());for(let O=0;O<f.length;O++)if(h[O]!=RB)try{let y=f[O];y.write&&y.write(h[O],this)}catch(y){Ws(this.state,y)}if(m&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let y=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(y>1||y<-1){i=i+y,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(nA))o(n)}get themeClasses(){return oA+" "+(this.state.facet(aA)?lV:oV)+" "+this.state.facet(ub)}updateAttrs(){let e=$B(this,Z6,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ol)?"true":"false",class:"cm-content",style:`${ot.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),$B(this,MP,n);let r=this.observer.ignore(()=>{let i=oB(this.contentDOM,this.contentAttrs,n),s=oB(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is($t.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(wm);let e=this.state.facet($t.cspNonce);Ed.mount(this.root,this.styleModules.concat(Bwe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Dk(this,e,pB(this,e,n,r))}moveByGroup(e,n){return Dk(this,e,pB(this,e,n,r=>twe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return rt.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return ewe(this,e,n,r)}moveVertically(e,n,r){return Dk(this,e,nwe(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=iA(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),iA(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),a=s[Do.find(s,e-i.from,-1,n)];return $g(r,a.dir==Er.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(j6)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Vwe)return R6(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||P6(s.isolates,r=cB(this,e))))return s.order;r||(r=cB(this,e));let i=k_e(e.text,n,r);return this.bidiCache.push(new ew(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ot.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{x6(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return rb.of(new cd(typeof e=="number"?rt.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return rb.of(new cd(rt.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ll.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ll.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ed.newName(),i=[ub.of(r),wm.of(lA(`.${r}`,e))];return n&&n.dark&&i.push(aA.of(!0)),i}static baseTheme(e){return Jd.lowest(wm.of(lA("."+oA,e,uV)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Zr.get(r)||Zr.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}$t.styleModule=wm;$t.inputHandler=N6;$t.clipboardInputFilter=RP;$t.clipboardOutputFilter=$P;$t.scrollHandler=B6;$t.focusChangeEffect=L6;$t.perLineTextDirection=j6;$t.exceptionSink=Q6;$t.updateListener=nA;$t.editable=Ol;$t.mouseSelectionStyle=D6;$t.dragMovesSelection=I6;$t.clickAddsSelectionRange=M6;$t.decorations=tS;$t.blockWrappers=U6;$t.outerDecorations=IP;$t.atomicRanges=wO;$t.bidiIsolatedRanges=q6;$t.scrollMargins=V6;$t.darkTheme=aA;$t.cspNonce=At.define({combine:t=>t.length?t[0]:""});$t.contentAttributes=MP;$t.editorAttributes=Z6;$t.lineWrapping=$t.contentAttributes.of({class:"cm-lineWrapping"});$t.announce=Nn.define();const Vwe=4096,RB={};class ew{constructor(e,n,r,i,s,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=a}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Er.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new ew(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function $B(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(t):s;a&&AP(a,n)}return n}const Xwe=ot.mac?"mac":ot.windows?"win":ot.linux?"linux":"key";function Fwe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,a,o;for(let u=0;u<n.length-1;++u){const f=n[u];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function cb(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Ywe=Jd.default($t.domEventHandlers({keydown(t,e){return Hwe(Wwe(e.state),t,e,"editor")}})),SO=At.define({enables:Ywe}),MB=new WeakMap;function Wwe(t){let e=t.facet(SO),n=MB.get(e);return n||MB.set(e,n=Kwe(e.reduce((r,i)=>r.concat(i),[]))),n}let Mu=null;const Gwe=4e3;function Kwe(t,e=Xwe){let n=Object.create(null),r=Object.create(null),i=(a,o)=>{let u=r[a];if(u==null)r[a]=o;else if(u!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,u,f,h)=>{var d,m;let O=n[a]||(n[a]=Object.create(null)),y=o.split(/ (?!$)/).map(k=>Fwe(k,e));for(let k=1;k<y.length;k++){let T=y.slice(0,k).join(" ");i(T,!0),O[T]||(O[T]={preventDefault:!0,stopPropagation:!1,run:[A=>{let C=Mu={view:A,prefix:T,scope:a};return setTimeout(()=>{Mu==C&&(Mu=null)},Gwe),!0}]})}let v=y.join(" ");i(v,!1);let w=O[v]||(O[v]={preventDefault:!1,stopPropagation:!1,run:((m=(d=O._any)===null||d===void 0?void 0:d.run)===null||m===void 0?void 0:m.slice())||[]});u&&w.run.push(u),f&&(w.preventDefault=!0),h&&(w.stopPropagation=!0)};for(let a of t){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let f of o){let h=n[f]||(n[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=a;for(let m in h)h[m].run.push(O=>d(O,uA))}let u=a[e]||a.key;if(u)for(let f of o)s(f,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(f,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return n}let uA=null;function Hwe(t,e,n,r){uA=e;let i=l_e(e),s=Lc(i,0),a=Ih(s)==i.length&&i!=" ",o="",u=!1,f=!1,h=!1;Mu&&Mu.view==n&&Mu.scope==r&&(o=Mu.prefix+" ",J6.indexOf(e.keyCode)<0&&(f=!0,Mu=null));let d=new Set,m=w=>{if(w){for(let k of w.run)if(!d.has(k)&&(d.add(k),k(n)))return w.stopPropagation&&(h=!0),!0;w.preventDefault&&(w.stopPropagation&&(h=!0),f=!0)}return!1},O=t[r],y,v;return O&&(m(O[o+cb(i,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ot.windows&&e.ctrlKey&&e.altKey)&&!(ot.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(y=Ju[e.keyCode])&&y!=i?(m(O[o+cb(y,e,!0)])||e.shiftKey&&(v=Cg[e.keyCode])!=i&&v!=y&&m(O[o+cb(v,e,!1)]))&&(u=!0):a&&e.shiftKey&&m(O[o+cb(i,e,!0)])&&(u=!0),!u&&m(O._any)&&(u=!0)),f&&(u=!0),u&&h&&e.stopPropagation(),uA=null,u}class Jwe extends ep{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Zm(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=$g(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function eSe(t){let e=Ll.fromClass(class{constructor(n){this.view=n,this.placeholder=t?Fn.set([Fn.widget({widget:new Jwe(t),side:1}).range(0)]):Fn.none}get decorations(){return this.view.state.doc.length?Fn.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,$t.contentAttributes.of({"aria-placeholder":t})]:e}const fb="-10000px";class tSe{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=r(a,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],o=n?[]:null;for(let u=0;u<s.length;u++){let f=s[u],h=-1;if(f){for(let d=0;d<this.tooltips.length;d++){let m=this.tooltips[d];m&&m.create==f.create&&(h=d)}if(h<0)a[u]=this.createTooltipView(f,u?a[u-1]:null),o&&(o[u]=!!f.above);else{let d=a[u]=this.tooltipViews[h];o&&(o[u]=n[h]),d.update&&d.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,f)=>n[f]=u),n.length=o.length),this.input=i,this.tooltips=s,this.tooltipViews=a,!0}}function nSe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Lk=At.define({combine:t=>{var e,n,r;return{position:ot.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||nSe}}}),IB=new WeakMap,cV=Ll.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Lk);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tSe(t,fV,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Lk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=fb,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ot.safari){let a=s.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=DP(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Lk).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],f=this.manager.tooltipViews[o],{dom:h}=f,d=t.pos[o],m=t.size[o];if(!d||u.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){h.style.top=fb;continue}let O=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,y=O?7:0,v=m.right-m.left,w=(e=IB.get(f))!==null&&e!==void 0?e:m.bottom-m.top,k=f.offset||iSe,T=this.view.textDirection==Er.LTR,A=m.width>r.right-r.left?T?r.left:r.right-m.width:T?Math.max(r.left,Math.min(d.left-(O?14:0)+k.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(O?14:0)-k.x),r.right-v),C=this.above[o];!u.strictSide&&(C?d.top-w-y-k.y<r.top:d.bottom+w+y+k.y>r.bottom)&&C==r.bottom-d.bottom>d.top-r.top&&(C=this.above[o]=!C);let I=(C?d.top-r.top:r.bottom-d.bottom)-y;if(I<w&&f.resize!==!1){if(I<this.view.defaultLineHeight){h.style.top=fb;continue}IB.set(f,w),h.style.height=(w=I)/s+"px"}else h.style.height&&(h.style.height="");let Q=C?d.top-w-y-k.y:d.bottom+y+k.y,N=A+v;if(f.overlap!==!0)for(let j of a)j.left<N&&j.right>A&&j.top<Q+w&&j.bottom>Q&&(Q=C?j.top-w-2-y:j.bottom+y+2);if(this.position=="absolute"?(h.style.top=(Q-t.parent.top)/s+"px",DB(h,(A-t.parent.left)/i)):(h.style.top=Q/s+"px",DB(h,A/i)),O){let j=d.left+(T?k.x:-k.x)-(A+14-7);O.style.left=j/i+"px"}f.overlap!==!0&&a.push({left:A,top:Q,right:N,bottom:Q+w}),h.classList.toggle("cm-tooltip-above",C),h.classList.toggle("cm-tooltip-below",!C),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=fb}},{eventObservers:{scroll(){this.maybeMeasure()}}});function DB(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const rSe=$t.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),iSe={x:0,y:0},fV=At.define({enables:[cV,rSe]});function hV(t,e){let n=t.plugin(cV);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}class Rd extends Hu{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Rd.prototype.elementClass="";Rd.prototype.toDOM=void 0;Rd.prototype.mapMode=Wi.TrackBefore;Rd.prototype.startSide=Rd.prototype.endSide=-1;Rd.prototype.point=!0;const dV=1024;let sSe=0;class va{constructor(e,n){this.from=e,this.to=n}}class qt{constructor(e={}){this.id=sSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Jr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}qt.closedBy=new qt({deserialize:t=>t.split(" ")});qt.openedBy=new qt({deserialize:t=>t.split(" ")});qt.group=new qt({deserialize:t=>t.split(" ")});qt.isolate=new qt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});qt.contextHash=new qt({perNode:!0});qt.lookAhead=new qt({perNode:!0});qt.mounted=new qt({perNode:!0});class fd{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[qt.mounted.id]}}const aSe=Object.create(null);class Jr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):aSe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Jr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(qt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(qt.group),s=-1;s<(i?i.length:0);s++){let a=n[s<0?r.name:i[s]];if(a)return a}}}}Jr.none=new Jr("",Object.create(null),0,8);class xO{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);if(a){i||(i=Object.assign({},r.props));let o=a[1],u=a[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}n.push(i?new Jr(r.name,i,r.id,r.flags):r)}return new xO(n)}}const hb=new WeakMap,QB=new WeakMap;var fn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(fn||(fn={}));class ln{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=fd.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new tw(this.topNode,e)}cursorAt(e,n=0,r=0){let i=hb.get(this)||this.topNode,s=new tw(i);return s.moveTo(e,n),hb.set(this,s._tree),s}get topNode(){return new Mi(this,0,0,null)}resolve(e,n=0){let r=Ig(hb.get(this)||this.topNode,e,n,!1);return hb.set(this,r),r}resolveInner(e,n=0){let r=Ig(QB.get(this)||this.topNode,e,n,!0);return QB.set(this,r),r}resolveStack(e,n=0){return uSe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,a=e.mode||0,o=(a&fn.IncludeAnonymous)>0;for(let u=this.cursor(a|fn.IncludeAnonymous);;){let f=!1;if(u.from<=s&&u.to>=i&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:zP(Jr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ln(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ln(Jr.none,n,r,i)))}static build(e){return cSe(e)}}ln.empty=new ln(Jr.none,[],[],0);class jP{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jP(this.buffer,this.index)}}class tc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Jr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,n,r,i,s){let{buffer:a}=this,o=-1;for(let u=e;u!=n&&!(pV(s,i,a[u+1],a[u+2])&&(o=u,r>0));u=a[u+3]);return o}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),a=0;for(let o=e,u=0;o<n;){s[u++]=i[o++],s[u++]=i[o++]-r;let f=s[u++]=i[o++]-r;s[u++]=i[o++]-e,a=Math.max(a,f)}return new tc(s,a,this.set)}}function pV(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ig(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof Mi&&t.index<0?null:t.parent;if(!a)return t;t=a}let s=r?0:fn.IgnoreOverlays;if(r)for(let a=t,o=a.parent;o;a=o,o=a.parent)a instanceof Mi&&a.index<0&&((i=o.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=o);for(;;){let a=t.enter(e,n,s);if(!a)return t;t=a}}class mV{cursor(e=0){return new tw(this,e)}getChild(e,n=null,r=null){let i=NB(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return NB(this,e,n,r)}resolve(e,n=0){return Ig(this,e,n,!1)}resolveInner(e,n=0){return Ig(this,e,n,!0)}matchContext(e){return cA(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Mi extends mV{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let a=this;;){for(let{children:o,positions:u}=a._tree,f=n>0?o.length:-1;e!=f;e+=n){let h=o[e],d=u[e]+a.from,m;if(!(!(s&fn.EnterBracketed&&h instanceof ln&&(m=fd.get(h))&&!m.overlay&&m.bracketed&&r>=d&&r<=d+h.length)&&!pV(i,r,d,d+h.length))){if(h instanceof tc){if(s&fn.ExcludeBuffers)continue;let O=h.findChild(0,h.buffer.length,n,r-d,i);if(O>-1)return new Qo(new oSe(a,h,e,d),null,O)}else if(s&fn.IncludeAnonymous||!h.type.isAnonymous||BP(h)){let O;if(!(s&fn.IgnoreMounts)&&(O=fd.get(h))&&!O.overlay)return new Mi(O.tree,d,e,a);let y=new Mi(h,d,e,a);return s&fn.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(n<0?h.children.length-1:0,n,r,i,s)}}}if(s&fn.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&fn.IgnoreOverlays)&&(i=fd.get(this._tree))&&i.overlay){let s=e-this.from,a=r&fn.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((n>0||a?o<=s:o<s)&&(n<0||a?u>=s:u>s))return new Mi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function NB(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function cA(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class oSe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Qo extends mV{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Qo(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&fn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Qo(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Qo(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Qo(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];e.push(r.slice(i,s,a)),n.push(0)}return new ln(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function gV(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let a=t[s];(a.from>n.from||a.to<n.to)&&(n=a,e=s)}let r=n instanceof Mi&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new lSe(i,n)}class lSe{constructor(e,n){this.heads=e,this.node=n}get next(){return gV(this.heads)}}function uSe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Mi?r:r.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(i||(i=[r])).push(a.resolve(e,n)),s=a}else{let a=fd.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new Mi(a.tree,a.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Ig(o,e,n,!1))}}return i?gV(i):r}class tw{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~fn.EnterBracketed,e instanceof Mi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Mi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&fn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&fn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&fn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let o=r._tree.children[s];if(this.mode&fn.IncludeAnonymous||o instanceof tc||!o.type.isAnonymous||BP(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Qo(this.buffer,n,this.stack[i]);return this.bufferNode=new Qo(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return cA(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return cA(this._tree,e,i);let a=r[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function BP(t){return t.children.some(e=>e instanceof tc||!e.type.isAnonymous||BP(e))}function cSe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=dV,reused:s=[],minRepeatType:a=r.types.length}=t,o=Array.isArray(n)?new jP(n,n.length):n,u=r.types,f=0,h=0;function d(I,Q,N,j,q,oe){let{id:we,start:K,end:Ae,size:Ee}=o,Be=h,G=f;if(Ee<0)if(o.next(),Ee==-1){let z=s[we];N.push(z),j.push(K-I);return}else if(Ee==-3){f=we;return}else if(Ee==-4){h=we;return}else throw new RangeError(`Unrecognized record size: ${Ee}`);let ye=u[we],Se,Te,he=K-I;if(Ae-K<=i&&(Te=w(o.pos-Q,q))){let z=new Uint16Array(Te.size-Te.skip),ne=o.pos-Te.size,ge=z.length;for(;o.pos>ne;)ge=k(Te.start,z,ge);Se=new tc(z,Ae-Te.start,r),he=Te.start-I}else{let z=o.pos-Ee;o.next();let ne=[],ge=[],Pe=we>=a?we:-1,De=0,tt=Ae;for(;o.pos>z;)Pe>=0&&o.id==Pe&&o.size>=0?(o.end<=tt-i&&(y(ne,ge,K,De,o.end,tt,Pe,Be,G),De=ne.length,tt=o.end),o.next()):oe>2500?m(K,z,ne,ge):d(K,z,ne,ge,Pe,oe+1);if(Pe>=0&&De>0&&De<ne.length&&y(ne,ge,K,De,K,tt,Pe,Be,G),ne.reverse(),ge.reverse(),Pe>-1&&De>0){let it=O(ye,G);Se=zP(ye,ne,ge,0,ne.length,0,Ae-K,it,it)}else Se=v(ye,ne,ge,Ae-K,Be-Ae,G)}N.push(Se),j.push(he)}function m(I,Q,N,j){let q=[],oe=0,we=-1;for(;o.pos>Q;){let{id:K,start:Ae,end:Ee,size:Be}=o;if(Be>4)o.next();else{if(we>-1&&Ae<we)break;we<0&&(we=Ee-i),q.push(K,Ae,Ee),oe++,o.next()}}if(oe){let K=new Uint16Array(oe*4),Ae=q[q.length-2];for(let Ee=q.length-3,Be=0;Ee>=0;Ee-=3)K[Be++]=q[Ee],K[Be++]=q[Ee+1]-Ae,K[Be++]=q[Ee+2]-Ae,K[Be++]=Be;N.push(new tc(K,q[2]-Ae,r)),j.push(Ae-I)}}function O(I,Q){return(N,j,q)=>{let oe=0,we=N.length-1,K,Ae;if(we>=0&&(K=N[we])instanceof ln){if(!we&&K.type==I&&K.length==q)return K;(Ae=K.prop(qt.lookAhead))&&(oe=j[we]+K.length+Ae)}return v(I,N,j,q,oe,Q)}}function y(I,Q,N,j,q,oe,we,K,Ae){let Ee=[],Be=[];for(;I.length>j;)Ee.push(I.pop()),Be.push(Q.pop()+N-q);I.push(v(r.types[we],Ee,Be,oe-q,K-oe,Ae)),Q.push(q-N)}function v(I,Q,N,j,q,oe,we){if(oe){let K=[qt.contextHash,oe];we=we?[K].concat(we):[K]}if(q>25){let K=[qt.lookAhead,q];we=we?[K].concat(we):[K]}return new ln(I,Q,N,j,we)}function w(I,Q){let N=o.fork(),j=0,q=0,oe=0,we=N.end-i,K={size:0,start:0,skip:0};e:for(let Ae=N.pos-I;N.pos>Ae;){let Ee=N.size;if(N.id==Q&&Ee>=0){K.size=j,K.start=q,K.skip=oe,oe+=4,j+=4,N.next();continue}let Be=N.pos-Ee;if(Ee<0||Be<Ae||N.start<we)break;let G=N.id>=a?4:0,ye=N.start;for(N.next();N.pos>Be;){if(N.size<0)if(N.size==-3||N.size==-4)G+=4;else break e;else N.id>=a&&(G+=4);N.next()}q=ye,j+=Ee,oe+=G}return(Q<0||j==I)&&(K.size=j,K.start=q,K.skip=oe),K.size>4?K:void 0}function k(I,Q,N){let{id:j,start:q,end:oe,size:we}=o;if(o.next(),we>=0&&j<a){let K=N;if(we>4){let Ae=o.pos-(we-4);for(;o.pos>Ae;)N=k(I,Q,N)}Q[--N]=K,Q[--N]=oe-I,Q[--N]=q-I,Q[--N]=j}else we==-3?f=j:we==-4&&(h=j);return N}let T=[],A=[];for(;o.pos>0;)d(t.start||0,t.bufferStart||0,T,A,-1,0);let C=(e=t.length)!==null&&e!==void 0?e:T.length?A[0]+T[0].length:0;return new ln(u[t.topID],T.reverse(),A.reverse(),C)}const LB=new WeakMap;function Vb(t,e){if(!t.isAnonymous||e instanceof tc||e.type!=t)return 1;let n=LB.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ln)){n=1;break}n+=Vb(t,r)}LB.set(e,n)}return n}function zP(t,e,n,r,i,s,a,o,u){let f=0;for(let y=r;y<i;y++)f+=Vb(t,e[y]);let h=Math.ceil(f*1.5/8),d=[],m=[];function O(y,v,w,k,T){for(let A=w;A<k;){let C=A,I=v[A],Q=Vb(t,y[A]);for(A++;A<k;A++){let N=Vb(t,y[A]);if(Q+N>=h)break;Q+=N}if(A==C+1){if(Q>h){let N=y[C];O(N.children,N.positions,0,N.children.length,v[C]+T);continue}d.push(y[C])}else{let N=v[A-1]+y[A-1].length-I;d.push(zP(t,y,v,C,A,I,N,null,u))}m.push(I+T-s)}}return O(e,n,r,i,0),(o||u)(d,m,a)}class OV{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Qo?this.setBuffer(e.context.buffer,e.index,n):e instanceof Mi&&this.map.set(e.tree,n)}get(e){return e instanceof Qo?this.getBuffer(e.context.buffer,e.index):e instanceof Mi?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class kl{constructor(e,n,r,i,s=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new kl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let o=0,u=0,f=0;;o++){let h=o<n.length?n[o]:null,d=h?h.fromA:1e9;if(d-u>=r)for(;a&&a.from<d;){let m=a;if(u>=m.from||d<=m.to||f){let O=Math.max(m.from,u)-f,y=Math.min(m.to,d)-f;m=O>=y?null:new kl(O,y,m.tree,m.offset+f,o>0,!!h)}if(m&&i.push(m),a.to>d)break;a=s<e.length?e[s++]:null}if(!h)break;u=h.toA,f=h.toA-h.toB}return i}}let ZP=class{startParse(e,n,r){return typeof e=="string"&&(e=new fSe(e)),r=r?r.length?r.map(i=>new va(i.from,i.to)):[new va(0,0)]:[new va(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class fSe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function yV(t){return(e,n,r,i)=>new dSe(e,t,n,r,i)}class jB{constructor(e,n,r,i,s,a){this.parser=e,this.parse=n,this.overlay=r,this.bracketed=i,this.target=s,this.from=a}}function BB(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class hSe{constructor(e,n,r,i,s,a,o,u){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.bracketed=a,this.target=o,this.prev=u,this.depth=0,this.ranges=[]}}const fA=new qt({perNode:!0});class dSe{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new ln(r.type,r.children,r.positions,r.length,r.propValues.concat([[fA,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[qt.mounted.id]=new fd(n,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new gSe(this.fragments),n=null,r=null,i=new tw(new Mi(this.baseTree,this.ranges[0].from,0,null),fn.IncludeAnonymous|fn.IgnoreMounts);e:for(let s,a;;){let o=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)o=!1;else if(e.hasNode(i)){if(n){let f=n.mounts.find(h=>h.frag.from<=i.from&&h.frag.to>=i.to&&h.mount.overlay);if(f)for(let h of f.mount.overlay){let d=h.from+f.pos,m=h.to+f.pos;d>=i.from&&m<=i.to&&!n.ranges.some(O=>O.from<m&&O.to>d)&&n.ranges.push({from:d,to:m})}}o=!1}else if(r&&(a=pSe(r.ranges,i.from,i.to)))o=a!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(mSe(i),n&&n.depth++,r&&r.depth++);let f=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new hSe(s.parser,s.overlay,f,this.inner.length,i.from,!!s.bracketed,i.tree,n);else{let h=UB(this.ranges,s.overlay||(i.from<i.to?[new va(i.from,i.to)]:[]));h.length&&BB(h),(h.length||!s.overlay)&&this.inner.push(new jB(s.parser,h.length?s.parser.startParse(this.input,qB(f,h),h):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new va(d.from-i.from,d.to-i.from)):null,!!s.bracketed,i.tree,h.length?h[0].from:i.from)),s.overlay?h.length&&(r={ranges:h,depth:0,prev:r}):o=!1}}else if(n&&(u=n.predicate(i))&&(u===!0&&(u=new va(i.from,i.to)),u.from<u.to)){let f=n.ranges.length-1;f>=0&&n.ranges[f].to==u.from?n.ranges[f]={from:n.ranges[f].from,to:u.to}:n.ranges.push(u)}if(o&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let f=UB(this.ranges,n.ranges);f.length&&(BB(f),this.inner.splice(n.index,0,new jB(n.parser,n.parser.startParse(this.input,qB(n.mounts,f),f),n.ranges.map(h=>new va(h.from-n.start,h.to-n.start)),n.bracketed,n.target,f[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function pSe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function zB(t,e,n,r,i,s){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),i.push(a-s)}}function mSe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),a=i.children[s],o=a.buffer,u=[s];function f(h,d,m,O,y,v){let w=n[v],k=[],T=[];zB(a,h,w,k,T,O);let A=o[w+1],C=o[w+2];u.push(k.length);let I=v?f(w+4,o[w+3],a.set.types[o[w]],A,C-A,v-1):e.toTree();return k.push(I),T.push(A-O),zB(a,o[w+3],d,k,T,O),new ln(m,k,T,y)}i.children[s]=f(0,o.length,Jr.none,0,a.length,n.length-1);for(let h of u){let d=t.tree.children[h],m=t.tree.positions[h];t.yield(new Mi(d,m+t.from,h,t._tree))}}class ZB{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(fn.IncludeAnonymous|fn.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,fn.IgnoreOverlays|fn.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof ln)n=n.children[0];else break}return!1}}let gSe=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(fA))!==null&&n!==void 0?n:r.to,this.inner=new ZB(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(fA))!==null&&e!==void 0?e:n.to,this.inner=new ZB(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let a=(r=s.tree)===null||r===void 0?void 0:r.prop(qt.mounted);if(a&&a.parser==n)for(let o=this.fragI;o<this.fragments.length;o++){let u=this.fragments[o];if(u.from>=s.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:s.from-u.offset,mount:a})}}}return i}};function UB(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let a=t[i-1].to,o=t[i].from;for(;s<r.length;s++){let u=r[s];if(u.from>=o)break;u.to<=a||(n||(r=n=e.slice()),u.from<a?(n[s]=new va(u.from,a),u.to>o&&n.splice(s+1,0,new va(o,u.to))):u.to>o?n[s--]=new va(o,u.to):n.splice(s--,1))}}return r}function OSe(t,e,n,r){let i=0,s=0,a=!1,o=!1,u=-1e9,f=[];for(;;){let h=i==t.length?1e9:a?t[i].to:t[i].from,d=s==e.length?1e9:o?e[s].to:e[s].from;if(a!=o){let m=Math.max(u,n),O=Math.min(h,d,r);m<O&&f.push(new va(m,O))}if(u=Math.min(h,d),u==1e9)break;h==u&&(a?(a=!1,i++):a=!0),d==u&&(o?(o=!1,s++):o=!0)}return f}function qB(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let a=r+(i.overlay?i.overlay[0].from:0),o=a+i.tree.length,u=Math.max(s.from,a),f=Math.min(s.to,o);if(i.overlay){let h=i.overlay.map(m=>new va(m.from+r,m.to+r)),d=OSe(e,h,u,f);for(let m=0,O=u;;m++){let y=m==d.length,v=y?f:d[m].from;if(v>O&&n.push(new kl(O,v,i.tree,-a,s.from>=O||s.openStart,s.to<=v||s.openEnd)),y)break;O=d[m].to}}else n.push(new kl(u,f,i.tree,-a,s.from>=a||s.openStart,s.to<=o||s.openEnd))}return n}let ySe=0;class Fs{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=ySe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Fs&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Fs(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new nw(e);return r=>r.modified.indexOf(n)>-1?r:nw.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let vSe=0;class nw{constructor(e){this.name=e,this.instances=[],this.id=vSe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&bSe(n,o.modified));if(r)return r;let i=[],s=new Fs(e.name,i,e,n);for(let o of n)o.instances.push(s);let a=_Se(n);for(let o of e.set)if(!o.modified.length)for(let u of a)i.push(nw.get(o,u));return s}}function bSe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function _Se(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function tp(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],a=2,o=i;for(let d=0;;){if(o=="..."&&d>0&&d+3==i.length){a=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!m)throw new RangeError("Invalid path: "+i);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),d+=m[0].length,d==i.length)break;let O=i[d++];if(d==i.length&&O=="!"){a=0;break}if(O!="/")throw new RangeError("Invalid path: "+i);o=i.slice(d)}let u=s.length-1,f=s[u];if(!f)throw new RangeError("Invalid path: "+i);let h=new rw(r,a,u>0?s.slice(0,u):null);e[f]=h.sort(e[f])}}return wSe.add(e)}const wSe=new qt({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new rw(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class rw{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}rw.empty=new rw([],2,null);function SSe(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:r,all:i=null}={};return{style:s=>{let a=i;for(let o of s)for(let u of o.set){let f=n[u.id];if(f){a=a?a+" "+f:f;break}}return a},scope:r}}const et=Fs.define,db=et(),Cu=et(),VB=et(Cu),XB=et(Cu),Pu=et(),pb=et(Pu),jk=et(Pu),Ao=et(),Ic=et(Ao),To=et(),Eo=et(),hA=et(),cm=et(hA),mb=et(),re={comment:db,lineComment:et(db),blockComment:et(db),docComment:et(db),name:Cu,variableName:et(Cu),typeName:VB,tagName:et(VB),propertyName:XB,attributeName:et(XB),className:et(Cu),labelName:et(Cu),namespace:et(Cu),macroName:et(Cu),literal:Pu,string:pb,docString:et(pb),character:et(pb),attributeValue:et(pb),number:jk,integer:et(jk),float:et(jk),bool:et(Pu),regexp:et(Pu),escape:et(Pu),color:et(Pu),url:et(Pu),keyword:To,self:et(To),null:et(To),atom:et(To),unit:et(To),modifier:et(To),operatorKeyword:et(To),controlKeyword:et(To),definitionKeyword:et(To),moduleKeyword:et(To),operator:Eo,derefOperator:et(Eo),arithmeticOperator:et(Eo),logicOperator:et(Eo),bitwiseOperator:et(Eo),compareOperator:et(Eo),updateOperator:et(Eo),definitionOperator:et(Eo),typeOperator:et(Eo),controlOperator:et(Eo),punctuation:hA,separator:et(hA),bracket:cm,angleBracket:et(cm),squareBracket:et(cm),paren:et(cm),brace:et(cm),content:Ao,heading:Ic,heading1:et(Ic),heading2:et(Ic),heading3:et(Ic),heading4:et(Ic),heading5:et(Ic),heading6:et(Ic),contentSeparator:et(Ao),list:et(Ao),quote:et(Ao),emphasis:et(Ao),strong:et(Ao),link:et(Ao),monospace:et(Ao),strikethrough:et(Ao),inserted:et(),deleted:et(),changed:et(),invalid:et(),meta:mb,documentMeta:et(mb),annotation:et(mb),processingInstruction:et(mb),definition:Fs.defineModifier("definition"),constant:Fs.defineModifier("constant"),function:Fs.defineModifier("function"),standard:Fs.defineModifier("standard"),local:Fs.defineModifier("local"),special:Fs.defineModifier("special")};for(let t in re){let e=re[t];e instanceof Fs&&(e.name=t)}SSe([{tag:re.link,class:"tok-link"},{tag:re.heading,class:"tok-heading"},{tag:re.emphasis,class:"tok-emphasis"},{tag:re.strong,class:"tok-strong"},{tag:re.keyword,class:"tok-keyword"},{tag:re.atom,class:"tok-atom"},{tag:re.bool,class:"tok-bool"},{tag:re.url,class:"tok-url"},{tag:re.labelName,class:"tok-labelName"},{tag:re.inserted,class:"tok-inserted"},{tag:re.deleted,class:"tok-deleted"},{tag:re.literal,class:"tok-literal"},{tag:re.string,class:"tok-string"},{tag:re.number,class:"tok-number"},{tag:[re.regexp,re.escape,re.special(re.string)],class:"tok-string2"},{tag:re.variableName,class:"tok-variableName"},{tag:re.local(re.variableName),class:"tok-variableName tok-local"},{tag:re.definition(re.variableName),class:"tok-variableName tok-definition"},{tag:re.special(re.variableName),class:"tok-variableName2"},{tag:re.definition(re.propertyName),class:"tok-propertyName tok-definition"},{tag:re.typeName,class:"tok-typeName"},{tag:re.namespace,class:"tok-namespace"},{tag:re.className,class:"tok-className"},{tag:re.macroName,class:"tok-macroName"},{tag:re.propertyName,class:"tok-propertyName"},{tag:re.operator,class:"tok-operator"},{tag:re.comment,class:"tok-comment"},{tag:re.meta,class:"tok-meta"},{tag:re.invalid,class:"tok-invalid"},{tag:re.punctuation,class:"tok-punctuation"}]);var Bk;const qh=new qt;function UP(t){return At.define({combine:t?e=>e.concat(t):void 0})}const qP=new qt;class Wa{constructor(e,n,r=[],i=""){this.data=e,this.name=i,cn.prototype.hasOwnProperty("tree")||Object.defineProperty(cn.prototype,"tree",{get(){return ts(this)}}),this.parser=n,this.extension=[Id.of(this),cn.languageData.of((s,a,o)=>{let u=FB(s,a,o),f=u.type.prop(qh);if(!f)return[];let h=s.facet(f),d=u.type.prop(qP);if(d){let m=u.resolve(a-u.from,o);for(let O of d)if(O.test(m,s)){let y=s.facet(O.facet);return O.type=="replace"?y:y.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return FB(e,n,r).type.prop(qh)==this.data}findRegions(e){let n=e.facet(Id);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(qh)==this.data){r.push({from:a,to:a+s.length});return}let o=s.prop(qt.mounted);if(o){if(o.tree.prop(qh)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+s.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+a),r.length>u)return}}for(let u=0;u<s.children.length;u++){let f=s.children[u];f instanceof ln&&i(f,s.positions[u]+a)}};return i(ts(e),0),r}get allowsNesting(){return!0}}Wa.setState=Nn.define();function FB(t,e,n){let r=t.facet(Id),i=ts(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,fn.ExcludeBuffers|fn.EnterBracketed))s.type.isTop&&(i=s);return i}class $d extends Wa{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=UP(e.languageData);return new $d(n,e.parser.configure({props:[qh.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new $d(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ts(t){let e=t.field(Wa.state,!1);return e?e.tree:ln.empty}class xSe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let fm=null;class Dg{constructor(e,n,r=[],i,s,a,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Dg(e,n,[],ln.empty,0,r,[],null)}startParse(){return this.parser.startParse(new xSe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ln.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(kl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(kl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=fm;fm=this;try{return e()}finally{fm=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=YB(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,h,d,m)=>u.push({fromA:f,toA:h,fromB:d,toB:m})),r=kl.applyChanges(r,u),i=ln.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);h<d&&o.push({from:h,to:d})}}}return new Dg(this.parser,n,r,i,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=YB(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends ZP{createParse(n,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let u=fm;if(u){for(let f of i)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new ln(Jr.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return fm}}function YB(t,e,n){return kl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Md{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Md(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Dg.create(e.facet(Id).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Md(r)}}Wa.state=zl.define({create:Md.init,update(t,e){for(let n of e.effects)if(n.is(Wa.setState))return n.value;return e.startState.facet(Id)!=e.state.facet(Id)?Md.init(e.state):t.apply(e)}});let vV=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(vV=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const zk=typeof navigator<"u"&&(!((Bk=navigator.scheduling)===null||Bk===void 0)&&Bk.isInputPending)?()=>navigator.scheduling.isInputPending():null,kSe=Ll.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Wa.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Wa.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=vV(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Wa.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!zk?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<i&&r.doc.length>i+1e3,u=s.context.work(()=>zk&&zk()||Date.now()>a,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Wa.setState.of(new Md(s.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Ws(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Id=At.define({combine(t){return t.length?t[0]:null},enables:t=>[Wa.state,kSe,$t.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Qg{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class iw{constructor(e,n,r,i,s,a=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new iw(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let a=n.indexOf(s);if(a>-1&&(s.length>2||!/\w/.test(n[a-1])&&!/\w/.test(n[a+s.length])))return i}return null}}const bV=At.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}}),sS=new qt;function TSe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let f=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+f}}o=u.to}}function ESe({closing:t,align:e=!0,units:n=1}){return r=>ASe(r,e,n,t)}function ASe(t,e,n,r,i){let s=t.textAfter,a=s.match(/^\s*/)[0].length,o=r&&s.slice(a,a+r.length)==r||i==t.pos+a,u=e?TSe(t):null;return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}const CSe=t=>t.baseIndent;function Xb({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const PSe=At.define(),kO=new qt;function _V(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}const RSe=new qt,$Se=Object.create(null),WB=[Jr.none],GB=[],KB=Object.create(null),MSe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])MSe[t]=ISe($Se,e);function Zk(t,e){GB.indexOf(t)>-1||(GB.push(t),console.warn(e))}function ISe(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let f of o.split(".")){let h=t[f]||re[f];h?typeof h=="function"?u.length?u=u.map(h):Zk(f,`Modifier ${f} used at start of tag`):u.length?Zk(f,`Tag ${f} used as modifier`):u=Array.isArray(h)?h:[h]:Zk(f,`Unknown highlighting tag ${f}`)}for(let f of u)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(o=>o.id),s=KB[i];if(s)return s.id;let a=KB[i]=Jr.define({id:WB.length,name:r,props:[tp({[r]:n})]});return WB.push(a),a.id}Er.RTL,Er.LTR;class VP{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=ts(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(SV(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function HB(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function DSe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=HB(e)+HB(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function wV(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:DSe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function QSe(t,e){return n=>{for(let r=ts(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class JB{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function af(t){return t.selection.main.from}function SV(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const XP=wf.define();function NSe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,a=r-i.from;return{...t.changeByRange(o=>{if(o!=i&&n!=r&&t.sliceDoc(o.from+s,o.from+a)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+s,to:r==i.from?o.to:o.from+a,insert:u},range:rt.cursor(o.from+s+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const e9=new WeakMap;function LSe(t){if(!Array.isArray(t))return t;let e=e9.get(t);return e||e9.set(t,e=wV(t)),e}const sw=Nn.define(),Ng=Nn.define();class jSe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Lc(e,n),i=Ih(r);this.chars.push(r);let s=e.slice(n,n+i),a=s.toUpperCase();this.folded.push(Lc(a==s?s.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:a}=this;if(n.length==1){let T=Lc(e,0),A=Ih(T),C=A==e.length?0:-100;if(T!=n[0])if(T==r[0])C+=-200;else return null;return this.ret(C,[0,A])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,f=0;if(o<0){for(let T=0,A=Math.min(e.length,200);T<A&&f<u;){let C=Lc(e,T);(C==n[f]||C==r[f])&&(i[f++]=T),T+=Ih(C)}if(f<u)return null}let h=0,d=0,m=!1,O=0,y=-1,v=-1,w=/[a-z]/.test(e),k=!0;for(let T=0,A=Math.min(e.length,200),C=0;T<A&&d<u;){let I=Lc(e,T);o<0&&(h<u&&I==n[h]&&(s[h++]=T),O<u&&(I==n[O]||I==r[O]?(O==0&&(y=T),v=T+1,O++):O=0));let Q,N=I<255?I>=48&&I<=57||I>=97&&I<=122?2:I>=65&&I<=90?1:0:(Q=qbe(I))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!T||N==1&&w||C==0&&N!=0)&&(n[d]==I||r[d]==I&&(m=!0)?a[d++]=T:a.length&&(k=!1)),C=N,T+=Ih(I)}return d==u&&a[0]==0&&k?this.result(-100+(m?-200:0),a,e):O==u&&y==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):O==u?this.ret(-900-e.length,[y,v]):d==u?this.result(-100+(m?-200:0)+-700+(k?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let a of n){let o=a+(this.astral?Ih(Lc(r,a)):1);s&&i[s-1]==a?i[s-1]=o:(i[s++]=a,i[s++]=o)}return this.ret(e-r.length,i)}}class BSe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const ai=At.define({combine(t){return n_e(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:zSe,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>t9(e(r),n(r)),optionClass:(e,n)=>r=>t9(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function t9(t,e){return t?e?t+" "+e:t:e}function zSe(t,e,n,r,i,s){let a=t.textDirection==Er.RTL,o=a,u=!1,f="top",h,d,m=e.left-i.left,O=i.right-e.right,y=r.right-r.left,v=r.bottom-r.top;if(o&&m<Math.min(y,O)?o=!1:!o&&O<Math.min(y,m)&&(o=!0),y<=(o?m:O))h=Math.max(i.top,Math.min(n.top,i.bottom-v))-e.top,d=Math.min(400,o?m:O);else{u=!0,d=Math.min(400,(a?e.right:i.right-e.left)-30);let T=i.bottom-e.bottom;T>=v||T>e.top?h=n.bottom-e.top:(f="bottom",h=e.bottom-n.top)}let w=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${h/w}px; max-width: ${d/k}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":o?"left":"right")}}function ZSe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let a=document.createElement("span");a.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let f=0;f<s.length;){let h=s[f++],d=s[f++];h>u&&a.appendChild(document.createTextNode(o.slice(u,h)));let m=a.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(o.slice(h,d))),m.className="cm-completionMatchedText",u=d}return u<o.length&&a.appendChild(document.createTextNode(o.slice(u))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Uk(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class USe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:a}=i.open,o=e.state.facet(ai);this.optionContent=ZSe(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Uk(s.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(n).open;for(let h=u.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<f.length){this.applyCompletion(e,f[+d[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(ai).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ng.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:a,disabled:o}=r.open;(!i.open||i.open.options!=s)&&(this.range=Uk(s.length,a,e.state.facet(ai).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),o!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Uk(n.options.length,n.selected,this.view.state.facet(ai).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(i);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Ws(this.view.state,o,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&VSe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(ai).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let s=null;for(let a=r.from;a<r.to;a++){let{completion:o,match:u}=e[a],{section:f}=o;if(f){let m=typeof f=="string"?f:f.name;if(m!=s&&(a>r.from||r.from==0))if(s=m,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let O=i.appendChild(document.createElement("completion-section"));O.textContent=m}}const h=i.appendChild(document.createElement("li"));h.id=n+"-"+a,h.setAttribute("role","option");let d=this.optionClass(o);d&&(h.className=d);for(let m of this.optionContent){let O=m(o,this.view.state,this.view,u);O&&h.appendChild(O)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function qSe(t,e){return n=>new USe(n,t,e)}function VSe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function n9(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function XSe(t,e){let n=[],r=null,i=null,s=h=>{n.push(h);let{section:d}=h.completion;if(d){r||(r=[]);let m=typeof d=="string"?d:d.name;r.some(O=>O.name==m)||r.push(typeof d=="string"?{name:m}:d)}},a=e.facet(ai);for(let h of t)if(h.hasResult()){let d=h.result.getMatch;if(h.result.filter===!1)for(let m of h.result.options)s(new JB(m,h.source,d?d(m):[],1e9-n.length));else{let m=e.sliceDoc(h.from,h.to),O,y=a.filterStrict?new BSe(m):new jSe(m);for(let v of h.result.options)if(O=y.match(v.label)){let w=v.displayLabel?d?d(v,O.matched):[]:O.matched,k=O.score+(v.boost||0);if(s(new JB(v,h.source,w,k)),typeof v.section=="object"&&v.section.rank==="dynamic"){let{name:T}=v.section;i||(i=Object.create(null)),i[T]=Math.max(k,i[T]||-1e9)}}}}if(r){let h=Object.create(null),d=0,m=(O,y)=>(O.rank==="dynamic"&&y.rank==="dynamic"?i[y.name]-i[O.name]:0)||(typeof O.rank=="number"?O.rank:1e9)-(typeof y.rank=="number"?y.rank:1e9)||(O.name<y.name?-1:1);for(let O of r.sort(m))d-=1e5,h[O.name]=d;for(let O of n){let{section:y}=O.completion;y&&(O.score+=h[typeof y=="string"?y:y.name])}}let o=[],u=null,f=a.compareCompletions;for(let h of n.sort((d,m)=>m.score-d.score||f(d.completion,m.completion))){let d=h.completion;!u||u.label!=d.label||u.detail!=d.detail||u.type!=null&&d.type!=null&&u.type!=d.type||u.apply!=d.apply||u.boost!=d.boost?o.push(h):n9(h.completion)>n9(u)&&(o[o.length-1]=h),u=h.completion}return o}class Vh{constructor(e,n,r,i,s,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Vh(this.options,r9(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,a){if(i&&!a&&e.some(f=>f.isPending))return i.setDisabled();let o=XSe(e,n);if(!o.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let u=n.facet(ai).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let f=i.options[i.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==f){u=h;break}}return new Vh(o,r9(r,u),{pos:e.reduce((f,h)=>h.hasResult()?Math.min(f,h.from):f,1e8),create:HSe,above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Vh(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Vh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class aw{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new aw(GSe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(ai),s=(r.override||n.languageDataAt("autocomplete",af(n)).map(LSe)).map(u=>(this.active.find(h=>h.source==u)||new ba(u,this.active.some(h=>h.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((u,f)=>u==this.active[f])&&(s=this.active);let a=this.open,o=e.effects.some(u=>u.is(FP));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!FSe(s,this.active)||o?a=Vh.build(s,n,this.id,a,r,o):a&&a.disabled&&!s.some(u=>u.isPending)&&(a=null),!a&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new ba(u.source,0):u));for(let u of e.effects)u.is(kV)&&(a=a&&a.setSelected(u.value,this.id));return s==this.active&&a==this.open?this:new aw(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?YSe:WSe}}function FSe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const YSe={"aria-autocomplete":"list"},WSe={};function r9(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const GSe=[];function xV(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(XP);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ba{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=xV(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ba(i.source,0)),r&4&&i.state==0&&(i=new ba(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(sw))i=new ba(i.source,1,s.value);else if(s.is(Ng))i=new ba(i.source,0);else if(s.is(FP))for(let a of s.value)a.source==i.source&&(i=a);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(af(e.state))}}class hd extends ba{constructor(e,n,r,i,s,a){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=af(e.state);if(o>a||!i||n&2&&(af(e.startState)==this.from||o<this.limit))return new ba(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return KSe(i.validFor,e.state,s,a)?new hd(this.source,this.explicit,u,i,s,a):i.update&&(i=i.update(i,s,a,new VP(e.state,o,!1)))?new hd(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:af(e.state)):new ba(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new hd(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ba(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function KSe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):SV(t,!0).test(i)}const FP=Nn.define({map(t,e){return t.map(n=>n.map(e))}}),kV=Nn.define(),_s=zl.define({create(){return aw.start()},update(t,e){return t.update(e)},provide:t=>[fV.from(t,e=>e.tooltip),$t.contentAttributes.from(t,e=>e.attrs)]});function YP(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(_s).active.find(i=>i.source==e.source);return r instanceof hd?(typeof n=="string"?t.dispatch({...NSe(t.state,n,r.from,r.to),annotations:XP.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const HSe=qSe(_s,YP);function gb(t,e="option"){return n=>{let r=n.state.field(_s,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(ai).interactionDelay)return!1;let i=1,s;e=="page"&&(s=hV(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),n.dispatch({effects:kV.of(o)}),!0}}const JSe=t=>{let e=t.state.field(_s,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(ai).interactionDelay?!1:YP(t,e.open.options[e.open.selected])},qk=t=>t.state.field(_s,!1)?(t.dispatch({effects:sw.of(!0)}),!0):!1,e1e=t=>{let e=t.state.field(_s,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Ng.of(null)}),!0)};class t1e{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const n1e=50,r1e=1e3,i1e=Ll.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(_s).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(_s),n=t.state.facet(ai);if(!t.selectionSet&&!t.docChanged&&t.startState.field(_s)==e)return;let r=t.transactions.some(s=>{let a=xV(s,n);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>n1e&&Date.now()-a.time>r1e){for(let o of a.context.abortListeners)try{o()}catch(u){Ws(this.view.state,u)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(a=>a.is(sw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(_s);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ai).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=af(e),r=new VP(e,n,t.explicit,this.view),i=new t1e(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ng.of(null)}),Ws(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ai).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ai),r=this.view.state.field(_s);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let o=af(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(o,s.done.from+(s.active.explicit?0:1)),f=new hd(s.active.source,s.active.explicit,u,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:o);for(let h of s.updates)f=f.update(h,n);if(f.hasResult()){e.push(f);continue}}let a=r.active.find(o=>o.source==s.active.source);if(a&&a.isPending)if(s.done==null){let o=new ba(s.active.source,0);for(let u of s.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:FP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(_s,!1);if(e&&e.tooltip&&this.view.state.facet(ai).closeOnBlur){let n=e.open&&hV(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ng.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:sw.of(!1)}),20),this.composing=0}}}),s1e=typeof navigator=="object"&&/Win/.test(navigator.platform),a1e=Jd.highest($t.domEventHandlers({keydown(t,e){let n=e.state.field(_s,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(s1e&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&YP(e,r),!1}})),TV=$t.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class o1e{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class WP{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Wi.TrackDel),r=e.mapPos(this.to,1,Wi.TrackDel);return n==null||r==null?null:new WP(this.field,n,r)}}class GP{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),a=/^\s*/.exec(s.text)[0];for(let u of this.lines){if(r.length){let f=a,h=/^\t*/.exec(u)[0].length;for(let d=0;d<h;d++)f+=e.facet(bV);i.push(n+f.length-h),u=f+u.slice(h)}r.push(u),n+=u.length+1}let o=this.fieldPositions.map(u=>new WP(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:r,ranges:o}}static parse(e){let n=[],r=[],i=[],s;for(let a of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(a);){let o=s[1]?+s[1]:null,u=s[2]||s[3]||"",f=-1,h=u.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(o!=null?n[d].seq==o:h&&n[d].name==h)&&(f=d);if(f<0){let d=0;for(;d<n.length&&(o==null||n[d].seq!=null&&n[d].seq<o);)d++;n.splice(d,0,{seq:o,name:h}),f=d;for(let m of i)m.field>=f&&m.field++}for(let d of i)if(d.line==r.length&&d.from>s.index){let m=s[2]?3+(s[1]||"").length:2;d.from-=m,d.to-=m}i.push(new o1e(f,r.length,s.index,s.index+h.length)),a=a.slice(0,s.index)+u+a.slice(s.index+s[0].length)}a=a.replace(/\\([{}])/g,(o,u,f)=>{for(let h of i)h.line==r.length&&h.from>f&&(h.from--,h.to--);return u}),r.push(a)}return new GP(r,i)}}let l1e=Fn.widget({widget:new class extends ep{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),u1e=Fn.mark({class:"cm-snippetField"});class np{constructor(e,n){this.ranges=e,this.active=n,this.deco=Fn.set(e.map(r=>(r.from==r.to?l1e:u1e).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new np(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const TO=Nn.define({map(t,e){return t&&t.map(e)}}),c1e=Nn.define(),Lg=zl.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(TO))return n.value;if(n.is(c1e)&&t)return new np(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>$t.decorations.from(t,e=>e?e.deco:Fn.none)});function KP(t,e){return rt.create(t.filter(n=>n.field==e).map(n=>rt.range(n.from,n.to)))}function f1e(t){let e=GP.parse(t);return(n,r,i,s)=>{let{text:a,ranges:o}=e.instantiate(n.state,i),{main:u}=n.state.selection,f={changes:{from:i,to:s==u.from?u.to:s,insert:on.of(a)},scrollIntoView:!0,annotations:r?[XP.of(r),xi.userEvent.of("input.complete")]:void 0};if(o.length&&(f.selection=KP(o,0)),o.some(h=>h.field>0)){let h=new np(o,0),d=f.effects=[TO.of(h)];n.state.field(Lg,!1)===void 0&&d.push(Nn.appendConfig.of([Lg,g1e,O1e,TV]))}n.dispatch(n.state.update(f))}}function EV(t){return({state:e,dispatch:n})=>{let r=e.field(Lg,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(a=>a.field==i+t);return n(e.update({selection:KP(r.ranges,i),effects:TO.of(s?null:new np(r.ranges,i)),scrollIntoView:!0})),!0}}const h1e=({state:t,dispatch:e})=>t.field(Lg,!1)?(e(t.update({effects:TO.of(null)})),!0):!1,d1e=EV(1),p1e=EV(-1),m1e=[{key:"Tab",run:d1e,shift:p1e},{key:"Escape",run:h1e}],i9=At.define({combine(t){return t.length?t[0]:m1e}}),g1e=Jd.highest(SO.compute([i9],t=>t.facet(i9)));function bs(t,e){return{...e,apply:f1e(t)}}const O1e=$t.domEventHandlers({mousedown(t,e){let n=e.state.field(Lg,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:KP(n.ranges,i.field),effects:TO.of(n.ranges.some(s=>s.field>i.field)?new np(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),AV=new class extends Hu{};AV.startSide=1;AV.endSide=-1;function y1e(t={}){return[a1e,_s,ai.of(t),i1e,b1e,TV]}const v1e=[{key:"Ctrl-Space",run:qk},{mac:"Alt-`",run:qk},{mac:"Alt-i",run:qk},{key:"Escape",run:e1e},{key:"ArrowDown",run:gb(!0)},{key:"ArrowUp",run:gb(!1)},{key:"PageDown",run:gb(!0,"page")},{key:"PageUp",run:gb(!1,"page")},{key:"Enter",run:JSe}],b1e=Jd.highest(SO.computeN([ai],t=>t.facet(ai).defaultKeymap?[v1e]:[]));class ow{static create(e,n,r,i,s){let a=i+(i<<8)+e+(n<<4)|0;return new ow(e,n,r,a,s,[],[])}constructor(e,n,r,i,s,a,o){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=a,this.positions=o,this.hashProp=[[qt.contextHash,i]]}addChild(e,n){e.prop(qt.contextHash)!=this.hash&&(e=new ln(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new ln(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,s,a)=>new ln(Jr.none,i,s,a,this.hashProp)})}}var Ye;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Ye||(Ye={}));class _1e{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class w1e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Vm(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function s9(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Ye.OrderedList?eR:JP)(n,e,!1);return r>0&&(t.type!=Ye.BulletList||HP(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const CV={[Ye.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(Ht(Ye.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+($a(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Ye.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Ye.OrderedList]:s9,[Ye.BulletList]:s9,[Ye.Document](){return!0}};function $a(t){return t==32||t==9||t==10||t==13}function Vm(t,e=0){for(;e<t.length&&$a(t.charCodeAt(e));)e++;return e}function a9(t,e,n){for(;e>n&&$a(t.charCodeAt(e-1));)e--;return e}function PV(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function RV(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function HP(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!$a(s))return-1}return n&&t.next==45&&IV(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(LV.SetextHeading)>-1||r<3?-1:1}function $V(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function JP(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||$a(t.text.charCodeAt(t.pos+1)))&&(!n||$V(e,Ye.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function eR(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!$a(t.text.charCodeAt(r+1))||n&&!$V(e,Ye.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function MV(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function IV(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&$a(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const dA=/^[ \t]*$/,DV=/-->/,QV=/\?>/,pA=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,DV],[/^\s*<\?/,QV],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,dA],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,dA]];function NV(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=pA.length-(n?1:0);i<s;i++)if(pA[i][0].test(r))return i;return-1}function o9(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function wu(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Ye.CodeText?t[r].to=n:t.push(Ht(Ye.CodeText,e,n))}const Ob={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,a=[],o=[];for(wu(a,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){wu(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u)}else{if(e.indent<n)break;{if(o.length){for(let f of o)f.type==Ye.CodeText?wu(a,f.from,f.to):a.push(f);o=[]}wu(a,t.lineStart-1,t.lineStart);for(let f of e.markers)a.push(f);s=t.lineStart+e.text.length;let u=t.lineStart+e.findColumn(e.baseIndent+4);u<s&&wu(a,u,s)}}return o.length&&(o=o.filter(u=>u.type!=Ye.CodeText),o.length&&(e.markers=o.concat(e.markers))),t.addNode(t.buffer.writeElements(a,-i).finish(Ye.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=PV(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,a=e.skipSpace(n),o=a9(e.text,e.text.length,a),u=[Ht(Ye.CodeMark,r,r+s)];a<o&&u.push(Ht(Ye.CodeInfo,t.lineStart+a,t.lineStart+o));for(let f=!0,h=!0,d=!1;t.nextLine()&&e.depth>=t.stack.length;f=!1){let m=e.pos;if(e.indent-e.baseIndent<4)for(;m<e.text.length&&e.text.charCodeAt(m)==i;)m++;if(m-e.pos>=s&&e.skipSpace(m)==e.text.length){for(let O of e.markers)u.push(O);h&&d&&wu(u,t.lineStart-1,t.lineStart),u.push(Ht(Ye.CodeMark,t.lineStart+e.pos,t.lineStart+m)),t.nextLine();break}else{d=!0,f||(wu(u,t.lineStart-1,t.lineStart),h=!1);for(let v of e.markers)u.push(v);let O=t.lineStart+e.basePos,y=t.lineStart+e.text.length;O<y&&(wu(u,O,y),h=!1)}}return t.addNode(t.buffer.writeElements(u,-r).finish(Ye.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=RV(e);return n<0?!1:(t.startContext(Ye.Blockquote,e.pos),t.addNode(Ye.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(HP(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Ye.HorizontalRule,n),!0},BulletList(t,e){let n=JP(e,t,!1);if(n<0)return!1;t.block.type!=Ye.BulletList&&t.startContext(Ye.BulletList,e.basePos,e.next);let r=o9(e,e.pos+1);return t.startContext(Ye.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ye.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=eR(e,t,!1);if(n<0)return!1;t.block.type!=Ye.OrderedList&&t.startContext(Ye.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=o9(e,e.pos+n);return t.startContext(Ye.ListItem,e.basePos,r-e.baseIndent),t.addNode(Ye.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=MV(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=a9(e.text,e.text.length,r),a=s;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==s||a==r||!$a(e.text.charCodeAt(a-1)))&&(a=e.text.length);let o=t.buffer.write(Ye.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,a),i+n+1),-i);a<e.text.length&&o.write(Ye.HeaderMark,a-r,s-r);let u=o.finish(Ye.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(u,i),!0},HTMLBlock(t,e){let n=NV(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=pA[n][1],s=[],a=i!=dA;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){a=!1;break}for(let f of e.markers)s.push(f)}a&&t.nextLine();let o=i==DV?Ye.CommentBlock:i==QV?Ye.ProcessingInstructionBlock:Ye.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(o,u-r),r),!0},SetextHeading:void 0};class S1e{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&Vm(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,Ht(Ye.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(FV(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Ht(Ye.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(VV(e,Vm(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=Vm(e,this.pos),r=0;if(n>this.pos){let i=XV(e,n,this.start);if(i){let s=Vk(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=Vk(e,this.pos)),r>0&&r<e.length?r:-1}else return Vk(e,this.pos)}}}function Vk(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!$a(n))return-1}return e}class x1e{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:IV(n),s=n.next;if(i<0)return!1;let a=Ht(Ye.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,Ht(s==61?Ye.SetextHeading1:Ye.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const LV={LinkReference(t,e){return e.content.charCodeAt(0)==91?new S1e(e):null},SetextHeading(){return new x1e}},k1e=[(t,e)=>MV(e)>=0,(t,e)=>PV(e)>=0,(t,e)=>RV(e)>=0,(t,e)=>JP(e,t,!0)>=0,(t,e)=>eR(e,t,!0)>=0,(t,e)=>HP(e,t,!0)>=0,(t,e)=>NV(e,t,!0)>=0],T1e={text:"",end:0};class E1e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new w1e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=ow.create(Ye.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new P1e(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new _1e(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=YV(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=T1e;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,a=this.lineChunkAt(s);n.end=s+a.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+a,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+Ye[i.type]);let a=this.line.markers.length;if(!s(i,this,e)){this.line.markers.length>a&&(i.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=ow.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new ln(this.parser.nodeSet.types[e],Dd,Dd,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(gA(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?jV(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=gA(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Ye.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?Ht(this.parser.getNodeType(e),n,r,i):new ZV(e,n)}get buffer(){return new zV(this.parser.nodeSet)}}function jV(t,e,n,r,i){let s=t[e].to,a=[],o=[],u=n.from+r;function f(h,d){for(;d?h>=s:h>s;){let m=t[e+1].from-s;r+=m,h+=m,e++,s=t[e].to}}for(let h=n.firstChild;h;h=h.nextSibling){f(h.from+r,!0);let d=h.from+r,m,O=i.get(h.tree);O?m=O:h.to+r>s?(m=jV(t,e,h,r,i),f(h.to+r,!1)):m=h.toTree(),a.push(m),o.push(d-u)}return f(n.to+r,!1),new ln(n.type,a,o,n.to+r-u,n.tree?n.tree.propValues:void 0)}class aS extends ZP{constructor(e,n,r,i,s,a,o,u,f){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=u,this.wrappers=f,this.nodeTypes=Object.create(null);for(let h of e.types)this.nodeTypes[h.name]=h.id}createParse(e,n,r){let i=new E1e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=mA(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),u=this.inlineParsers.slice(),f=this.inlineNames.slice(),h=this.endLeafBlock.slice(),d=this.wrappers;if(hm(n.defineNodes)){i=Object.assign({},i);let m=r.types.slice(),O;for(let y of n.defineNodes){let{name:v,block:w,composite:k,style:T}=typeof y=="string"?{name:y}:y;if(m.some(I=>I.name==v))continue;k&&(i[m.length]=(I,Q,N)=>k(Q,N,I.value));let A=m.length,C=k?["Block","BlockContext"]:w?A>=Ye.ATXHeading1&&A<=Ye.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;m.push(Jr.define({id:A,name:v,props:C&&[[qt.group,C]]})),T&&(O||(O={}),Array.isArray(T)||T instanceof Fs?O[v]=T:Object.assign(O,T))}r=new xO(m),O&&(r=r.extend(tp(O)))}if(hm(n.props)&&(r=r.extend(...n.props)),hm(n.remove))for(let m of n.remove){let O=this.blockNames.indexOf(m),y=this.inlineNames.indexOf(m);O>-1&&(s[O]=a[O]=void 0),y>-1&&(u[y]=void 0)}if(hm(n.parseBlock))for(let m of n.parseBlock){let O=o.indexOf(m.name);if(O>-1)s[O]=m.parse,a[O]=m.leaf;else{let y=m.before?yb(o,m.before):m.after?yb(o,m.after)+1:o.length-1;s.splice(y,0,m.parse),a.splice(y,0,m.leaf),o.splice(y,0,m.name)}m.endLeaf&&h.push(m.endLeaf)}if(hm(n.parseInline))for(let m of n.parseInline){let O=f.indexOf(m.name);if(O>-1)u[O]=m.parse;else{let y=m.before?yb(f,m.before):m.after?yb(f,m.after)+1:f.length-1;u.splice(y,0,m.parse),f.splice(y,0,m.name)}}return n.wrap&&(d=d.concat(n.wrap)),new aS(r,s,a,o,h,i,u,f,d)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new tR(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let a of this.inlineParsers)if(a){let o=a(r,s,i);if(o>=0){i=o;continue e}}i++}return r.resolveMarkers(0)}}function hm(t){return t!=null&&t.length>0}function mA(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=mA(t[0]);if(t.length==1)return e;let n=mA(t.slice(1));if(!n||!e)return e||n;let r=(a,o)=>(a||Dd).concat(o||Dd),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(a,o,u,f)=>i(s(a,o,u,f),o,u,f):i:s}}function yb(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let BV=[Jr.none];for(let t=1,e;e=Ye[t];t++)BV[t]=Jr.define({id:t,name:e,props:t>=Ye.Escape?[]:[[qt.group,t in CV?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Dd=[];let zV=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return ln.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},jg=class{constructor(e,n,r,i=Dd){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new zV(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class ZV{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Dd}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function Ht(t,e,n,r){return new jg(t,e,n,r)}const UV={resolve:"Emphasis",mark:"EmphasisMark"},qV={resolve:"Emphasis",mark:"EmphasisMark"},qc={},lw={};class Vs{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const l9="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Bg=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Bg=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const Xk={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<l9.length;i++)if(l9.charCodeAt(i)==r)return t.append(Ht(Ye.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(Ht(Ye.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(Ht(Ye.InlineCode,n,r+1,[Ht(Ye.CodeMark,n,n+i),Ht(Ye.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(Ht(Ye.Autolink,n,n+1+i[0].length,[Ht(Ye.LinkMark,n,n+1),Ht(Ye.URL,n+1,n+i[0].length),Ht(Ye.LinkMark,n+i[0].length,n+1+i[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(Ht(Ye.Comment,n,n+1+s[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return t.append(Ht(Ye.ProcessingInstruction,n,n+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return o?t.append(Ht(Ye.HTMLTag,n,n+1+o[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),a=Bg.test(i),o=Bg.test(s),u=/\s|^$/.test(i),f=/\s|^$/.test(s),h=!f&&(!o||u||a),d=!u&&(!a||f||o),m=h&&(e==42||!d||a),O=d&&(e==42||!h||o);return t.append(new Vs(e==95?UV:qV,n,r,(m?1:0)|(O?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(Ht(Ye.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(Ht(Ye.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Vs(qc,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Vs(lw,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof Vs&&(i.type==qc||i.type==lw)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),a=t.parts[r]=A1e(t,s,i.type==qc?Ye.Link:Ye.Image,i.from,n+1);if(i.type==qc)for(let o=0;o<r;o++){let u=t.parts[o];u instanceof Vs&&u.type==qc&&(u.side=0)}return a.to}}return-1}};function A1e(t,e,n,r,i){let{text:s}=t,a=t.char(i),o=i;if(e.unshift(Ht(Ye.LinkMark,r,r+(n==Ye.Image?2:1))),e.push(Ht(Ye.LinkMark,i-1,i)),a==40){let u=t.skipSpace(i+1),f=VV(s,u-t.offset,t.offset),h;f&&(u=t.skipSpace(f.to),u!=f.to&&(h=XV(s,u-t.offset,t.offset),h&&(u=t.skipSpace(h.to)))),t.char(u)==41&&(e.push(Ht(Ye.LinkMark,i,i+1)),o=u+1,f&&e.push(f),h&&e.push(h),e.push(Ht(Ye.LinkMark,u,o)))}else if(a==91){let u=FV(s,i-t.offset,t.offset,!1);u&&(e.push(u),o=u.to)}return Ht(n,r,o,e)}function VV(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return Ht(Ye.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let a=!1;s<t.length;s++){let o=t.charCodeAt(s);if($a(o))break;if(a)a=!1;else if(o==40)i++;else if(o==41){if(!i)break;i--}else o==92&&(a=!0)}return s>e?Ht(Ye.URL,e+n,s+n):s==t.length?null:!1}}function XV(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,a=!1;s<t.length;s++){let o=t.charCodeAt(s);if(a)a=!1;else{if(o==i)return Ht(Ye.LinkTitle,e+n,s+1+n);o==92&&(a=!0)}}return null}function FV(t,e,n,r){for(let i=!1,s=e+1,a=Math.min(t.length,s+999);s<a;s++){let o=t.charCodeAt(s);if(i)i=!1;else{if(o==93)return r?!1:Ht(Ye.LinkLabel,e+n,s+1+n);if(r&&!$a(o)&&(r=!1),o==91)return!1;o==92&&(i=!0)}}return null}class tR{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new Vs(e,n,r,(i?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Vs&&(n.type==qc||n.type==lw))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Vs&&i.type.resolve&&i.side&2))continue;let s=i.type==UV||i.type==qV,a=i.to-i.from,o,u=r-1;for(;u>=e;u--){let v=this.parts[u];if(v instanceof Vs&&v.side&1&&v.type==i.type&&!(s&&(i.side&1||v.side&2)&&(v.to-v.from+a)%3==0&&((v.to-v.from)%3||a%3))){o=v;break}}if(!o)continue;let f=i.type.resolve,h=[],d=o.from,m=i.to;if(s){let v=Math.min(2,o.to-o.from,a);d=o.to-v,m=i.from+v,f=v==1?"Emphasis":"StrongEmphasis"}o.type.mark&&h.push(this.elt(o.type.mark,d,o.to));for(let v=u+1;v<r;v++)this.parts[v]instanceof jg&&h.push(this.parts[v]),this.parts[v]=null;i.type.mark&&h.push(this.elt(i.type.mark,i.from,m));let O=this.elt(f,d,m,h);this.parts[u]=s&&o.from!=d?new Vs(o.type,o.from,d,o.side):null,(this.parts[r]=s&&i.to!=m?new Vs(i.type,m,i.to,i.side):null)?this.parts.splice(r,0,O):this.parts[r]=O}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof jg&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Vs&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof Vs?n:null}skipSpace(e){return Vm(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?Ht(this.parser.getNodeType(e),n,r,i):new ZV(e,n)}}tR.linkStart=qc;tR.imageStart=lw;function gA(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof jg&&(n[r]=new jg(s.type,s.from,s.to,gA(s.children,[i])))}else n.splice(r++,0,i)}return n}const C1e=[Ye.CodeBlock,Ye.ListItem,Ye.OrderedList,Ye.BulletList];let P1e=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(qt.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,a=s,o=e.block.children.length,u=a,f=o;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let h=YV(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,h);else{let d=new ln(e.parser.nodeSet.types[Ye.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(d,n.tree),e.addNode(d,h)}if(n.type.is("Block")&&(C1e.indexOf(n.type.id)<0?(a=n.to-r,o=e.block.children.length):(a=u,o=f),u=n.to-r,f=e.block.children.length),!n.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return a-s}};function YV(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,s=e[r].from;i<t&&(n-=s-i)}return n}const R1e=tp({"Blockquote/...":re.quote,HorizontalRule:re.contentSeparator,"ATXHeading1/... SetextHeading1/...":re.heading1,"ATXHeading2/... SetextHeading2/...":re.heading2,"ATXHeading3/...":re.heading3,"ATXHeading4/...":re.heading4,"ATXHeading5/...":re.heading5,"ATXHeading6/...":re.heading6,"Comment CommentBlock":re.comment,Escape:re.escape,Entity:re.character,"Emphasis/...":re.emphasis,"StrongEmphasis/...":re.strong,"Link/... Image/...":re.link,"OrderedList/... BulletList/...":re.list,"BlockQuote/...":re.quote,"InlineCode CodeText":re.monospace,"URL Autolink":re.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":re.processingInstruction,"CodeInfo LinkLabel":re.labelName,LinkTitle:re.string,Paragraph:re.content}),$1e=new aS(new xO(BV).extend(R1e),Object.keys(Ob).map(t=>Ob[t]),Object.keys(Ob).map(t=>LV[t]),Object.keys(Ob),k1e,CV,Object.keys(Xk).map(t=>Xk[t]),Object.keys(Xk),[]);function M1e(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let a=i?i.from:n;if(a>s&&r.push({from:s,to:a}),!i)break;s=i.to}return r}function I1e(t){let{codeParser:e,htmlParser:n}=t;return{wrap:yV((i,s)=>{let a=i.type.id;if(e&&(a==Ye.CodeBlock||a==Ye.FencedCode)){let o="";if(a==Ye.FencedCode){let f=i.node.getChild(Ye.CodeInfo);f&&(o=s.read(f.from,f.to))}let u=e(o);if(u)return{parser:u,overlay:f=>f.type.id==Ye.CodeText,bracketed:a==Ye.FencedCode}}else if(n&&(a==Ye.HTMLBlock||a==Ye.HTMLTag||a==Ye.CommentBlock))return{parser:n,overlay:M1e(i.node,i.from,i.to)};return null})}}const D1e={resolve:"Strikethrough",mark:"StrikethroughMark"},Q1e={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":re.strikethrough}},{name:"StrikethroughMark",style:re.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),a=/\s|^$/.test(i),o=Bg.test(r),u=Bg.test(i);return t.addDelimiter(D1e,n,n+2,!a&&(!u||s||o),!s&&(!o||a||u))},after:"Emphasis"}]};function Xm(t,e,n=0,r,i=0){let s=0,a=!0,o=-1,u=-1,f=!1,h=()=>{r.push(t.elt("TableCell",i+o,i+u,t.parser.parseInline(e.slice(o,u),i+o)))};for(let d=n;d<e.length;d++){let m=e.charCodeAt(d);m==124&&!f?((!a||o>-1)&&s++,a=!1,r&&(o>-1&&h(),r.push(t.elt("TableDelimiter",d+i,d+i+1))),o=u=-1):(f||m!=32&&m!=9)&&(o<0&&(o=d),u=d+1),f=!f&&m==92}return o>-1&&(s++,r&&h()),s}function u9(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const WV=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class c9{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&WV.test(i=n.text.slice(n.pos))){let s=[];Xm(e,r.content,0,s,r.start)==Xm(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];Xm(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const N1e={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":re.heading}},"TableRow",{name:"TableCell",style:re.content},{name:"TableDelimiter",style:re.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return u9(e.content,0)?new c9:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof c9)||!u9(e.text,e.basePos))return!1;let r=t.peekLine();return WV.test(r)&&Xm(t,e.text,e.basePos)==Xm(t,r,e.basePos)},before:"SetextHeading"}]};class L1e{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const j1e={defineNodes:[{name:"Task",block:!0,style:re.list},{name:"TaskMarker",style:re.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new L1e:null},after:"SetextHeading"}]},f9=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,h9=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,B1e=/[\w-]+\.[\w-]+($|\/)/,d9=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,p9=/\/[a-zA-Z\d@.]+/gy;function m9(t,e,n,r){let i=0;for(let s=e;s<n;s++)t[s]==r&&i++;return i}function z1e(t,e){h9.lastIndex=e;let n=h9.exec(t);if(!n||B1e.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],s;if(/[?!.,:*_~]/.test(i)||i==")"&&m9(t,e,r,")")>m9(t,e,r,"("))r--;else if(i==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+s.index;else break}return r}function g9(t,e){d9.lastIndex=e;let n=d9.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const Z1e={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;f9.lastIndex=r;let i=f9.exec(t.text),s=-1;if(!i)return-1;if(i[1]||i[2]){if(s=z1e(t.text,r+i[0].length),s>-1&&t.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,s));s=r+a[0].length}}else i[3]?s=g9(t.text,r):(s=g9(t.text,r+i[0].length),s>-1&&i[0]=="xmpp:"&&(p9.lastIndex=s,i=p9.exec(t.text),i&&(s=i.index+i[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},U1e=[N1e,j1e,Q1e,Z1e];function GV(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let a=[r.elt(n,s,s+1)];for(let o=s+1;o<r.end;o++){let u=r.char(o);if(u==t)return r.addElement(r.elt(e,s,o+1,a.concat(r.elt(n,o,o+1))));if(u==92&&a.push(r.elt("Escape",o,o+++2)),$a(u))break}return-1}}const q1e={defineNodes:[{name:"Superscript",style:re.special(re.content)},{name:"SuperscriptMark",style:re.processingInstruction}],parseInline:[{name:"Superscript",parse:GV(94,"Superscript","SuperscriptMark")}]},V1e={defineNodes:[{name:"Subscript",style:re.special(re.content)},{name:"SubscriptMark",style:re.processingInstruction}],parseInline:[{name:"Subscript",parse:GV(126,"Subscript","SubscriptMark")}]},X1e={defineNodes:[{name:"Emoji",style:re.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var O9={};class uw{constructor(e,n,r,i,s,a,o,u,f,h=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=u,this.curContext=f,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new uw(e,[],n,r,r,0,[],0,i?new y9(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,h=this.reducePos-f;h>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=h));let d=u?this.stack[u-1]:0,m=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let O=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,O,m+4,!0)}if(e&262144)this.state=this.stack[u];else{let O=this.stack[u-3];this.state=s.getGoto(O,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(n==r)return;if(a.buffer[o-2]>=n){a.buffer[o-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let o=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:a}=this.p;this.pos=i;let o=a.stateFlag(s,1);!o&&(i>r||n<=a.maxNode)&&(this.reducePos=i),this.pushState(s,o?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new uw(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new F1e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let a=n[s+1];i.some((o,u)=>u&1&&o==a)||i.push(n[s],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-s;if(o>1){let u=a&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return o<<19|65536|u}}else{let o=r(a,s+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new y9(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class y9{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class F1e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class cw{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new cw(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new cw(this.stack,this.pos,this.index)}}function km(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let a=t.charCodeAt(r++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,o=!0),s+=u,o)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Fb{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const v9=new Fb;class Y1e{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=v9,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=v9,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class dd{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;KV(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}dd.prototype.contextual=dd.prototype.fallback=dd.prototype.extend=!1;class fw{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?km(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,a=e.resolveOffset(1,1);if(KV(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,a==null)break;e.reset(a,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}fw.prototype.contextual=dd.prototype.fallback=dd.prototype.extend=!1;class sa{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function KV(t,e,n,r,i,s){let a=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[a])!=0;){let f=t[a+1];for(let O=a+3;O<f;O+=2)if((t[O+1]&o)>0){let y=t[O];if(u.allows(y)&&(e.token.value==-1||e.token.value==y||W1e(y,e.token.value,i,s))){e.acceptToken(y);break}}let h=e.next,d=0,m=t[a+2];if(e.next<0&&m>d&&t[f+m*3-3]==65535){a=t[f+m*3-1];continue e}for(;d<m;){let O=d+m>>1,y=f+O+(O<<1),v=t[y],w=t[y+1]||65536;if(h<v)m=O;else if(h>=w)d=O+1;else{a=t[y+2],e.advance();continue e}}break}}function b9(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function W1e(t,e,n,r){let i=b9(n,r,e);return i<0||b9(n,r,t)<i}const Bs=typeof process<"u"&&O9&&/\bparse\b/.test(O9.LOG);let Fk=null;function _9(t,e,n){let r=t.cursor(fn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class G1e{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?_9(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?_9(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(s instanceof ln){if(a==e){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let u=s.prop(qt.lookAhead);if(!u||o+u<this.fragment.to)return s}}this.index[n]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+s.length}}}class K1e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Fb)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,a=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<s.length;f++){if((1<<f&a)==0)continue;let h=s[f],d=this.tokens[f];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=a||d.context!=o)&&(this.updateCachedToken(d,h,e),d.mask=a,d.context=o),d.lookAhead>d.end+25&&(u=Math.max(d.lookAhead,u)),d.value!=0)){let m=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!h.extend&&(r=d,n>m))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new Fb,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Fb,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let o=s.specializers[a](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let u=0;u<2;u++)for(let f=a.stateSlot(s,u?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=gl(o,f+2);else{i==0&&o[f+1]==2&&(i=this.putAction(gl(o,f+2),n,r,i));break}o[f]==n&&(i=this.putAction(gl(o,f+1),n,r,i))}return i}}class H1e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Y1e(n,i),this.tokens=new K1e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[uw.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new G1e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],s=[]),i.push(o);let u=this.tokens.getMainToken(o);s.push(u.value,u.end)}}break}}if(!r.length){let a=i&&exe(i);if(a)return Bs&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Bs&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return Bs&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((o,u)=>u.score-o.score);r.length>a;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let o=r[a];for(let u=a+1;u<r.length;u++){let f=r[u];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,o)=>o.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,a=Bs?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,h=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let m=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(m>-1&&d.length&&(!f||(d.prop(qt.contextHash)||0)==h))return e.useNode(d,m),Bs&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof ln)||d.children.length==0||d.positions[0]>0)break;let O=d.children[0];if(O instanceof ln&&d.positions[0]==0)d=O;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),Bs&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let h=u[f++],d=u[f++],m=u[f++],O=f==u.length||!r,y=O?e:e.split(),v=this.tokens.mainToken;if(y.apply(h,d,v?v.start:y.pos,m),Bs&&console.log(a+this.stackID(y)+` (via ${(h&65536)==0?"shift":`reduce of ${s.getName(h&65535)}`} for ${s.getName(d)} @ ${i}${y==e?"":", split"})`),O)return!0;y.pos>i?n.push(y):r.push(y)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return w9(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],u=n[a<<1],f=n[(a<<1)+1],h=Bs?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Bs&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let d=o.split(),m=h;for(let O=0;O<10&&d.forceReduce()&&(Bs&&console.log(m+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));O++)Bs&&(m=this.stackID(d)+" -> ");for(let O of o.recoverByInsert(u))Bs&&console.log(h+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,r);this.stream.end>o.pos?(f==o.pos&&(f++,u=0),o.recoverByDelete(u,f),Bs&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),w9(o,r)):(!i||i.score<d.score)&&(i=d)}return i}stackToTree(e){return e.close(),ln.build({buffer:cw.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Fk||(Fk=new WeakMap)).get(e);return n||Fk.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function w9(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class J1e{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Yk=t=>t;class HV{constructor(e){this.start=e.start,this.shift=e.shift||Yk,this.reduce=e.reduce||Yk,this.reuse=e.reuse||Yk,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Qd extends ZP{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function s(o,u,f){i[o].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=qt[u]);for(let f=1;f<o.length;){let h=o[f++];if(h>=0)s(h,u,o[f++]);else{let d=o[f+-h];for(let m=-h;m>0;m--)s(o[f++],u,d);f++}}}this.nodeSet=new xO(n.map((o,u)=>Jr.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=dV;let a=km(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(S9),this.states=km(e.states,Uint32Array),this.data=km(e.stateData),this.goto=km(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new dd(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new H1e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let a=i[s++],o=a&1,u=i[s++];if(o&&r)return u;for(let f=s+(a>>1);s<f;s++)if(i[s]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=gl(r,s+2)];else{if(r[s+1]==2)return gl(r,s+2);break}if(a==n||a==0)return gl(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=gl(this.data,s+2);else break;i=n(gl(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=gl(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,a)=>a&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Qd.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(o=>o.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=S9(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let a=n.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let a=this.dialects[n[s]],o;(o=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new J1e(e,r,i)}static deserialize(e){return new Qd(e)}}function gl(t,e){return t[e]|t[e+1]<<16}function exe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function S9(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const txe=55,nxe=1,rxe=56,ixe=2,sxe=57,axe=3,x9=4,oxe=5,nR=6,JV=7,e8=8,t8=9,n8=10,lxe=11,uxe=12,cxe=13,Wk=58,fxe=14,hxe=15,k9=59,r8=21,dxe=23,i8=24,pxe=25,OA=27,s8=28,mxe=29,gxe=32,Oxe=35,yxe=37,vxe=38,bxe=0,_xe=1,wxe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Sxe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},T9={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function xxe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let E9=null,A9=null,C9=0;function yA(t,e){let n=t.pos+e;if(C9==n&&A9==t)return E9;let r=t.peek(e),i="";for(;xxe(r);)i+=String.fromCharCode(r),r=t.peek(++e);return A9=t,C9=n,E9=i?i.toLowerCase():r==kxe||r==Txe?void 0:null}const a8=60,hw=62,rR=47,kxe=63,Txe=33,Exe=45;function P9(t,e){this.name=t,this.parent=e}const Axe=[nR,n8,JV,e8,t8],Cxe=new HV({start:null,shift(t,e,n,r){return Axe.indexOf(e)>-1?new P9(yA(r,1)||"",t):t},reduce(t,e){return e==r8&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==nR||i==yxe?new P9(yA(r,1)||"",t):t},strict:!1}),Pxe=new sa((t,e)=>{if(t.next!=a8){t.next<0&&e.context&&t.acceptToken(Wk);return}t.advance();let n=t.next==rR;n&&t.advance();let r=yA(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?hxe:fxe);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(lxe);if(i&&Sxe[i])return t.acceptToken(Wk,-2);if(e.dialectEnabled(bxe))return t.acceptToken(uxe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(cxe)}else{if(r=="script")return t.acceptToken(JV);if(r=="style")return t.acceptToken(e8);if(r=="textarea")return t.acceptToken(t8);if(wxe.hasOwnProperty(r))return t.acceptToken(n8);i&&T9[i]&&T9[i][r]?t.acceptToken(Wk,-1):t.acceptToken(nR)}},{contextual:!0}),Rxe=new sa(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(k9);break}if(t.next==Exe)e++;else if(t.next==hw&&e>=2){n>=3&&t.acceptToken(k9,-2);break}else e=0;t.advance()}});function $xe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const Mxe=new sa((t,e)=>{if(t.next==rR&&t.peek(1)==hw){let n=e.dialectEnabled(_xe)||$xe(e.context);t.acceptToken(n?oxe:x9,2)}else t.next==hw&&t.acceptToken(x9,1)});function iR(t,e,n){let r=2+t.length;return new sa(i=>{for(let s=0,a=0,o=0;;o++){if(i.next<0){o&&i.acceptToken(e);break}if(s==0&&i.next==a8||s==1&&i.next==rR||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,a++;else if(s==r&&i.next==hw){o>a?i.acceptToken(e,-a):i.acceptToken(n,-(a-2));break}else if((i.next==10||i.next==13)&&o){i.acceptToken(e,1);break}else s=a=0;i.advance()}})}const Ixe=iR("script",txe,nxe),Dxe=iR("style",rxe,ixe),Qxe=iR("textarea",sxe,axe),Nxe=tp({"Text RawText IncompleteTag IncompleteCloseTag":re.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":re.angleBracket,TagName:re.tagName,"MismatchedCloseTag/TagName":[re.tagName,re.invalid],AttributeName:re.attributeName,"AttributeValue UnquotedAttributeValue":re.attributeValue,Is:re.definitionOperator,"EntityReference CharacterReference":re.character,Comment:re.blockComment,ProcessingInst:re.processingInstruction,DoctypeDecl:re.documentMeta}),Lxe=Qd.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:Cxe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[Nxe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Ixe,Dxe,Qxe,Mxe,Pxe,Rxe,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function o8(t,e){let n=Object.create(null);for(let r of t.getChildren(i8)){let i=r.getChild(pxe),s=r.getChild(OA)||r.getChild(s8);i&&(n[e.read(i.from,i.to)]=s?s.type.id==OA?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function R9(t,e){let n=t.getChild(dxe);return n?e.read(n.from,n.to):" "}function Gk(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=o8(t.node.parent.firstChild,e))))return{parser:i.parser,bracketed:!0};return null}function l8(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let o of t)(o.tag=="script"?n:o.tag=="style"?r:o.tag=="textarea"?i:s).push(o);let a=e.length?Object.create(null):null;for(let o of e)(a[o.name]||(a[o.name]=[])).push(o);return yV((o,u)=>{let f=o.type.id;if(f==mxe)return Gk(o,u,n);if(f==gxe)return Gk(o,u,r);if(f==Oxe)return Gk(o,u,i);if(f==r8&&s.length){let h=o.node,d=h.firstChild,m=d&&R9(d,u),O;if(m){for(let y of s)if(y.tag==m&&(!y.attrs||y.attrs(O||(O=o8(d,u))))){let v=h.lastChild,w=v.type.id==vxe?v.from:h.to;if(w>d.to)return{parser:y.parser,overlay:[{from:d.to,to:w}]}}}}if(a&&f==i8){let h=o.node,d;if(d=h.firstChild){let m=a[u.read(d.from,d.to)];if(m)for(let O of m){if(O.tagName&&O.tagName!=R9(h.parent,u))continue;let y=h.lastChild;if(y.type.id==OA){let v=y.from+1,w=y.lastChild,k=y.to-(w&&w.isError?0:1);if(k>v)return{parser:O.parser,overlay:[{from:v,to:k}],bracketed:!0}}else if(y.type.id==s8)return{parser:O.parser,overlay:[{from:y.from,to:y.to}]}}}}return null})}const jxe=122,$9=1,Bxe=123,zxe=124,u8=2,Zxe=125,Uxe=3,qxe=4,c8=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Vxe=58,Xxe=40,f8=95,Fxe=91,Yb=45,Yxe=46,Wxe=35,Gxe=37,Kxe=38,Hxe=92,Jxe=10,eke=42;function zg(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function sR(t){return t>=48&&t<=57}function M9(t){return sR(t)||t>=97&&t<=102||t>=65&&t<=70}const h8=(t,e,n)=>(r,i)=>{for(let s=!1,a=0,o=0;;o++){let{next:u}=r;if(zg(u)||u==Yb||u==f8||s&&sR(u))!s&&(u!=Yb||o>0)&&(s=!0),a===o&&u==Yb&&a++,r.advance();else if(u==Hxe&&r.peek(1)!=Jxe){if(r.advance(),M9(r.next)){do r.advance();while(M9(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(a==2&&i.canShift(u8)?e:u==Xxe?n:t);break}}},tke=new sa(h8(Bxe,u8,zxe)),nke=new sa(h8(Zxe,Uxe,qxe)),rke=new sa(t=>{if(c8.includes(t.peek(-1))){let{next:e}=t;(zg(e)||e==f8||e==Wxe||e==Yxe||e==eke||e==Fxe||e==Vxe&&zg(t.peek(1))||e==Yb||e==Kxe)&&t.acceptToken(jxe)}}),ike=new sa(t=>{if(!c8.includes(t.peek(-1))){let{next:e}=t;if(e==Gxe&&(t.advance(),t.acceptToken($9)),zg(e)){do t.advance();while(zg(t.next)||sR(t.next));t.acceptToken($9)}}}),ske=tp({"AtKeyword import charset namespace keyframes media supports":re.definitionKeyword,"from to selector":re.keyword,NamespaceName:re.namespace,KeyframeName:re.labelName,KeyframeRangeName:re.operatorKeyword,TagName:re.tagName,ClassName:re.className,PseudoClassName:re.constant(re.className),IdName:re.labelName,"FeatureName PropertyName":re.propertyName,AttributeName:re.attributeName,NumberLiteral:re.number,KeywordQuery:re.keyword,UnaryQueryOp:re.operatorKeyword,"CallTag ValueName":re.atom,VariableName:re.variableName,Callee:re.operatorKeyword,Unit:re.unit,"UniversalSelector NestingSelector":re.definitionOperator,"MatchOp CompareOp":re.compareOperator,"ChildOp SiblingOp, LogicOp":re.logicOperator,BinOp:re.arithmeticOperator,Important:re.modifier,Comment:re.blockComment,ColorLiteral:re.color,"ParenthesizedContent StringLiteral":re.string,":":re.punctuation,"PseudoOp #":re.derefOperator,"; ,":re.separator,"( )":re.paren,"[ ]":re.squareBracket,"{ }":re.brace}),ake={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},oke={__proto__:null,or:98,and:98,not:106,only:106,layer:170},lke={__proto__:null,selector:112,layer:166},uke={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},cke={__proto__:null,to:207},fke=Qd.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[ske],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[rke,ike,tke,nke,1,2,3,4,new fw("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},dynamicPrecedences:{76:1},specialized:[{term:124,get:t=>ake[t]||-1},{term:125,get:t=>oke[t]||-1},{term:4,get:t=>lke[t]||-1},{term:25,get:t=>uke[t]||-1},{term:123,get:t=>cke[t]||-1}],tokenPrec:1963});let Kk=null;function Hk(){if(!Kk&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));Kk=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return Kk||[]}const I9=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),D9=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),hke=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),dke=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),dl=/^(\w[\w-]*|-\w[\w-]*|)$/,pke=/^-(-[\w-]*)?$/;function mke(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const Q9=new OV,gke=["Declaration"];function Oke(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function d8(t,e,n){if(e.to-e.from>4096){let r=Q9.get(e);if(r)return r;let i=[],s=new Set,a=e.cursor(fn.IncludeAnonymous);if(a.firstChild())do for(let o of d8(t,a.node,n))s.has(o.label)||(s.add(o.label),i.push(o));while(a.nextSibling());return Q9.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var a;if(n(s)&&s.matchContext(gke)&&((a=s.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let o=t.sliceString(s.from,s.to);i.has(o)||(i.add(o),r.push({label:o,type:"variable"}))}}),r}}const yke=t=>e=>{let{state:n,pos:r}=e,i=ts(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Hk(),validFor:dl};if(i.name=="ValueName")return{from:i.from,options:D9,validFor:dl};if(i.name=="PseudoClassName")return{from:i.from,options:I9,validFor:dl};if(t(i)||(e.explicit||s)&&mke(i,n.doc))return{from:t(i)||s?i.from:r,options:d8(n.doc,Oke(i),t),validFor:pke};if(i.name=="TagName"){for(let{parent:u}=i;u;u=u.parent)if(u.name=="Block")return{from:i.from,options:Hk(),validFor:dl};return{from:i.from,options:hke,validFor:dl}}if(i.name=="AtKeyword")return{from:i.from,options:dke,validFor:dl};if(!e.explicit)return null;let a=i.resolve(r),o=a.childBefore(r);return o&&o.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:I9,validFor:dl}:o&&o.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:D9,validFor:dl}:a.name=="Block"||a.name=="Styles"?{from:r,options:Hk(),validFor:dl}:null},vke=yke(t=>t.name=="VariableName"),dw=$d.define({name:"css",parser:fke.configure({props:[sS.add({Declaration:Xb()}),kO.add({"Block KeyframeList":_V})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function bke(){return new Qg(dw,dw.data.of({autocomplete:vke}))}const _ke=316,wke=317,N9=1,Ske=2,xke=3,kke=4,Tke=318,Eke=320,Ake=321,Cke=5,Pke=6,Rke=0,vA=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],p8=125,$ke=59,bA=47,Mke=42,Ike=43,Dke=45,Qke=60,Nke=44,Lke=63,jke=46,Bke=91,zke=new HV({start:!1,shift(t,e){return e==Cke||e==Pke||e==Eke?t:e==Ake},strict:!1}),Zke=new sa((t,e)=>{let{next:n}=t;(n==p8||n==-1||e.context)&&t.acceptToken(Tke)},{contextual:!0,fallback:!0}),Uke=new sa((t,e)=>{let{next:n}=t,r;vA.indexOf(n)>-1||n==bA&&((r=t.peek(1))==bA||r==Mke)||n!=p8&&n!=$ke&&n!=-1&&!e.context&&t.acceptToken(_ke)},{contextual:!0}),qke=new sa((t,e)=>{t.next==Bke&&!e.context&&t.acceptToken(wke)},{contextual:!0}),Vke=new sa((t,e)=>{let{next:n}=t;if(n==Ike||n==Dke){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(N9);t.acceptToken(r?N9:Ske)}}else n==Lke&&t.peek(1)==jke&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(xke))},{contextual:!0});function Jk(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const Xke=new sa((t,e)=>{if(t.next!=Qke||!e.dialectEnabled(Rke)||(t.advance(),t.next==bA))return;let n=0;for(;vA.indexOf(t.next)>-1;)t.advance(),n++;if(Jk(t.next,!0)){for(t.advance(),n++;Jk(t.next,!1);)t.advance(),n++;for(;vA.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==Nke)return;for(let r=0;;r++){if(r==7){if(!Jk(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(kke,-n)}),Fke=tp({"get set async static":re.modifier,"for while do if else switch try catch finally return throw break continue default case defer":re.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":re.operatorKeyword,"let var const using function class extends":re.definitionKeyword,"import export from":re.moduleKeyword,"with debugger new":re.keyword,TemplateString:re.special(re.string),super:re.atom,BooleanLiteral:re.bool,this:re.self,null:re.null,Star:re.modifier,VariableName:re.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":re.function(re.variableName),VariableDefinition:re.definition(re.variableName),Label:re.labelName,PropertyName:re.propertyName,PrivatePropertyName:re.special(re.propertyName),"CallExpression/MemberExpression/PropertyName":re.function(re.propertyName),"FunctionDeclaration/VariableDefinition":re.function(re.definition(re.variableName)),"ClassDeclaration/VariableDefinition":re.definition(re.className),"NewExpression/VariableName":re.className,PropertyDefinition:re.definition(re.propertyName),PrivatePropertyDefinition:re.definition(re.special(re.propertyName)),UpdateOp:re.updateOperator,"LineComment Hashbang":re.lineComment,BlockComment:re.blockComment,Number:re.number,String:re.string,Escape:re.escape,ArithOp:re.arithmeticOperator,LogicOp:re.logicOperator,BitOp:re.bitwiseOperator,CompareOp:re.compareOperator,RegExp:re.regexp,Equals:re.definitionOperator,Arrow:re.function(re.punctuation),": Spread":re.punctuation,"( )":re.paren,"[ ]":re.squareBracket,"{ }":re.brace,"InterpolationStart InterpolationEnd":re.special(re.brace),".":re.derefOperator,", ;":re.separator,"@":re.meta,TypeName:re.typeName,TypeDefinition:re.definition(re.typeName),"type enum interface implements namespace module declare":re.definitionKeyword,"abstract global Privacy readonly override":re.modifier,"is keyof unique infer asserts":re.operatorKeyword,JSXAttributeValue:re.attributeValue,JSXText:re.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":re.angleBracket,"JSXIdentifier JSXNameSpacedName":re.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":re.attributeName,"JSXBuiltin/JSXIdentifier":re.standard(re.tagName)}),Yke={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},Wke={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},Gke={__proto__:null,"<":193},Kke=Qd.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:zke,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[Fke],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Uke,qke,Vke,Xke,2,3,4,5,6,7,8,9,10,11,12,13,14,Zke,new fw("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new fw("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>Yke[t]||-1},{term:343,get:t=>Wke[t]||-1},{term:95,get:t=>Gke[t]||-1}],tokenPrec:15201}),m8=[bs("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),bs("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),bs("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),bs("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),bs("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),bs(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),bs("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),bs(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),bs(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),bs('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),bs('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Hke=m8.concat([bs("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),bs("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),bs("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),L9=new OV,g8=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function dm(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const Jke=["FunctionDeclaration"],eTe={FunctionDeclaration:dm("function"),ClassDeclaration:dm("class"),ClassExpression:()=>!0,EnumDeclaration:dm("constant"),TypeAliasDeclaration:dm("type"),NamespaceDeclaration:dm("namespace"),VariableDefinition(t,e){t.matchContext(Jke)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function O8(t,e){let n=L9.get(e);if(n)return n;let r=[],i=!0;function s(a,o){let u=t.sliceString(a.from,a.to);r.push({label:u,type:o})}return e.cursor(fn.IncludeAnonymous).iterate(a=>{if(i)i=!1;else if(a.name){let o=eTe[a.name];if(o&&o(a,s)||g8.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of O8(t,a.node))r.push(o);return!1}}),L9.set(e,r),r}const j9=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,y8=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function tTe(t){let e=ts(t.state).resolveInner(t.pos,-1);if(y8.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&j9.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)g8.has(i.name)&&(r=r.concat(O8(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:j9}}const jo=$d.define({name:"javascript",parser:Kke.configure({props:[sS.add({IfStatement:Xb({except:/^\s*({|else\b)/}),TryStatement:Xb({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:CSe,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:ESe({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Xb({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),kO.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":_V,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),v8={test:t=>/^JSX/.test(t.name),facet:UP({commentTokens:{block:{open:"{/*",close:"*/}"}}})},b8=jo.configure({dialect:"ts"},"typescript"),_8=jo.configure({dialect:"jsx",props:[qP.add(t=>t.isTop?[v8]:void 0)]}),w8=jo.configure({dialect:"jsx ts",props:[qP.add(t=>t.isTop?[v8]:void 0)]},"typescript");let S8=t=>({label:t,type:"keyword"});const x8="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(S8),nTe=x8.concat(["declare","implements","private","protected","public"].map(S8));function rTe(t={}){let e=t.jsx?t.typescript?w8:_8:t.typescript?b8:jo,n=t.typescript?Hke.concat(nTe):m8.concat(x8);return new Qg(e,[jo.data.of({autocomplete:QSe(y8,wV(n))}),jo.data.of({autocomplete:tTe}),t.jsx?aTe:[]])}function iTe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function B9(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const sTe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),aTe=$t.inputHandler.of((t,e,n,r,i)=>{if((sTe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!jo.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:a}=s,o=a.changeByRange(u=>{var f;let{head:h}=u,d=ts(a).resolveInner(h-1,-1),m;if(d.name=="JSXStartTag"&&(d=d.parent),!(a.doc.sliceString(h-1,h)!=r||d.name=="JSXAttributeValue"&&d.to>h)){if(r==">"&&d.name=="JSXFragmentTag")return{range:u,changes:{from:h,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let O=d.parent,y=O.parent;if(y&&O.from==h-2&&((m=B9(a.doc,y.firstChild,h))||((f=y.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let v=`${m}>`;return{range:rt.cursor(h+v.length,-1),changes:{from:h,insert:v}}}}else if(r==">"){let O=iTe(d);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(h,h+2))&&(m=B9(a.doc,O,h)))return{range:u,changes:{from:h,insert:`</${m}>`}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),pm=["_blank","_self","_top","_parent"],eT=["ascii","utf-8","utf-16","latin1","latin1"],tT=["get","post","put","delete"],nT=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],zs=["true","false"],gt={},oTe={a:{attrs:{href:null,ping:null,type:null,media:null,target:pm,hreflang:null}},abbr:gt,address:gt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:gt,aside:gt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:gt,base:{attrs:{href:null,target:pm}},bdi:gt,bdo:gt,blockquote:{attrs:{cite:null}},body:gt,br:gt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:nT,formmethod:tT,formnovalidate:["novalidate"],formtarget:pm,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:gt,center:gt,cite:gt,code:gt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:gt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:gt,div:gt,dl:gt,dt:gt,em:gt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:gt,figure:gt,footer:gt,form:{attrs:{action:null,name:null,"accept-charset":eT,autocomplete:["on","off"],enctype:nT,method:tT,novalidate:["novalidate"],target:pm}},h1:gt,h2:gt,h3:gt,h4:gt,h5:gt,h6:gt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:gt,hgroup:gt,hr:gt,html:{attrs:{manifest:null}},i:gt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:nT,formmethod:tT,formnovalidate:["novalidate"],formtarget:pm,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:gt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:gt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:gt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:eT,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:gt,noscript:gt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:gt,param:{attrs:{name:null,value:null}},pre:gt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:gt,rt:gt,ruby:gt,samp:gt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:eT}},section:gt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:gt,source:{attrs:{src:null,type:null,media:null}},span:gt,strong:gt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:gt,summary:gt,sup:gt,table:gt,tbody:gt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:gt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:gt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:gt,time:{attrs:{datetime:null}},title:gt,tr:gt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:gt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:gt},k8={accesskey:null,class:null,contenteditable:zs,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:zs,autocorrect:zs,autocapitalize:zs,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":zs,"aria-autocomplete":["inline","list","both","none"],"aria-busy":zs,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":zs,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":zs,"aria-hidden":zs,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":zs,"aria-multiselectable":zs,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":zs,"aria-relevant":null,"aria-required":zs,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},T8="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of T8)k8[t]=null;let Zg=class{constructor(e,n){this.tags={...oTe,...e},this.globalAttrs={...k8,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};Zg.default=new Zg;function Nd(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function Ld(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function E8(t,e,n){let r=n.tags[Nd(t,Ld(e))];return r?.children||n.allTags}function aR(t,e){let n=[];for(let r=Ld(e);r&&!r.type.isTop;r=Ld(r.parent)){let i=Nd(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const A8=/^[:\-\.\w\u00b7-\uffff]*$/;function z9(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",a=Ld(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:i,options:E8(t.doc,a,e).map(o=>({label:o,type:"type"})).concat(aR(t.doc,n).map((o,u)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Z9(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:aR(t.doc,e).map((s,a)=>({label:s,apply:s+i,type:"type",boost:99-a})),validFor:A8}}function lTe(t,e,n,r){let i=[],s=0;for(let a of E8(t.doc,n,e))i.push({label:"<"+a,type:"type"});for(let a of aR(t.doc,n))i.push({label:"</"+a+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function uTe(t,e,n,r,i){let s=Ld(n),a=s?e.tags[Nd(t.doc,s)]:null,o=a&&a.attrs?Object.keys(a.attrs):[],u=a&&a.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:u.map(f=>({label:f,type:"property"})),validFor:A8}}function cTe(t,e,n,r,i){var s;let a=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],u;if(a){let f=t.sliceDoc(a.from,a.to),h=e.globalAttrs[f];if(!h){let d=Ld(n),m=d?e.tags[Nd(t.doc,d)]:null;h=m?.attrs&&m.attrs[f]}if(h){let d=t.sliceDoc(r,i).toLowerCase(),m='"',O='"';/^['"]/.test(d)?(u=d[0]=='"'?/^[^"]*$/:/^[^']*$/,m="",O=t.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):u=/^[^\s<>='"]*$/;for(let y of h)o.push({label:y,apply:m+y+O,type:"constant"})}}return{from:r,to:i,options:o,validFor:u}}function C8(t,e){let{state:n,pos:r}=e,i=ts(n).resolveInner(r,-1),s=i.resolve(r);for(let a=r,o;s==i&&(o=i.childBefore(a));){let u=o.lastChild;if(!u||!u.type.isError||u.from<u.to)break;s=i=o,a=u.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?Z9(n,i,i.from,r):z9(n,t,i,i.from,r):i.name=="StartTag"||i.name=="IncompleteTag"?z9(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?Z9(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?uTe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?cTe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?lTe(n,t,i,r):null}function fTe(t){return C8(Zg.default,t)}function hTe(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Zg(e,n):Zg.default;return i=>C8(r,i)}const dTe=jo.parser.configure({top:"SingleExpression"}),P8=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:b8.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:_8.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:w8.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:dTe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:jo.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:dw.parser}],R8=[{name:"style",parser:dw.parser.configure({top:"Styles"})}].concat(T8.map(t=>({name:t,parser:jo.parser}))),$8=$d.define({name:"html",parser:Lxe.configure({props:[sS.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),kO.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),RSe.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),Wb=$8.configure({wrap:l8(P8,R8)});function pTe(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=l8((t.nestedLanguages||[]).concat(P8),(t.nestedAttributes||[]).concat(R8)));let r=n?$8.configure({wrap:n,dialect:e}):e?Wb.configure({dialect:e}):Wb;return new Qg(r,[Wb.data.of({autocomplete:hTe(t)}),t.autoCloseTags!==!1?mTe:[],rTe().support,bke().support])}const U9=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),mTe=$t.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Wb.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:a}=s,o=a.changeByRange(u=>{var f,h,d;let m=a.doc.sliceString(u.from-1,u.to)==r,{head:O}=u,y=ts(a).resolveInner(O,-1),v;if(m&&r==">"&&y.name=="EndTag"){let w=y.parent;if(((h=(f=w.parent)===null||f===void 0?void 0:f.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(v=Nd(a.doc,w.parent,O))&&!U9.has(v)){let k=O+(a.doc.sliceString(O,O+1)===">"?1:0),T=`</${v}>`;return{range:u,changes:{from:O,to:k,insert:T}}}}else if(m&&r=="/"&&y.name=="IncompleteCloseTag"){let w=y.parent;if(y.from==O-2&&((d=w.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=Nd(a.doc,w,O))&&!U9.has(v)){let k=O+(a.doc.sliceString(O,O+1)===">"?1:0),T=`${v}>`;return{range:rt.cursor(O+T.length,-1),changes:{from:O,to:k,insert:T}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),M8=UP({commentTokens:{block:{open:"<!--",close:"-->"}}}),I8=new qt,D8=$1e.configure({props:[kO.add(t=>!t.is("Block")||t.is("Document")||_A(t)!=null||gTe(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),I8.add(_A),sS.add({Document:()=>null}),qh.add({Document:M8})]});function _A(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function gTe(t){return t.name=="OrderedList"||t.name=="BulletList"}function OTe(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=_A(r.type))!=null&&i<=e)break;n=r}return n.to}const yTe=PSe.of((t,e,n)=>{for(let r=ts(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(I8);if(i==null)continue;let s=OTe(r,i);if(s>n)return{from:n,to:s}}return null});function oR(t){return new Wa(M8,t,[],"markdown")}const vTe=oR(D8),bTe=D8.configure([U1e,V1e,q1e,X1e,{props:[kO.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),pw=oR(bTe);function _Te(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=iw.matchLanguageName(t,n,!0),r instanceof iw)return r.support?r.support.language.parser:Dg.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class rT{constructor(e,n,r,i,s,a,o){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=a,this.item=o}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+N8(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function Q8(t,e){let n=[],r=[];for(let i=t;i;i=i.parent){if(i.name=="FencedCode")return r;(i.name=="ListItem"||i.name=="Blockquote")&&n.push(i)}for(let i=n.length-1;i>=0;i--){let s=n[i],a,o=e.lineAt(s.from),u=s.from-o.from;if(s.name=="Blockquote"&&(a=/^ *>( ?)/.exec(o.text.slice(u))))r.push(new rT(s,u,u+a[0].length,"",a[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(o.text.slice(u)))){let f=a[3],h=a[0].length;f.length>=4&&(f=f.slice(0,f.length-4),h-=4),r.push(new rT(s.parent,u,u+h,a[1],f,a[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(u)))){let f=a[4],h=a[0].length;f.length>4&&(f=f.slice(0,f.length-4),h-=4);let d=a[2];a[3]&&(d+=a[3].replace(/[xX]/," ")),r.push(new rT(s.parent,u,u+h,a[1],f,d,s))}}return r}function N8(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function iT(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let o=N8(s,e),u=+o[2];if(i>=0){if(u!=i+1)return;n.push({from:s.from+o[1].length,to:s.from+o[0].length,insert:String(i+2+r)})}i=u}let a=s.nextSibling;if(!a)break;s=a}}function lR(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(bV)!="	")return t;let r=Ag(t,4,n),i="";for(let s=r;s>0;)s>=4?(i+="	",s-=4):(i+=" ",s--);return i+t.slice(n)}const wTe=(t={})=>({state:e,dispatch:n})=>{let r=ts(e),{doc:i}=e,s=null,a=e.changeByRange(o=>{if(!o.empty||!pw.isActiveAt(e,o.from,-1)&&!pw.isActiveAt(e,o.from,1))return s={range:o};let u=o.from,f=i.lineAt(u),h=Q8(r.resolveInner(u,-1),i);for(;h.length&&h[h.length-1].from>u-f.from;)h.pop();if(!h.length)return s={range:o};let d=h[h.length-1];if(d.to-d.spaceAfter.length>u-f.from)return s={range:o};let m=u>=d.to-d.spaceAfter.length&&!/\S/.test(f.text.slice(d.to));if(d.item&&m){let k=d.node.firstChild,T=d.node.getChild("ListItem","ListItem");if(k.to>=u||T&&T.to<u||f.from>0&&!/[^\s>]/.test(i.lineAt(f.from-1).text)||t.nonTightLists===!1){let A=h.length>1?h[h.length-2]:null,C,I="";A&&A.item?(C=f.from+A.from,I=A.marker(i,1)):C=f.from+(A?A.to:0);let Q=[{from:C,to:u,insert:I}];return d.node.name=="OrderedList"&&iT(d.item,i,Q,-2),A&&A.node.name=="OrderedList"&&iT(A.item,i,Q),{range:rt.cursor(C+I.length),changes:Q}}else{let A=V9(h,e,f);return{range:rt.cursor(u+A.length+1),changes:{from:f.from,insert:A+e.lineBreak}}}}if(d.node.name=="Blockquote"&&m&&f.from){let k=i.lineAt(f.from-1),T=/>\s*$/.exec(k.text);if(T&&T.index==d.from){let A=e.changes([{from:k.from+T.index,to:k.to},{from:f.from+d.from,to:f.to}]);return{range:o.map(A),changes:A}}}let O=[];d.node.name=="OrderedList"&&iT(d.item,i,O);let y=d.item&&d.item.from<f.from,v="";if(!y||/^[\s\d.)\-+*>]*/.exec(f.text)[0].length>=d.to)for(let k=0,T=h.length-1;k<=T;k++)v+=k==T&&!y?h[k].marker(i,1):h[k].blank(k<T?Ag(f.text,4,h[k+1].from)-v.length:null);let w=u;for(;w>f.from&&/\s/.test(f.text.charAt(w-f.from-1));)w--;return v=lR(v,e),xTe(d.node,e.doc)&&(v=V9(h,e,f)+e.lineBreak+v),O.push({from:w,to:u,insert:e.lineBreak+v}),{range:rt.cursor(w+v.length+1),changes:O}});return s?!1:(n(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)},STe=wTe();function q9(t){return t.name=="QuoteMark"||t.name=="ListMark"}function xTe(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),s=e.lineAt(r.from),a=/^[\s>]*$/.test(i.text);return i.number+(a?0:1)<s.number}function V9(t,e,n){let r="";for(let i=0,s=t.length-2;i<=s;i++)r+=t[i].blank(i<s?Ag(n.text,4,t[i+1].from)-r.length:null,i<s);return lR(r,e)}function kTe(t,e){let n=t.resolveInner(e,-1),r=e;q9(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(q9(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const TTe=({state:t,dispatch:e})=>{let n=ts(t),r=null,i=t.changeByRange(s=>{let a=s.from,{doc:o}=t;if(s.empty&&pw.isActiveAt(t,s.from)){let u=o.lineAt(a),f=Q8(kTe(n,a),o);if(f.length){let h=f[f.length-1],d=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(a-u.from>d&&!/\S/.test(u.text.slice(d,a-u.from)))return{range:rt.cursor(u.from+d),changes:{from:u.from+d,to:a}};if(a-u.from==d&&(!h.item||u.from<=h.item.from||!/\S/.test(u.text.slice(0,h.to)))){let m=u.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(u.text.slice(h.from,h.to))){let O=h.blank(Ag(u.text,4,h.to)-Ag(u.text,4,h.from));return m==u.from&&(O=lR(O,t)),{range:rt.cursor(m+O.length),changes:{from:m,to:u.from+h.to,insert:O}}}if(m<a)return{range:rt.cursor(m),changes:{from:m,to:a}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},ETe=[{key:"Enter",run:STe},{key:"Backspace",run:TTe}],L8=pTe({matchClosingTags:!1});function ATe(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=vTe,completeHTMLTags:s=!0,pasteURLAsLink:a=!0,htmlTagLanguage:o=L8}=t;if(!(i instanceof aS))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let u=t.extensions?[t.extensions]:[],f=[o.support,yTe],h;a&&f.push($Te),n instanceof Qg?(f.push(n.support),h=n.language):n&&(h=n);let d=e||h?_Te(e,h):void 0;u.push(I1e({codeParser:d,htmlParser:o.language.parser})),r&&f.push(Jd.high(SO.of(ETe)));let m=oR(i.configure(u));return s&&f.push(m.data.of({autocomplete:CTe})),new Qg(m,f)}function CTe(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=ts(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:PTe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let sT=null;function PTe(){if(sT)return sT;let t=fTe(new VP(cn.create({extensions:L8}),0,!0));return sT=t?t.options:[]}const RTe=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,$Te=$t.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let i=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!i||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(i)||(/^www\./.test(i)&&(i="https://"+i),!pw.isActiveAt(e.state,r.from,1)))return!1;let s=ts(e.state),a=!1;return s.iterate({from:r.from,to:r.to,enter:o=>{(o.from>r.from||RTe.test(o.name))&&(a=!0)},leave:o=>{o.to<r.to&&(a=!0)}}),a?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${i})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),MTe="_editor_15cwt_1",ITe={editor:MTe};function DTe(t){return t.map(e=>({title:e.title,normalized:e.title.toLowerCase()}))}function QTe(t,e){const n=e.trim().toLowerCase();return n?t.map(r=>({entry:r,score:r.normalized.indexOf(n)})).filter(({score:r})=>r!==-1).sort((r,i)=>r.score-i.score).map(({entry:r})=>r):t}function NTe(t){return e=>{const n=e.matchBefore(/\[\[[^\]]*$/);if(!n)return null;const r=n.text.slice(2),i=QTe(t.current,r);return{from:n.from+2,options:i.map(s=>({label:s.title,apply:`${s.title}]]`,type:"text"})),validFor:/^[^\]]*$/}}}function LTe(t){return e=>{const n=e.matchBefore(/#[\w/-]*$/);if(!n)return null;const r=e.state.doc.lineAt(n.from).text;if(/^#{1,6}\s/.test(r))return null;const i=n.text.slice(1).toLowerCase(),s=t.filter(a=>a.toLowerCase().includes(i)).sort((a,o)=>{const u=a.toLowerCase().startsWith(i)?0:1,f=o.toLowerCase().startsWith(i)?0:1;return u!==f?u-f:a.localeCompare(o)});return{from:n.from,options:s.map(a=>({label:`#${a}`,apply:`#${a}`,type:"keyword"})),validFor:/^#[\w/-]*$/}}}function jTe({initialContent:t,content:e,onChange:n,onBlur:r,onSaveVersion:i,placeholderText:s="Start writing...",autoFocus:a=!0,db:o=null}){const u=$.useRef(null),f=$.useRef(null),h=$.useRef(n),d=$.useRef(r),m=$.useRef(i),O=$.useRef(o),y=$.useRef([]),v=$.useRef([]);$.useEffect(()=>{h.current=n},[n]),$.useEffect(()=>{d.current=r},[r]),$.useEffect(()=>{m.current=i},[i]),$.useEffect(()=>{O.current=o},[o]),$.useEffect(()=>{if(!o)return;const k=o.notes.find({selector:{is_trashed:!1}}).$.subscribe(T=>{const A=T.map(Q=>Q.toJSON());y.current=DTe(A.map(Q=>({title:Q.title})));const C=new Set;for(const Q of A){for(const j of Q.properties?.tags??[])C.add(j);const N=(Q.content??"").matchAll(/#([\w/-]+)/g);for(const j of N)C.add(j[1])}const I=Array.from(C).sort();v.current.splice(0,v.current.length,...I)});return()=>k.unsubscribe()},[o]),$.useEffect(()=>{if(!u.current)return;const k=$t.updateListener.of(Q=>{Q.docChanged&&h.current(Q.state.doc.toString())}),T=$t.domEventHandlers({blur:()=>(d.current?.(),!1)}),A=SO.of([{key:"Mod-s",run:()=>(m.current?.(),!0),preventDefault:!0}]),C=cn.create({doc:t,extensions:[A,ATe(),y1e({override:[NTe(y),LTe(v.current)]}),eSe(s),$t.contentAttributes.of({spellcheck:"true",autocorrect:"on",autocapitalize:"sentences"}),k,T,$t.theme({"&":{height:"100%"},".cm-content":{fontFamily:"var(--font-atten), ui-sans-serif, system-ui, sans-serif",fontSize:"16px",padding:"0 20px",paddingTop:"calc(64px + env(safe-area-inset-top))",paddingBottom:"calc(32px + env(safe-area-inset-bottom))",lineHeight:"normal",caretColor:"var(--color-ink-900)"},".cm-line":{padding:"0"},".cm-cursor":{borderLeftColor:"var(--color-ink-900)",borderLeftWidth:"2px"},".cm-selectionBackground":{backgroundColor:"var(--color-highlight) !important"},"&.cm-focused .cm-selectionBackground":{backgroundColor:"var(--color-highlight) !important"},".cm-placeholder":{color:"var(--color-ink-300)",fontStyle:"italic"},".cm-scroller":{overflow:"auto"},"&.cm-focused":{outline:"none"}})]}),I=new $t({state:C,parent:u.current});return f.current=I,I.scrollDOM.setAttribute("data-scroll-lock-scrollable",""),a&&requestAnimationFrame(()=>I.focus()),()=>{I.destroy(),f.current=null}},[]);const w=$.useCallback(k=>{const T=f.current;!T||T.state.doc.toString()===k||T.dispatch({changes:{from:0,to:T.state.doc.length,insert:k}})},[]);return $.useEffect(()=>{e!==void 0&&w(e)},[e,w]),M.jsx("div",{ref:u,className:ITe.editor})}const BTe=1800*1e3,j8=new Map;function zTe(t){const e=Date.now(),n=j8.get(t)??0;return e-n>BTe}function B8(t){j8.set(t,Date.now())}async function ZTe(t,e){const n=await t.note_versions.find({selector:{note_id:e,is_trashed:!1},sort:[{version_number:"desc"}],limit:1}).exec();return n.length===0?1:n[0].version_number+1}async function wA(t,e,n,r,i,s){const a=await ZTe(t,e),o=new Date().toISOString(),u=await t.note_versions.insert({id:_l(),note_id:e,content:n,properties:r,version_number:a,created_by:i,change_summary:s??null,created_at:o,updated_at:o,is_trashed:!1,trashed_at:null});return B8(e),u.toJSON()}async function UTe(t,e){return(await t.note_versions.find({selector:{note_id:e,is_trashed:!1},sort:[{created_at:"desc"}]}).exec()).map(r=>r.toJSON())}async function qTe(t,e){const n=await t.note_versions.findOne(e).exec();if(!n)return!1;const r=n.toJSON(),i=await t.notes.findOne(r.note_id).exec();if(!i)return!1;const s=i.toJSON();await wA(t,r.note_id,s.content,s.properties,"auto","Before restore");const a=new Date().toISOString();return await i.patch({content:r.content,properties:r.properties,updated_at:a}),!0}const VTe="_sheet_1dhji_1",XTe="_header_1dhji_16",FTe="_title_1dhji_23",YTe="_close_1dhji_28",WTe="_icon_1dhji_45",GTe="_list_1dhji_51",KTe="_item_1dhji_59",HTe="_indicator_1dhji_87",JTe="_itemContent_1dhji_99",eEe="_itemHeader_1dhji_107",tEe="_badge_1dhji_113",nEe="_summary_1dhji_124",rEe="_itemTime_1dhji_130",iEe="_chevron_1dhji_135",sEe="_empty_1dhji_143",aEe="_preview_1dhji_150",oEe="_compare_1dhji_151",lEe="_previewHeader_1dhji_159",uEe="_backButton_1dhji_166",cEe="_backIcon_1dhji_188",fEe="_previewTitle_1dhji_193",hEe="_previewContent_1dhji_197",dEe="_previewText_1dhji_206",pEe="_previewActions_1dhji_216",mEe="_secondaryButton_1dhji_222",gEe="_primaryButton_1dhji_243",OEe="_compareColumns_1dhji_266",yEe="_compareColumn_1dhji_266",vEe="_compareHeader_1dhji_283",bEe="_compareText_1dhji_292",Bt={sheet:VTe,header:XTe,title:FTe,close:YTe,icon:WTe,list:GTe,item:KTe,indicator:HTe,itemContent:JTe,itemHeader:eEe,badge:tEe,summary:nEe,itemTime:rEe,chevron:iEe,empty:sEe,preview:aEe,compare:oEe,previewHeader:lEe,backButton:uEe,backIcon:cEe,previewTitle:fEe,previewContent:hEe,previewText:dEe,previewActions:pEe,secondaryButton:mEe,primaryButton:gEe,compareColumns:OEe,compareColumn:yEe,compareHeader:vEe,compareText:bEe};function _Ee({open:t,onOpenChange:e,noteId:n,db:r,onRestore:i}){const[s,a]=$.useState([]),[o,u]=$.useState(null),[f,h]=$.useState(""),[d,m]=$.useState("list"),[O,y]=$.useState(!1);$.useEffect(()=>{if(!t||!r||!n)return;(async()=>{const[N,j]=await Promise.all([UTe(r,n),r.notes.findOne(n).exec()]);a(N),h(j?.content??"")})()},[t,r,n]),$.useEffect(()=>{t||(u(null),m("list"))},[t]);const v=$.useCallback(Q=>{u(Q),m("preview")},[]),w=$.useCallback(()=>{u(null),m("list")},[]),k=$.useCallback(()=>{m("compare")},[]),T=$.useCallback(async()=>{if(!(!r||!o||!window.confirm(`Restore to version ${o.version_number}?

Your current content will be saved as a new version.`))){y(!0);try{await qTe(r,o.id)&&(i?.(),e(!1))}finally{y(!1)}}},[r,o,i,e]),A=()=>M.jsxs("div",{className:Bt.list,children:[M.jsxs("div",{className:Bt.item,"data-current":"true",children:[M.jsx("span",{className:Bt.indicator,children:""}),M.jsxs("div",{className:Bt.itemContent,children:[M.jsx("strong",{children:"Current"}),M.jsx("span",{className:Bt.itemTime,children:"Unsaved changes"})]})]}),s.map(Q=>M.jsxs("button",{type:"button",className:Bt.item,onClick:()=>v(Q),children:[M.jsx("span",{className:Bt.indicator,children:""}),M.jsxs("div",{className:Bt.itemContent,children:[M.jsxs("div",{className:Bt.itemHeader,children:[M.jsxs("strong",{children:["v",Q.version_number]}),Q.created_by==="manual"&&M.jsx("span",{className:Bt.badge,children:"Saved"})]}),Q.change_summary&&M.jsx("p",{className:Bt.summary,children:Q.change_summary}),M.jsx("span",{className:Bt.itemTime,children:_C(Q.created_at)})]}),M.jsx(SEe,{})]},Q.id)),s.length===0&&M.jsx("p",{className:Bt.empty,children:"No saved versions yet"})]}),C=()=>o?M.jsxs("div",{className:Bt.preview,children:[M.jsxs("div",{className:Bt.previewHeader,children:[M.jsxs("button",{type:"button",className:Bt.backButton,onClick:w,children:[M.jsx(X9,{}),"Back"]}),M.jsxs("span",{className:Bt.previewTitle,children:["Version ",o.version_number]})]}),M.jsx("div",{className:Bt.previewContent,children:M.jsx("pre",{className:Bt.previewText,children:o.content||"(empty)"})}),M.jsxs("div",{className:Bt.previewActions,children:[M.jsx("button",{type:"button",className:Bt.secondaryButton,onClick:k,children:"Compare"}),M.jsx("button",{type:"button",className:Bt.primaryButton,onClick:T,disabled:O,children:O?"Restoring...":"Restore"})]})]}):null,I=()=>o?M.jsxs("div",{className:Bt.compare,children:[M.jsxs("div",{className:Bt.previewHeader,children:[M.jsxs("button",{type:"button",className:Bt.backButton,onClick:()=>m("preview"),children:[M.jsx(X9,{}),"Back"]}),M.jsx("span",{className:Bt.previewTitle,children:"Compare"})]}),M.jsxs("div",{className:Bt.compareColumns,children:[M.jsxs("div",{className:Bt.compareColumn,children:[M.jsxs("div",{className:Bt.compareHeader,children:["Version ",o.version_number]}),M.jsx("pre",{className:Bt.compareText,children:o.content||"(empty)"})]}),M.jsxs("div",{className:Bt.compareColumn,children:[M.jsx("div",{className:Bt.compareHeader,children:"Current"}),M.jsx("pre",{className:Bt.compareText,children:f||"(empty)"})]})]}),M.jsx("div",{className:Bt.previewActions,children:M.jsx("button",{type:"button",className:Bt.primaryButton,onClick:T,disabled:O,children:O?"Restoring...":"Restore Version"})})]}):null;return M.jsx(PC,{open:t,onOpenChange:e,children:M.jsxs(Bw,{side:"bottom",className:Bt.sheet,"aria-label":"Version history",children:[M.jsxs("header",{className:Bt.header,children:[M.jsx(o4,{className:Bt.title,children:"Version History"}),M.jsx(s4,{asChild:!0,children:M.jsx("button",{type:"button",className:Bt.close,"aria-label":"Close version history",children:M.jsx(wEe,{})})})]}),d==="list"&&A(),d==="preview"&&C(),d==="compare"&&I()]})})}function wEe(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:Bt.icon,children:M.jsx("path",{d:"M6 6l12 12M18 6l-12 12"})})}function SEe(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:Bt.chevron,children:M.jsx("path",{d:"M9 18l6-6-6-6"})})}function X9(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:Bt.backIcon,children:M.jsx("path",{d:"M15 18l-6-6 6-6"})})}const uR=Symbol.for("yaml.alias"),SA=Symbol.for("yaml.document"),Bu=Symbol.for("yaml.map"),z8=Symbol.for("yaml.pair"),Uo=Symbol.for("yaml.scalar"),rp=Symbol.for("yaml.seq"),Ea=Symbol.for("yaml.node.type"),Sf=t=>!!t&&typeof t=="object"&&t[Ea]===uR,oS=t=>!!t&&typeof t=="object"&&t[Ea]===SA,ip=t=>!!t&&typeof t=="object"&&t[Ea]===Bu,Cr=t=>!!t&&typeof t=="object"&&t[Ea]===z8,Ln=t=>!!t&&typeof t=="object"&&t[Ea]===Uo,EO=t=>!!t&&typeof t=="object"&&t[Ea]===rp;function Tr(t){if(t&&typeof t=="object")switch(t[Ea]){case Bu:case rp:return!0}return!1}function Ar(t){if(t&&typeof t=="object")switch(t[Ea]){case uR:case Bu:case Uo:case rp:return!0}return!1}const Z8=t=>(Ln(t)||Tr(t))&&!!t.anchor,Bc=Symbol("break visit"),xEe=Symbol("skip children"),Fm=Symbol("remove node");function sp(t,e){const n=kEe(e);oS(t)?Xh(null,t.contents,n,Object.freeze([t]))===Fm&&(t.contents=null):Xh(null,t,n,Object.freeze([]))}sp.BREAK=Bc;sp.SKIP=xEe;sp.REMOVE=Fm;function Xh(t,e,n,r){const i=TEe(t,e,n,r);if(Ar(i)||Cr(i))return EEe(t,r,i),Xh(t,i,n,r);if(typeof i!="symbol"){if(Tr(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const a=Xh(s,e.items[s],n,r);if(typeof a=="number")s=a-1;else{if(a===Bc)return Bc;a===Fm&&(e.items.splice(s,1),s-=1)}}}else if(Cr(e)){r=Object.freeze(r.concat(e));const s=Xh("key",e.key,n,r);if(s===Bc)return Bc;s===Fm&&(e.key=null);const a=Xh("value",e.value,n,r);if(a===Bc)return Bc;a===Fm&&(e.value=null)}}return i}function kEe(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function TEe(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(ip(e))return n.Map?.(t,e,r);if(EO(e))return n.Seq?.(t,e,r);if(Cr(e))return n.Pair?.(t,e,r);if(Ln(e))return n.Scalar?.(t,e,r);if(Sf(e))return n.Alias?.(t,e,r)}function EEe(t,e,n){const r=e[e.length-1];if(Tr(r))r.items[t]=n;else if(Cr(r))t==="key"?r.key=n:r.value=n;else if(oS(r))r.contents=n;else{const i=Sf(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const AEe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},CEe=t=>t.replace(/[!,[\]{}]/g,e=>AEe[e]);class Fi{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Fi.defaultYaml,e),this.tags=Object.assign({},Fi.defaultTags,n)}clone(){const e=new Fi(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Fi(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Fi.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Fi.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Fi.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Fi.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,a]=r;return this.tags[s]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const a=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,a),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(a){return n(String(a)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+CEe(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(e&&r.length>0&&Ar(e.contents)){const s={};sp(e.contents,(a,o)=>{Ar(o)&&o.tag&&(s[o.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,a]of r)s==="!!"&&a==="tag:yaml.org,2002:"||(!e||i.some(o=>o.startsWith(a)))&&n.push(`%TAG ${s} ${a}`);return n.join(`
`)}}Fi.defaultYaml={explicit:!1,version:"1.2"};Fi.defaultTags={"!!":"tag:yaml.org,2002:"};function U8(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function q8(t){const e=new Set;return sp(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function V8(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function PEe(t,e){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=q8(t));const a=V8(e,i);return i.add(a),a},setAnchors:()=>{for(const s of n){const a=r.get(s);if(typeof a=="object"&&a.anchor&&(Ln(a.node)||Tr(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=s,o}}},sourceObjects:r}}function Fh(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const a=r[i],o=Fh(t,r,String(i),a);o===void 0?delete r[i]:o!==a&&(r[i]=o)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),a=Fh(t,r,i,s);a===void 0?r.delete(i):a!==s&&r.set(i,a)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Fh(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const a=Fh(t,r,i,s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}return t.call(e,n,r)}function xa(t,e,n){if(Array.isArray(t))return t.map((r,i)=>xa(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Z8(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}class cR{constructor(e){Object.defineProperty(this,Ea,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!oS(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},o=xa(this,"",a);if(typeof i=="function")for(const{count:u,res:f}of a.anchors.values())i(f,u);return typeof s=="function"?Fh(s,{"":o},"",o):o}}class fR extends cR{constructor(e){super(uR),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],sp(e,{Node:(s,a)=>{(Sf(a)||Z8(a))&&r.push(a)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,a=this.resolve(i,n);if(!a){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let o=r.get(a);if(o||(xa(a,null,n),o=r.get(a)),o?.res===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(s>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=Gb(i,a,r)),o.count*o.aliasCount>s)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return o.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(U8(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function Gb(t,e,n){if(Sf(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Tr(e)){let r=0;for(const i of e.items){const s=Gb(t,i,n);s>r&&(r=s)}return r}else if(Cr(e)){const r=Gb(t,e.key,n),i=Gb(t,e.value,n);return Math.max(r,i)}return 1}const X8=t=>!t||typeof t!="function"&&typeof t!="object";class Nt extends cR{constructor(e){super(Uo),this.value=e}toJSON(e,n){return n?.keep?this.value:xa(this.value,e,n)}toString(){return String(this.value)}}Nt.BLOCK_FOLDED="BLOCK_FOLDED";Nt.BLOCK_LITERAL="BLOCK_LITERAL";Nt.PLAIN="PLAIN";Nt.QUOTE_DOUBLE="QUOTE_DOUBLE";Nt.QUOTE_SINGLE="QUOTE_SINGLE";const REe="tag:yaml.org,2002:";function $Ee(t,e,n){if(e){const r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}function Ug(t,e,n){if(oS(t)&&(t=t.contents),Ar(t))return t;if(Cr(t)){const d=n.schema[Bu].createNode?.(n.schema,null,n);return d.items.push(t),d}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:a,sourceObjects:o}=n;let u;if(r&&t&&typeof t=="object"){if(u=o.get(t),u)return u.anchor??(u.anchor=i(t)),new fR(u.anchor);u={anchor:null,node:null},o.set(t,u)}e?.startsWith("!!")&&(e=REe+e.slice(2));let f=$Ee(t,e,a.tags);if(!f){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const d=new Nt(t);return u&&(u.node=d),d}f=t instanceof Map?a[Bu]:Symbol.iterator in Object(t)?a[rp]:a[Bu]}s&&(s(f),delete n.onTagObj);const h=f?.createNode?f.createNode(n.schema,t,n):typeof f?.nodeClass?.from=="function"?f.nodeClass.from(n.schema,t,n):new Nt(t);return e?h.tag=e:f.default||(h.tag=f.tag),u&&(u.node=h),h}function mw(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const a=[];a[s]=r,r=a}else r=new Map([[s,r]])}return Ug(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Tm=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class F8 extends cR{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Ar(r)||Cr(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Tm(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(Tr(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,mw(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Tr(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&Ln(s)?s.value:s:Tr(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Cr(n))return!1;const r=n.value;return r==null||e&&Ln(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Tr(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Tr(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,mw(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const MEe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function bl(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Kc=(t,e,n)=>t.endsWith(`
`)?bl(n,e):n.includes(`
`)?`
`+bl(n,e):(t.endsWith(" ")?"":" ")+n,Y8="flow",xA="block",Kb="quoted";function lS(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}={}){if(!i||i<0)return t;i<s&&(s=0);const u=Math.max(1+s,1+i-e.length);if(t.length<=u)return t;const f=[],h={};let d=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?f.push(0):d=i-r);let m,O,y=!1,v=-1,w=-1,k=-1;n===xA&&(v=F9(t,v,e.length),v!==-1&&(d=v+u));for(let A;A=t[v+=1];){if(n===Kb&&A==="\\"){switch(w=v,t[v+1]){case"x":v+=3;break;case"u":v+=5;break;case"U":v+=9;break;default:v+=1}k=v}if(A===`
`)n===xA&&(v=F9(t,v,e.length)),d=v+e.length+u,m=void 0;else{if(A===" "&&O&&O!==" "&&O!==`
`&&O!=="	"){const C=t[v+1];C&&C!==" "&&C!==`
`&&C!=="	"&&(m=v)}if(v>=d)if(m)f.push(m),d=m+u,m=void 0;else if(n===Kb){for(;O===" "||O==="	";)O=A,A=t[v+=1],y=!0;const C=v>k+1?v-2:w-1;if(h[C])return t;f.push(C),h[C]=!0,d=C+u,m=void 0}else y=!0}O=A}if(y&&o&&o(),f.length===0)return t;a&&a();let T=t.slice(0,f[0]);for(let A=0;A<f.length;++A){const C=f[A],I=f[A+1]||t.length;C===0?T=`
${e}${t.slice(0,I)}`:(n===Kb&&h[C]&&(T+=`${t[C]}\\`),T+=`
${e}${t.slice(C+1,I)}`)}return T}function F9(t,e,n){let r=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,i=e+1,s=t[i]}return r}const uS=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),cS=t=>/^(%|---|\.\.\.)/m.test(t);function IEe(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function Ym(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(cS(t)?"  ":"");let a="",o=0;for(let u=0,f=n[u];f;f=n[++u])if(f===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(o,u)+"\\ ",u+=1,o=u,f="\\"),f==="\\")switch(n[u+1]){case"u":{a+=n.slice(o,u);const h=n.substr(u+2,4);switch(h){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:h.substr(0,2)==="00"?a+="\\x"+h.substr(2):a+=n.substr(u,6)}u+=5,o=u+1}break;case"n":if(r||n[u+2]==='"'||n.length<i)u+=1;else{for(a+=n.slice(o,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=s,n[u+2]===" "&&(a+="\\"),u+=1,o=u+1}break;default:u+=1}return a=o?a+n.slice(o):n,r?a:lS(a,s,Kb,uS(e,!1))}function kA(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Ym(t,e);const n=e.indent||(cS(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:lS(r,n,Y8,uS(e,!1))}function Yh(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Ym;else{const i=t.includes('"'),s=t.includes("'");i&&!s?r=kA:s&&!i?r=Ym:r=n?kA:Ym}return r(t,e)}let TA;try{TA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{TA=/\n+(?!\n|$)/g}function Hb({comment:t,type:e,value:n},r,i,s){const{blockQuote:a,commentString:o,lineWidth:u}=r.options;if(!a||/\n[\t ]+$/.test(n))return Yh(n,r);const f=r.indent||(r.forceBlockIndent||cS(n)?"  ":""),h=a==="literal"?!0:a==="folded"||e===Nt.BLOCK_FOLDED?!1:e===Nt.BLOCK_LITERAL?!0:!IEe(n,u,f.length);if(!n)return h?`|
`:`>
`;let d,m;for(m=n.length;m>0;--m){const I=n[m-1];if(I!==`
`&&I!=="	"&&I!==" ")break}let O=n.substring(m);const y=O.indexOf(`
`);y===-1?d="-":n===O||y!==O.length-1?(d="+",s&&s()):d="",O&&(n=n.slice(0,-O.length),O[O.length-1]===`
`&&(O=O.slice(0,-1)),O=O.replace(TA,`$&${f}`));let v=!1,w,k=-1;for(w=0;w<n.length;++w){const I=n[w];if(I===" ")v=!0;else if(I===`
`)k=w;else break}let T=n.substring(0,k<w?k+1:w);T&&(n=n.substring(T.length),T=T.replace(/\n+/g,`$&${f}`));let C=(v?f?"2":"1":"")+d;if(t&&(C+=" "+o(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!h){const I=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);let Q=!1;const N=uS(r,!0);a!=="folded"&&e!==Nt.BLOCK_FOLDED&&(N.onOverflow=()=>{Q=!0});const j=lS(`${T}${I}${O}`,f,xA,N);if(!Q)return`>${C}
${f}${j}`}return n=n.replace(/\n+/g,`$&${f}`),`|${C}
${f}${T}${n}${O}`}function DEe(t,e,n,r){const{type:i,value:s}=t,{actualString:a,implicitKey:o,indent:u,indentStep:f,inFlow:h}=e;if(o&&s.includes(`
`)||h&&/[[\]{},]/.test(s))return Yh(s,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return o||h||!s.includes(`
`)?Yh(s,e):Hb(t,e,n,r);if(!o&&!h&&i!==Nt.PLAIN&&s.includes(`
`))return Hb(t,e,n,r);if(cS(s)){if(u==="")return e.forceBlockIndent=!0,Hb(t,e,n,r);if(o&&u===f)return Yh(s,e)}const d=s.replace(/\n+/g,`$&
${u}`);if(a){const m=v=>v.default&&v.tag!=="tag:yaml.org,2002:str"&&v.test?.test(d),{compat:O,tags:y}=e.doc.schema;if(y.some(m)||O?.some(m))return Yh(s,e)}return o?d:lS(d,u,Y8,uS(e,!1))}function hR(t,e,n,r){const{implicitKey:i,inFlow:s}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:o}=t;o!==Nt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=Nt.QUOTE_DOUBLE);const u=h=>{switch(h){case Nt.BLOCK_FOLDED:case Nt.BLOCK_LITERAL:return i||s?Yh(a.value,e):Hb(a,e,n,r);case Nt.QUOTE_DOUBLE:return Ym(a.value,e);case Nt.QUOTE_SINGLE:return kA(a.value,e);case Nt.PLAIN:return DEe(a,e,n,r);default:return null}};let f=u(o);if(f===null){const{defaultKeyType:h,defaultStringType:d}=e.options,m=i&&h||d;if(f=u(m),f===null)throw new Error(`Unsupported default string type ${m}`)}return f}function W8(t,e){const n=Object.assign({blockQuote:!0,commentString:MEe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function QEe(t,e){if(e.tag){const i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let n,r;if(Ln(e)){r=e.value;let i=t.filter(s=>s.identify?.(r));if(i.length>1){const s=i.filter(a=>a.test);s.length>0&&(i=s)}n=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function NEe(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(Ln(t)||Tr(t))&&t.anchor;s&&U8(s)&&(n.add(s),i.push(`&${s}`));const a=t.tag??(e.default?null:e.tag);return a&&i.push(r.directives.tagString(a)),i.join(" ")}function jd(t,e,n,r){if(Cr(t))return t.toString(e,n,r);if(Sf(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=Ar(t)?t:e.doc.createNode(t,{onTagObj:u=>i=u});i??(i=QEe(e.doc.schema.tags,s));const a=NEe(s,i,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const o=typeof i.stringify=="function"?i.stringify(s,e,n,r):Ln(s)?hR(s,e,n,r):s.toString(e,n,r);return a?Ln(s)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${e.indent}${o}`:o}function LEe({key:t,value:e},n,r,i){const{allNullValues:s,doc:a,indent:o,indentStep:u,options:{commentString:f,indentSeq:h,simpleKeys:d}}=n;let m=Ar(t)&&t.comment||null;if(d){if(m)throw new Error("With simple keys, key nodes cannot have comments");if(Tr(t)||!Ar(t)&&typeof t=="object"){const N="With simple keys, collection cannot be used as a key value";throw new Error(N)}}let O=!d&&(!t||m&&e==null&&!n.inFlow||Tr(t)||(Ln(t)?t.type===Nt.BLOCK_FOLDED||t.type===Nt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!O&&(d||!s),indent:o+u});let y=!1,v=!1,w=jd(t,n,()=>y=!0,()=>v=!0);if(!O&&!n.inFlow&&w.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");O=!0}if(n.inFlow){if(s||e==null)return y&&r&&r(),w===""?"?":O?`? ${w}`:w}else if(s&&!d||e==null&&O)return w=`? ${w}`,m&&!y?w+=Kc(w,n.indent,f(m)):v&&i&&i(),w;y&&(m=null),O?(m&&(w+=Kc(w,n.indent,f(m))),w=`? ${w}
${o}:`):(w=`${w}:`,m&&(w+=Kc(w,n.indent,f(m))));let k,T,A;Ar(e)?(k=!!e.spaceBefore,T=e.commentBefore,A=e.comment):(k=!1,T=null,A=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!O&&!m&&Ln(e)&&(n.indentAtStart=w.length+1),v=!1,!h&&u.length>=2&&!n.inFlow&&!O&&EO(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let C=!1;const I=jd(e,n,()=>C=!0,()=>v=!0);let Q=" ";if(m||k||T){if(Q=k?`
`:"",T){const N=f(T);Q+=`
${bl(N,n.indent)}`}I===""&&!n.inFlow?Q===`
`&&A&&(Q=`

`):Q+=`
${n.indent}`}else if(!O&&Tr(e)){const N=I[0],j=I.indexOf(`
`),q=j!==-1,oe=n.inFlow??e.flow??e.items.length===0;if(q||!oe){let we=!1;if(q&&(N==="&"||N==="!")){let K=I.indexOf(" ");N==="&"&&K!==-1&&K<j&&I[K+1]==="!"&&(K=I.indexOf(" ",K+1)),(K===-1||j<K)&&(we=!0)}we||(Q=`
${n.indent}`)}}else(I===""||I[0]===`
`)&&(Q="");return w+=Q+I,n.inFlow?C&&r&&r():A&&!C?w+=Kc(w,n.indent,f(A)):v&&i&&i(),w}function jEe(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const vb="<<",Tl={identify:t=>t===vb||typeof t=="symbol"&&t.description===vb,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Nt(Symbol(vb)),{addToJSMap:G8}),stringify:()=>vb},BEe=(t,e)=>(Tl.identify(e)||Ln(e)&&(!e.type||e.type===Nt.PLAIN)&&Tl.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Tl.tag&&n.default);function G8(t,e,n){if(n=t&&Sf(n)?n.resolve(t.doc):n,EO(n))for(const r of n.items)aT(t,e,r);else if(Array.isArray(n))for(const r of n)aT(t,e,r);else aT(t,e,n)}function aT(t,e,n){const r=t&&Sf(n)?n.resolve(t.doc):n;if(!ip(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,a]of i)e instanceof Map?e.has(s)||e.set(s,a):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function K8(t,e,{key:n,value:r}){if(Ar(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(BEe(t,n))G8(t,e,r);else{const i=xa(n,"",t);if(e instanceof Map)e.set(i,xa(r,i,t));else if(e instanceof Set)e.add(i);else{const s=zEe(n,i,t),a=xa(r,s,t);s in e?Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[s]=a}}return e}function zEe(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Ar(t)&&n?.doc){const r=W8(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),jEe(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function dR(t,e,n){const r=Ug(t,void 0,n),i=Ug(e,void 0,n);return new Ji(r,i)}class Ji{constructor(e,n=null){Object.defineProperty(this,Ea,{value:z8}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Ar(n)&&(n=n.clone(e)),Ar(r)&&(r=r.clone(e)),new Ji(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return K8(n,r,this)}toString(e,n,r){return e?.doc?LEe(this,e,n,r):JSON.stringify(this)}}function H8(t,e,n){return(e.inFlow??t.flow?UEe:ZEe)(t,e,n)}function ZEe({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:a,onComment:o}){const{indent:u,options:{commentString:f}}=n,h=Object.assign({},n,{indent:s,type:null});let d=!1;const m=[];for(let y=0;y<e.length;++y){const v=e[y];let w=null;if(Ar(v))!d&&v.spaceBefore&&m.push(""),gw(n,m,v.commentBefore,d),v.comment&&(w=v.comment);else if(Cr(v)){const T=Ar(v.key)?v.key:null;T&&(!d&&T.spaceBefore&&m.push(""),gw(n,m,T.commentBefore,d))}d=!1;let k=jd(v,h,()=>w=null,()=>d=!0);w&&(k+=Kc(k,s,f(w))),d&&w&&(d=!1),m.push(r+k)}let O;if(m.length===0)O=i.start+i.end;else{O=m[0];for(let y=1;y<m.length;++y){const v=m[y];O+=v?`
${u}${v}`:`
`}}return t?(O+=`
`+bl(f(t),u),o&&o()):d&&a&&a(),O}function UEe({items:t},e,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:a,options:{commentString:o}}=e;r+=s;const u=Object.assign({},e,{indent:r,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let y=0;y<t.length;++y){const v=t[y];let w=null;if(Ar(v))v.spaceBefore&&d.push(""),gw(e,d,v.commentBefore,!1),v.comment&&(w=v.comment);else if(Cr(v)){const T=Ar(v.key)?v.key:null;T&&(T.spaceBefore&&d.push(""),gw(e,d,T.commentBefore,!1),T.comment&&(f=!0));const A=Ar(v.value)?v.value:null;A?(A.comment&&(w=A.comment),A.commentBefore&&(f=!0)):v.value==null&&T?.comment&&(w=T.comment)}w&&(f=!0);let k=jd(v,u,()=>w=null);y<t.length-1&&(k+=","),w&&(k+=Kc(k,r,o(w))),!f&&(d.length>h||k.includes(`
`))&&(f=!0),d.push(k),h=d.length}const{start:m,end:O}=n;if(d.length===0)return m+O;if(!f){const y=d.reduce((v,w)=>v+w.length+2,2);f=e.options.lineWidth>0&&y>e.options.lineWidth}if(f){let y=m;for(const v of d)y+=v?`
${s}${i}${v}`:`
`;return`${y}
${i}${O}`}else return`${m}${a}${d.join(" ")}${a}${O}`}function gw({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=bl(e(r),t);n.push(s.trimStart())}}function Hc(t,e){const n=Ln(e)?e.value:e;for(const r of t)if(Cr(r)&&(r.key===e||r.key===n||Ln(r.key)&&r.key.value===n))return r}class ma extends F8{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Bu,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:s}=r,a=new this(e),o=(u,f)=>{if(typeof s=="function")f=s.call(n,u,f);else if(Array.isArray(s)&&!s.includes(u))return;(f!==void 0||i)&&a.items.push(dR(u,f,r))};if(n instanceof Map)for(const[u,f]of n)o(u,f);else if(n&&typeof n=="object")for(const u of Object.keys(n))o(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){let r;Cr(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Ji(e,e?.value):r=new Ji(e.key,e.value);const i=Hc(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Ln(i.value)&&X8(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const a=this.items.findIndex(o=>s(r,o)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(e){const n=Hc(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const i=Hc(this.items,e)?.value;return(!n&&Ln(i)?i.value:i)??void 0}has(e){return!!Hc(this.items,e)}set(e,n){this.add(new Ji(e,n),!0)}toJSON(e,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const s of this.items)K8(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Cr(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),H8(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const ap={collection:"map",default:!0,nodeClass:ma,tag:"tag:yaml.org,2002:map",resolve(t,e){return ip(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>ma.from(t,e,n)};class mf extends F8{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(rp,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=bb(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=bb(e);if(typeof r!="number")return;const i=this.items[r];return!n&&Ln(i)?i.value:i}has(e){const n=bb(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=bb(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];Ln(i)&&X8(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(xa(s,String(i++),n));return r}toString(e,n,r){return e?H8(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let o of n){if(typeof i=="function"){const u=n instanceof Set?o:String(a++);o=i.call(n,u,o)}s.items.push(Ug(o,void 0,r))}}return s}}function bb(t){let e=Ln(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const op={collection:"seq",default:!0,nodeClass:mf,tag:"tag:yaml.org,2002:seq",resolve(t,e){return EO(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>mf.from(t,e,n)},fS={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),hR(t,e,n,r)}},hS={identify:t=>t==null,createNode:()=>new Nt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Nt(null),stringify:({source:t},e)=>typeof t=="string"&&hS.test.test(t)?t:e.options.nullStr},pR={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Nt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&pR.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function io({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=Object.is(r,-0)?"-0":JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let a=s.indexOf(".");a<0&&(a=s.length,s+=".");let o=e-(s.length-a-1);for(;o-- >0;)s+="0"}return s}const J8={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:io},eX={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():io(t)}},tX={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Nt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:io},dS=t=>typeof t=="bigint"||Number.isInteger(t),mR=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function nX(t,e,n){const{value:r}=t;return dS(r)&&r>=0?n+r.toString(e):io(t)}const rX={identify:t=>dS(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>mR(t,2,8,n),stringify:t=>nX(t,8,"0o")},iX={identify:dS,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>mR(t,0,10,n),stringify:io},sX={identify:t=>dS(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>mR(t,2,16,n),stringify:t=>nX(t,16,"0x")},qEe=[ap,op,fS,hS,pR,rX,iX,sX,J8,eX,tX];function Y9(t){return typeof t=="bigint"||Number.isInteger(t)}const _b=({value:t})=>JSON.stringify(t),VEe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:_b},{identify:t=>t==null,createNode:()=>new Nt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:_b},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:_b},{identify:Y9,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Y9(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:_b}],XEe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},FEe=[ap,op].concat(VEe,XEe),gR={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){if(!n)return"";const a=n;let o;if(typeof btoa=="function"){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);o=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Nt.BLOCK_LITERAL),e!==Nt.QUOTE_DOUBLE){const u=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),f=Math.ceil(o.length/u),h=new Array(f);for(let d=0,m=0;d<f;++d,m+=u)h[d]=o.substr(m,u);o=h.join(e===Nt.BLOCK_LITERAL?`
`:" ")}return hR({comment:t,type:e,value:o},r,i,s)}};function aX(t,e){if(EO(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Cr(r)){if(ip(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const i=r.items[0]||new Ji(new Nt(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}t.items[n]=Cr(r)?r:new Ji(r)}}else e("Expected a sequence for this tag");return t}function oX(t,e,n){const{replacer:r}=n,i=new mf(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(s++),a));let o,u;if(Array.isArray(a))if(a.length===2)o=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const f=Object.keys(a);if(f.length===1)o=f[0],u=a[o];else throw new TypeError(`Expected tuple with one key, not ${f.length} keys`)}else o=a;i.items.push(dR(o,u,n))}return i}const OR={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:aX,createNode:oX};class pd extends mf{constructor(){super(),this.add=ma.prototype.add.bind(this),this.delete=ma.prototype.delete.bind(this),this.get=ma.prototype.get.bind(this),this.has=ma.prototype.has.bind(this),this.set=ma.prototype.set.bind(this),this.tag=pd.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let s,a;if(Cr(i)?(s=xa(i.key,"",n),a=xa(i.value,s,n)):s=xa(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}static from(e,n,r){const i=oX(e,n,r),s=new this;return s.items=i.items,s}}pd.tag="tag:yaml.org,2002:omap";const yR={collection:"seq",identify:t=>t instanceof Map,nodeClass:pd,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=aX(t,e),r=[];for(const{key:i}of n.items)Ln(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new pd,n)},createNode:(t,e,n)=>pd.from(t,e,n)};function lX({value:t,source:e},n){return e&&(t?uX:cX).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const uX={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Nt(!0),stringify:lX},cX={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Nt(!1),stringify:lX},YEe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:io},WEe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():io(t)}},GEe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Nt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:io},AO=t=>typeof t=="bigint"||Number.isInteger(t);function pS(t,e,n,{intAsBigInt:r}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return i==="-"?BigInt(-1)*a:a}const s=parseInt(t,n);return i==="-"?-1*s:s}function vR(t,e,n){const{value:r}=t;if(AO(r)){const i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return io(t)}const KEe={identify:AO,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>pS(t,2,2,n),stringify:t=>vR(t,2,"0b")},HEe={identify:AO,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>pS(t,1,8,n),stringify:t=>vR(t,8,"0")},JEe={identify:AO,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>pS(t,0,10,n),stringify:io},eAe={identify:AO,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>pS(t,2,16,n),stringify:t=>vR(t,16,"0x")};class md extends ma{constructor(e){super(e),this.tag=md.tag}add(e){let n;Cr(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ji(e.key,null):n=new Ji(e,null),Hc(this.items,n.key)||this.items.push(n)}get(e,n){const r=Hc(this.items,e);return!n&&Cr(r)?Ln(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Hc(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ji(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof i=="function"&&(a=i.call(n,a,a)),s.items.push(dR(a,null,r));return s}}md.tag="tag:yaml.org,2002:set";const bR={collection:"map",identify:t=>t instanceof Set,nodeClass:md,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>md.from(t,e,n),resolve(t,e){if(ip(t)){if(t.hasAllNullValues(!0))return Object.assign(new md,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function _R(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=a=>e?BigInt(a):Number(a),s=r.replace(/_/g,"").split(":").reduce((a,o)=>a*i(60)+i(o),i(0));return n==="-"?i(-1)*s:s}function fX(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return io(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const hX={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>_R(t,n),stringify:fX},dX={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>_R(t,!1),stringify:fX},mS={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(mS.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,a,o]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let f=Date.UTC(n,r-1,i,s||0,a||0,o||0,u);const h=e[8];if(h&&h!=="Z"){let d=_R(h,!1);Math.abs(d)<30&&(d*=60),f-=6e4*d}return new Date(f)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},W9=[ap,op,fS,hS,uX,cX,KEe,HEe,JEe,eAe,YEe,WEe,GEe,gR,Tl,yR,OR,bR,hX,dX,mS],G9=new Map([["core",qEe],["failsafe",[ap,op,fS]],["json",FEe],["yaml11",W9],["yaml-1.1",W9]]),K9={binary:gR,bool:pR,float:tX,floatExp:eX,floatNaN:J8,floatTime:dX,int:iX,intHex:sX,intOct:rX,intTime:hX,map:ap,merge:Tl,null:hS,omap:yR,pairs:OR,seq:op,set:bR,timestamp:mS},tAe={"tag:yaml.org,2002:binary":gR,"tag:yaml.org,2002:merge":Tl,"tag:yaml.org,2002:omap":yR,"tag:yaml.org,2002:pairs":OR,"tag:yaml.org,2002:set":bR,"tag:yaml.org,2002:timestamp":mS};function oT(t,e,n){const r=G9.get(e);if(r&&!t)return n&&!r.includes(Tl)?r.concat(Tl):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{const s=Array.from(G9.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(Tl)),i.reduce((s,a)=>{const o=typeof a=="string"?K9[a]:a;if(!o){const u=JSON.stringify(a),f=Object.keys(K9).map(h=>JSON.stringify(h)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${f}`)}return s.includes(o)||s.push(o),s},[])}const nAe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class wR{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(e)?oT(e,"compat"):e?oT(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?tAe:{},this.tags=oT(n,this.name,r),this.toStringOptions=o??null,Object.defineProperty(this,Bu,{value:ap}),Object.defineProperty(this,Uo,{value:fS}),Object.defineProperty(this,rp,{value:op}),this.sortMapEntries=typeof a=="function"?a:a===!0?nAe:null}clone(){const e=Object.create(wR.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function rAe(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const u=t.directives.toString(t);u?(n.push(u),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=W8(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const u=s(t.commentBefore);n.unshift(bl(u,""))}let a=!1,o=null;if(t.contents){if(Ar(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const h=s(t.contents.commentBefore);n.push(bl(h,""))}i.forceBlockIndent=!!t.comment,o=t.contents.comment}const u=o?void 0:()=>a=!0;let f=jd(t.contents,i,()=>o=null,u);o&&(f+=Kc(f,"",s(o))),(f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${f}`:n.push(f)}else n.push(jd(t.contents,i));if(t.directives?.docEnd)if(t.comment){const u=s(t.comment);u.includes(`
`)?(n.push("..."),n.push(bl(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=t.comment;u&&a&&(u=u.replace(/^\n+/,"")),u&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(bl(s(u),"")))}return n.join(`
`)+`
`}class gS{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ea,{value:SA});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:a}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Fi({version:a}),this.setSchema(a,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){const e=Object.create(gS.prototype,{[Ea]:{value:SA}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Ar(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Th(this.contents)&&this.contents.add(e)}addIn(e,n){Th(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=q8(this);e.anchor=!n||r.has(n)?V8(n||"a",r):n}return new fR(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const w=T=>typeof T=="number"||T instanceof String||T instanceof Number,k=n.filter(w).map(String);k.length>0&&(n=n.concat(k)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:a,flow:o,keepUndefined:u,onTagObj:f,tag:h}=r??{},{onAnchor:d,setAnchors:m,sourceObjects:O}=PEe(this,a||"a"),y={aliasDuplicateObjects:s??!0,keepUndefined:u??!1,onAnchor:d,onTagObj:f,replacer:i,schema:this.schema,sourceObjects:O},v=Ug(e,h,y);return o&&Tr(v)&&(v.flow=!0),m(),v}createPair(e,n,r={}){const i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new Ji(i,s)}delete(e){return Th(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Tm(e)?this.contents==null?!1:(this.contents=null,!0):Th(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Tr(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Tm(e)?!n&&Ln(this.contents)?this.contents.value:this.contents:Tr(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Tr(this.contents)?this.contents.has(e):!1}hasIn(e){return Tm(e)?this.contents!==void 0:Tr(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=mw(this.schema,[e],n):Th(this.contents)&&this.contents.set(e,n)}setIn(e,n){Tm(e)?this.contents=n:this.contents==null?this.contents=mw(this.schema,Array.from(e),n):Th(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Fi({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Fi({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new wR(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},u=xa(this.contents,n??"",o);if(typeof s=="function")for(const{count:f,res:h}of o.anchors.values())s(h,f);return typeof a=="function"?Fh(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return rAe(this,e)}}function Th(t){if(Tr(t))return!0;throw new Error("Expected a YAML collection as document contents")}class pX extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}}class Em extends pX{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class iAe extends pX{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const H9=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(o=>e.linePos(o));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&a.length>80){const o=Math.min(s-39,a.length-79);a=""+a.substring(o),s-=o-1}if(a.length>80&&(a=a.substring(0,79)+""),r>1&&/^ *$/.test(a.substring(0,s))){let o=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);o.length>80&&(o=o.substring(0,79)+`
`),a=o+a}if(/[^ ]/.test(a)){let o=1;const u=n.linePos[1];u?.line===r&&u.col>i&&(o=Math.max(1,Math.min(u.col-i,80-s)));const f=" ".repeat(s)+"^".repeat(o);n.message+=`:

${a}
${f}
`}};function Bd(t,{flow:e,indicator:n,next:r,offset:i,onError:s,parentIndent:a,startOnNewline:o}){let u=!1,f=o,h=o,d="",m="",O=!1,y=!1,v=null,w=null,k=null,T=null,A=null,C=null,I=null;for(const j of t)switch(y&&(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma"&&s(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),v&&(f&&j.type!=="comment"&&j.type!=="newline"&&s(v,"TAB_AS_INDENT","Tabs are not allowed as indentation"),v=null),j.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&j.source.includes("	")&&(v=j),h=!0;break;case"comment":{h||s(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const q=j.source.substring(1)||" ";d?d+=m+q:d=q,m="",f=!1;break}case"newline":f?d?d+=j.source:(!C||n!=="seq-item-ind")&&(u=!0):m+=j.source,f=!0,O=!0,(w||k)&&(T=j),h=!0;break;case"anchor":w&&s(j,"MULTIPLE_ANCHORS","A node can have at most one anchor"),j.source.endsWith(":")&&s(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=j,I??(I=j.offset),f=!1,h=!1,y=!0;break;case"tag":{k&&s(j,"MULTIPLE_TAGS","A node can have at most one tag"),k=j,I??(I=j.offset),f=!1,h=!1,y=!0;break}case n:(w||k)&&s(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`),C&&s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${e??"collection"}`),C=j,f=n==="seq-item-ind"||n==="explicit-key-ind",h=!1;break;case"comma":if(e){A&&s(j,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),A=j,f=!1,h=!1;break}default:s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),f=!1,h=!1}const Q=t[t.length-1],N=Q?Q.offset+Q.source.length:i;return y&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v&&(f&&v.indent<=a||r?.type==="block-map"||r?.type==="block-seq")&&s(v,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:A,found:C,spaceBefore:u,comment:d,hasNewline:O,anchor:w,tag:k,newlineAfterProp:T,end:N,start:I??N}}function qg(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(qg(e.key)||qg(e.value))return!0}return!1;default:return!0}}function EA(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&qg(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mX(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,a)=>s===a||Ln(s)&&Ln(a)&&s.value===a.value;return e.some(s=>i(s.key,n))}const J9="All mapping items must start at the same column";function sAe({composeNode:t,composeEmptyNode:e},n,r,i,s){const a=s?.nodeClass??ma,o=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=r.offset,f=null;for(const h of r.items){const{start:d,key:m,sep:O,value:y}=h,v=Bd(d,{indicator:"explicit-key-ind",next:m??O?.[0],offset:u,onError:i,parentIndent:r.indent,startOnNewline:!0}),w=!v.found;if(w){if(m&&(m.type==="block-seq"?i(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==r.indent&&i(u,"BAD_INDENT",J9)),!v.anchor&&!v.tag&&!O){f=v.end,v.comment&&(o.comment?o.comment+=`
`+v.comment:o.comment=v.comment);continue}(v.newlineAfterProp||qg(m))&&i(m??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else v.found?.indent!==r.indent&&i(u,"BAD_INDENT",J9);n.atKey=!0;const k=v.end,T=m?t(n,m,v,i):e(n,k,d,null,v,i);n.schema.compat&&EA(r.indent,m,i),n.atKey=!1,mX(n,o.items,T)&&i(k,"DUPLICATE_KEY","Map keys must be unique");const A=Bd(O??[],{indicator:"map-value-ind",next:y,offset:T.range[2],onError:i,parentIndent:r.indent,startOnNewline:!m||m.type==="block-scalar"});if(u=A.end,A.found){w&&(y?.type==="block-map"&&!A.hasNewline&&i(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&v.start<A.found.offset-1024&&i(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const C=y?t(n,y,A,i):e(n,u,O,null,A,i);n.schema.compat&&EA(r.indent,y,i),u=C.range[2];const I=new Ji(T,C);n.options.keepSourceTokens&&(I.srcToken=h),o.items.push(I)}else{w&&i(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),A.comment&&(T.comment?T.comment+=`
`+A.comment:T.comment=A.comment);const C=new Ji(T);n.options.keepSourceTokens&&(C.srcToken=h),o.items.push(C)}}return f&&f<u&&i(f,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,u,f??u],o}function aAe({composeNode:t,composeEmptyNode:e},n,r,i,s){const a=s?.nodeClass??mf,o=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset,f=null;for(const{start:h,value:d}of r.items){const m=Bd(h,{indicator:"seq-item-ind",next:d,offset:u,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!m.found)if(m.anchor||m.tag||d)d?.type==="block-seq"?i(m.end,"BAD_INDENT","All sequence items must start at the same column"):i(u,"MISSING_CHAR","Sequence item without - indicator");else{f=m.end,m.comment&&(o.comment=m.comment);continue}const O=d?t(n,d,m,i):e(n,m.end,h,null,m,i);n.schema.compat&&EA(r.indent,d,i),u=O.range[2],o.items.push(O)}return o.range=[r.offset,u,f??u],o}function CO(t,e,n,r){let i="";if(t){let s=!1,a="";for(const o of t){const{source:u,type:f}=o;switch(f){case"space":s=!0;break;case"comment":{n&&!s&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const h=u.substring(1)||" ";i?i+=a+h:i=h,a="";break}case"newline":i&&(a+=u),s=!0;break;default:r(o,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}e+=u.length}}return{comment:i,offset:e}}const lT="Block collections are not allowed within flow collections",uT=t=>t&&(t.type==="block-map"||t.type==="block-seq");function oAe({composeNode:t,composeEmptyNode:e},n,r,i,s){const a=r.start.source==="{",o=a?"flow map":"flow sequence",u=s?.nodeClass??(a?ma:mf),f=new u(n.schema);f.flow=!0;const h=n.atRoot;h&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let w=0;w<r.items.length;++w){const k=r.items[w],{start:T,key:A,sep:C,value:I}=k,Q=Bd(T,{flow:o,indicator:"explicit-key-ind",next:A??C?.[0],offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!Q.found){if(!Q.anchor&&!Q.tag&&!C&&!I){w===0&&Q.comma?i(Q.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):w<r.items.length-1&&i(Q.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),Q.comment&&(f.comment?f.comment+=`
`+Q.comment:f.comment=Q.comment),d=Q.end;continue}!a&&n.options.strict&&qg(A)&&i(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(w===0)Q.comma&&i(Q.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(Q.comma||i(Q.start,"MISSING_CHAR",`Missing , between ${o} items`),Q.comment){let N="";e:for(const j of T)switch(j.type){case"comma":case"space":break;case"comment":N=j.source.substring(1);break e;default:break e}if(N){let j=f.items[f.items.length-1];Cr(j)&&(j=j.value??j.key),j.comment?j.comment+=`
`+N:j.comment=N,Q.comment=Q.comment.substring(N.length+1)}}if(!a&&!C&&!Q.found){const N=I?t(n,I,Q,i):e(n,Q.end,C,null,Q,i);f.items.push(N),d=N.range[2],uT(I)&&i(N.range,"BLOCK_IN_FLOW",lT)}else{n.atKey=!0;const N=Q.end,j=A?t(n,A,Q,i):e(n,N,T,null,Q,i);uT(A)&&i(j.range,"BLOCK_IN_FLOW",lT),n.atKey=!1;const q=Bd(C??[],{flow:o,indicator:"map-value-ind",next:I,offset:j.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(q.found){if(!a&&!Q.found&&n.options.strict){if(C)for(const K of C){if(K===q.found)break;if(K.type==="newline"){i(K,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}Q.start<q.found.offset-1024&&i(q.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else I&&("source"in I&&I.source?.[0]===":"?i(I,"MISSING_CHAR",`Missing space after : in ${o}`):i(q.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const oe=I?t(n,I,q,i):q.found?e(n,q.end,C,null,q,i):null;oe?uT(I)&&i(oe.range,"BLOCK_IN_FLOW",lT):q.comment&&(j.comment?j.comment+=`
`+q.comment:j.comment=q.comment);const we=new Ji(j,oe);if(n.options.keepSourceTokens&&(we.srcToken=k),a){const K=f;mX(n,K.items,j)&&i(N,"DUPLICATE_KEY","Map keys must be unique"),K.items.push(we)}else{const K=new ma(n.schema);K.flow=!0,K.items.push(we);const Ae=(oe??j).range;K.range=[j.range[0],Ae[1],Ae[2]],f.items.push(K)}d=oe?oe.range[2]:q.end}}const m=a?"}":"]",[O,...y]=r.end;let v=d;if(O?.source===m)v=O.offset+O.source.length;else{const w=o[0].toUpperCase()+o.substring(1),k=h?`${w} must end with a ${m}`:`${w} in block collection must be sufficiently indented and end with a ${m}`;i(d,h?"MISSING_CHAR":"BAD_INDENT",k),O&&O.source.length!==1&&y.unshift(O)}if(y.length>0){const w=CO(y,v,n.options.strict,i);w.comment&&(f.comment?f.comment+=`
`+w.comment:f.comment=w.comment),f.range=[r.offset,v,w.offset]}else f.range=[r.offset,v,v];return f}function cT(t,e,n,r,i,s){const a=n.type==="block-map"?sAe(t,e,n,r,s):n.type==="block-seq"?aAe(t,e,n,r,s):oAe(t,e,n,r,s),o=a.constructor;return i==="!"||i===o.tagName?(a.tag=o.tagName,a):(i&&(a.tag=i),a)}function lAe(t,e,n,r,i){const s=r.tag,a=s?e.directives.tagName(s.source,m=>i(s,"TAG_RESOLVE_FAILED",m)):null;if(n.type==="block-seq"){const{anchor:m,newlineAfterProp:O}=r,y=m&&s?m.offset>s.offset?m:s:m??s;y&&(!O||O.offset<y.offset)&&i(y,"MISSING_CHAR","Missing newline after block sequence props")}const o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!a||a==="!"||a===ma.tagName&&o==="map"||a===mf.tagName&&o==="seq")return cT(t,e,n,i,a);let u=e.schema.tags.find(m=>m.tag===a&&m.collection===o);if(!u){const m=e.schema.knownTags[a];if(m?.collection===o)e.schema.tags.push(Object.assign({},m,{default:!1})),u=m;else return m?i(s,"BAD_COLLECTION_TYPE",`${m.tag} used for ${o} collection, but expects ${m.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),cT(t,e,n,i,a)}const f=cT(t,e,n,i,a,u),h=u.resolve?.(f,m=>i(s,"TAG_RESOLVE_FAILED",m),e.options)??f,d=Ar(h)?h:new Nt(h);return d.range=f.range,d.tag=a,u?.format&&(d.format=u.format),d}function uAe(t,e,n){const r=e.offset,i=cAe(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?Nt.BLOCK_FOLDED:Nt.BLOCK_LITERAL,a=e.source?fAe(e.source):[];let o=a.length;for(let v=a.length-1;v>=0;--v){const w=a[v][1];if(w===""||w==="\r")o=v;else break}if(o===0){const v=i.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let w=r+i.length;return e.source&&(w+=e.source.length),{value:v,type:s,comment:i.comment,range:[r,w,w]}}let u=e.indent+i.indent,f=e.offset+i.length,h=0;for(let v=0;v<o;++v){const[w,k]=a[v];if(k===""||k==="\r")i.indent===0&&w.length>u&&(u=w.length);else{w.length<u&&n(f+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(u=w.length),h=v,u===0&&!t.atRoot&&n(f,"BAD_INDENT","Block scalar values in collections must be indented");break}f+=w.length+k.length+1}for(let v=a.length-1;v>=o;--v)a[v][0].length>u&&(o=v+1);let d="",m="",O=!1;for(let v=0;v<h;++v)d+=a[v][0].slice(u)+`
`;for(let v=h;v<o;++v){let[w,k]=a[v];f+=w.length+k.length+1;const T=k[k.length-1]==="\r";if(T&&(k=k.slice(0,-1)),k&&w.length<u){const C=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(f-k.length-(T?2:1),"BAD_INDENT",C),w=""}s===Nt.BLOCK_LITERAL?(d+=m+w.slice(u)+k,m=`
`):w.length>u||k[0]==="	"?(m===" "?m=`
`:!O&&m===`
`&&(m=`

`),d+=m+w.slice(u)+k,m=`
`,O=!0):k===""?m===`
`?d+=`
`:m=`
`:(d+=m+k,m=" ",O=!1)}switch(i.chomp){case"-":break;case"+":for(let v=o;v<a.length;++v)d+=`
`+a[v][0].slice(u);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const y=r+i.length+e.source.length;return{value:d,type:s,comment:i.comment,range:[r,y,y]}}function cAe({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],s=i[0];let a=0,o="",u=-1;for(let m=1;m<i.length;++m){const O=i[m];if(!o&&(O==="-"||O==="+"))o=O;else{const y=Number(O);!a&&y?a=y:u===-1&&(u=t+m)}}u!==-1&&r(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let f=!1,h="",d=i.length;for(let m=1;m<e.length;++m){const O=e[m];switch(O.type){case"space":f=!0;case"newline":d+=O.source.length;break;case"comment":n&&!f&&r(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=O.source.length,h=O.source.substring(1);break;case"error":r(O,"UNEXPECTED_TOKEN",O.message),d+=O.source.length;break;default:{const y=`Unexpected token in block scalar header: ${O.type}`;r(O,"UNEXPECTED_TOKEN",y);const v=O.source;v&&typeof v=="string"&&(d+=v.length)}}}return{mode:s,indent:a,chomp:o,comment:h,length:d}}function fAe(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)s.push([e[a],e[a+1]]);return s}function hAe(t,e,n){const{offset:r,type:i,source:s,end:a}=t;let o,u;const f=(m,O,y)=>n(r+m,O,y);switch(i){case"scalar":o=Nt.PLAIN,u=dAe(s,f);break;case"single-quoted-scalar":o=Nt.QUOTE_SINGLE,u=pAe(s,f);break;case"double-quoted-scalar":o=Nt.QUOTE_DOUBLE,u=mAe(s,f);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const h=r+s.length,d=CO(a,h,e,n);return{value:u,type:o,comment:d.comment,range:[r,h,d.offset]}}function dAe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),gX(t)}function pAe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),gX(t.slice(1,-1)).replace(/''/g,"'")}function gX(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),a=n.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,r=o.exec(t),i+s+(r?.[1]??"")}function mAe(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){const{fold:s,offset:a}=gAe(t,r);n+=s,r=a}else if(i==="\\"){let s=t[++r];const a=OAe[s];if(a)n+=a;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){const o={x:2,u:4,U:8}[s];n+=yAe(t,r+1,o,e),r+=o}else{const o=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(i===" "||i==="	"){const s=r;let a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function gAe(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const OAe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function yAe(t,e,n,r){const i=t.substr(e,n),a=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(a)){const o=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(a)}function OX(t,e,n,r){const{value:i,type:s,comment:a,range:o}=e.type==="block-scalar"?uAe(t,e,r):hAe(e,t.options.strict,r),u=n?t.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let f;t.options.stringKeys&&t.atKey?f=t.schema[Uo]:u?f=vAe(t.schema,i,u,n,r):e.type==="scalar"?f=bAe(t,i,e,r):f=t.schema[Uo];let h;try{const d=f.resolve(i,m=>r(n??e,"TAG_RESOLVE_FAILED",m),t.options);h=Ln(d)?d:new Nt(d)}catch(d){const m=d instanceof Error?d.message:String(d);r(n??e,"TAG_RESOLVE_FAILED",m),h=new Nt(i)}return h.range=o,h.source=i,s&&(h.type=s),u&&(h.tag=u),f.format&&(h.format=f.format),a&&(h.comment=a),h}function vAe(t,e,n,r,i){if(n==="!")return t[Uo];const s=[];for(const o of t.tags)if(!o.collection&&o.tag===n)if(o.default&&o.test)s.push(o);else return o;for(const o of s)if(o.test?.test(e))return o;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Uo])}function bAe({atKey:t,directives:e,schema:n},r,i,s){const a=n.tags.find(o=>(o.default===!0||t&&o.default==="key")&&o.test?.test(r))||n[Uo];if(n.compat){const o=n.compat.find(u=>u.default&&u.test?.test(r))??n[Uo];if(a.tag!==o.tag){const u=e.tagString(a.tag),f=e.tagString(o.tag),h=`Value may be parsed as either ${u} or ${f}`;s(i,"TAG_RESOLVE_FAILED",h,!0)}}return a}function _Ae(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}const wAe={composeNode:yX,composeEmptyNode:SR};function yX(t,e,n,r){const i=t.atKey,{spaceBefore:s,comment:a,anchor:o,tag:u}=n;let f,h=!0;switch(e.type){case"alias":f=SAe(t,e,r),(o||u)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=OX(t,e,u,r),o&&(f.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=lAe(wAe,t,e,n,r),o&&(f.anchor=o.source.substring(1));break;default:{const d=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",d),f=SR(t,e.offset,void 0,null,n,r),h=!1}}return o&&f.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!Ln(f)||typeof f.value!="string"||f.tag&&f.tag!=="tag:yaml.org,2002:str")&&r(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(f.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?f.comment=a:f.commentBefore=a),t.options.keepSourceTokens&&h&&(f.srcToken=e),f}function SR(t,e,n,r,{spaceBefore:i,comment:s,anchor:a,tag:o,end:u},f){const h={type:"scalar",offset:_Ae(e,n,r),indent:-1,source:""},d=OX(t,h,o,f);return a&&(d.anchor=a.source.substring(1),d.anchor===""&&f(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),s&&(d.comment=s,d.range[2]=u),d}function SAe({options:t},{offset:e,source:n,end:r},i){const s=new fR(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,o=CO(r,a,t.strict,i);return s.range=[e,a,o.offset],o.comment&&(s.comment=o.comment),s}function xAe(t,e,{offset:n,start:r,value:i,end:s},a){const o=Object.assign({_directives:e},t),u=new gS(void 0,o),f={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},h=Bd(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:a,parentIndent:0,startOnNewline:!0});h.found&&(u.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!h.hasNewline&&a(h.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=i?yX(f,i,h,a):SR(f,h.end,r,null,h,a);const d=u.contents.range[2],m=CO(s,d,!1,a);return m.comment&&(u.comment=m.comment),u.range=[n,d,m.offset],u}function mm(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function e3(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const s=t[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class kAe{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const a=mm(n);s?this.warnings.push(new iAe(a,r,i)):this.errors.push(new Em(a,r,i))},this.directives=new Fi({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:i}=e3(this.prelude);if(r){const s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(Tr(s)&&!s.flow&&s.items.length>0){let a=s.items[0];Cr(a)&&(a=a.key);const o=a.commentBefore;a.commentBefore=o?`${r}
${o}`:r}else{const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:e3(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{const s=mm(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=xAe(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Em(mm(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Em(mm(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=CO(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Em(mm(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),i=new gS(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const vX="\uFEFF",bX="",_X="",AA="";function TAe(t){switch(t){case vX:return"byte-order-mark";case bX:return"doc-mode";case _X:return"flow-error-end";case AA:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Ba(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const t3=new Set("0123456789ABCDEFabcdef"),EAe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),wb=new Set(",[]{}"),AAe=new Set(` ,[]{}
\r	`),fT=t=>!t||AAe.has(t);class CAe{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Ba(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===vX&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const s=e[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield bX,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Ba(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ba(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Ba(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(fT),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Ba(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield _X,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(fT),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||Ba(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Ba(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{const a=this.buffer[s+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let s=e-1,a=this.buffer[s];a==="\r"&&(a=this.buffer[--s]);const o=s;for(;a===" ";)a=this.buffer[--s];if(a===`
`&&s>=this.pos&&s+1+n>o)e=s;else break}while(!0);return yield AA,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(Ba(s)||e&&wb.has(s))break;n=r}else if(Ba(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&wb.has(s))break;if(i===`
`){const a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&wb.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield AA,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(fT))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Ba(n)||e&&wb.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Ba(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(EAe.has(n))n=this.buffer[++e];else if(n==="%"&&t3.has(this.buffer[e+1])&&t3.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class PAe{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Ru(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function n3(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function wX(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Sb(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Eh(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function r3(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Ru(e.start,"explicit-key-ind")&&!Ru(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,wX(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class RAe{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new CAe,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=TAe(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&r3(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&n3(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{n3(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Sb(this.peek(2)),r=Eh(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let s=[];if(i&&n.sep&&!n.value){const a=[];for(let o=0;o<n.sep.length;++o){const u=n.sep[o];switch(u.type){case"newline":a.push(o);break;case"space":break;case"comment":u.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(s=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ru(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(wX(n.key)&&!Ru(n.sep,"newline")){const a=Eh(n.start),o=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:o,sep:u}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Ru(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=Eh(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Ru(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Ru(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:s});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Ru(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Sb(r),s=Eh(i);r3(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Sb(e),r=Eh(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Sb(e),r=Eh(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function $Ae(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new PAe||null,prettyErrors:e}}function MAe(t,e={}){const{lineCounter:n,prettyErrors:r}=$Ae(e),i=new RAe(n?.addNewLine),s=new kAe(e);let a=null;for(const o of s.compose(i.parse(t),!0,t.length))if(!a)a=o;else if(a.options.logLevel!=="silent"){a.errors.push(new Em(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach(H9(t,n)),a.warnings.forEach(H9(t,n))),a}const IAe=/^---\s*$/,DAe=/^(---|\.\.\.)\s*$/,QAe=t=>t.includes(`\r
`)?`\r
`:`
`,SX=t=>{const e=QAe(t),n=t.split(/\r?\n/);if(n.length===0||!IAe.test(n[0]??""))return{body:t,frontmatter:null,lineEnding:e,hasFrontmatter:!1,errors:[]};let r=-1;for(let i=1;i<n.length;i+=1)if(DAe.test(n[i]??"")){r=i;break}return r===-1?{body:t,frontmatter:null,lineEnding:e,hasFrontmatter:!0,errors:["Missing closing frontmatter delimiter."]}:{frontmatter:n.slice(1,r).join(e),body:n.slice(r+1).join(e),lineEnding:e,hasFrontmatter:!0,errors:[]}},NAe=t=>!t||typeof t!="object"||Array.isArray(t)?null:t,LAe=t=>{const e=SX(t);if(!e.frontmatter)return{body:e.body,frontmatter:null,document:null,properties:null,errors:e.errors,warnings:[],lineEnding:e.lineEnding,hasFrontmatter:e.hasFrontmatter};const n=MAe(e.frontmatter,{keepSourceTokens:!0}),r=[...e.errors,...n.errors.map(a=>a.message)],i=n.warnings.map(a=>a.message);n.contents&&!ip(n.contents)&&r.push("Frontmatter must be a key/value mapping.");const s=r.length===0?NAe(n.toJSON()):null;return{body:e.body,frontmatter:e.frontmatter,document:n,properties:s,errors:r,warnings:i,lineEnding:e.lineEnding,hasFrontmatter:e.hasFrontmatter}},jAe=(t,e)=>{const n=SX(t);return n.lineEnding,n.hasFrontmatter?n.body:t},BAe="_editor_19lpl_1",zAe="_header_19lpl_6",ZAe="_editorPane_19lpl_10",UAe="_headerActions_19lpl_15",qAe="_headerActionsRight_19lpl_26",VAe="_headerActionsLeft_19lpl_32",XAe="_actionButton_19lpl_38",FAe="_actionIcon_19lpl_54",YAe="_empty_19lpl_59",bi={editor:BAe,header:zAe,editorPane:ZAe,headerActions:UAe,headerActionsRight:qAe,headerActionsLeft:VAe,actionButton:XAe,actionIcon:FAe,empty:YAe},hT=()=>new Date().toISOString(),WAe=1e3;function GAe({noteId:t,onClose:e}){const{db:n,isReady:r}=ac(),[i,s]=$.useState(null),[a,o]=$.useState(""),[u,f]=$.useState(!1),[h,d]=$.useState(!1),[m,O]=$.useState(!1),[y,v]=$.useState(0),w=$.useRef(!1),k=$.useRef(null),T=$.useRef("");$.useEffect(()=>{w.current=u},[u]),$.useEffect(()=>{if(!n||!r||!t)return;const K=n.notes.findOne(t).$.subscribe(Ae=>{d(!0);const Ee=Ae?Ae.toJSON():null;if(s(Ee),Ee&&!w.current){const Be=Ee.content??"";o(Be),T.current=Be}});return()=>K.unsubscribe()},[n,r,t]),$.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const A=()=>e?.(),C=async()=>{if(!n||!i)return;const K=await n.notes.findOne(i.id).exec();if(!K)return;const Ae=hT();await K.patch({is_trashed:!0,trashed_at:Ae,updated_at:Ae}),e?.()},I=async()=>{if(!n||!i)return;const K=await n.notes.findOne(i.id).exec();K&&await K.patch({is_pinned:!i.is_pinned,updated_at:hT()})},Q=$.useRef(async()=>{});Q.current=async K=>{if(!n||!t)return;if(K===T.current){f(!1);return}const Ae=await n.notes.findOne(t).exec();if(!Ae)return;const Ee=hT();let Be=Sd(K,i?.title),G=K,ye=i?.properties??null;const Se=LAe(K);if(Se.errors.length>0)zw("Frontmatter is invalid. Fix YAML to sync properties."),console.error("Frontmatter parse error",Se.errors);else{const Te=Se.properties??null,he=Te&&Object.keys(Te).length>0;ye=he?Te:null,!he&&Se.hasFrontmatter&&(G=jAe(K),Be=Sd(G,i?.title))}await Ae.patch({title:Be,content:G,properties:ye,updated_at:Ee}),T.current=G,G!==K&&o(G),f(!1),zTe(t)&&wA(n,t,G,ye,"auto","Auto-save").catch(()=>{})};const N=$.useCallback(K=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{Q.current?.(K)},WAe)},[]),j=$.useCallback(K=>{o(K),f(!0),N(K)},[N]),q=$.useCallback(()=>{k.current&&(clearTimeout(k.current),k.current=null),w.current&&o(K=>(Q.current?.(K),K))},[]),oe=$.useCallback(async()=>{!n||!t||!i||(w.current&&await Q.current?.(a),await wA(n,t,i.content,i.properties,"manual","Manual save"))},[n,t,i,a]),we=$.useCallback(()=>{v(K=>K+1),B8(t)},[t]);return t?h?i?M.jsxs("section",{className:bi.editor,children:[M.jsx("header",{className:bi.header,children:e?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:`${bi.headerActions} ${bi.headerActionsLeft}`,children:M.jsx("button",{type:"button",className:bi.actionButton,"aria-label":"Go back",onClick:A,children:M.jsx(KAe,{})})}),M.jsx("div",{className:`${bi.headerActions} ${bi.headerActionsRight}`,children:M.jsxs($be,{children:[M.jsx(Mbe,{asChild:!0,children:M.jsx("button",{type:"button",className:bi.actionButton,"aria-label":"Note actions",children:M.jsx(HAe,{})})}),M.jsxs(Dbe,{align:"end",sideOffset:12,children:[M.jsx(J0,{onSelect:A,children:"Close"}),M.jsx(J0,{onSelect:()=>O(!0),children:"Version History"}),M.jsx(J0,{onSelect:I,children:i.is_pinned?"Unpin":"Pin"}),M.jsx(Qbe,{}),M.jsx(J0,{"data-variant":"danger",onSelect:C,children:"Trash"})]})]})})]}):null}),M.jsx("div",{className:bi.editorPane,children:M.jsx(jTe,{initialContent:a,content:u?void 0:a,onChange:j,onBlur:q,onSaveVersion:oe,placeholderText:"Start writing...",autoFocus:!0,db:n},y)}),M.jsx(_Ee,{open:m,onOpenChange:O,noteId:t,db:n,onRestore:we})]}):M.jsx("section",{className:bi.editor,children:M.jsx("p",{className:bi.empty,children:"Note not found."})}):M.jsx("section",{className:bi.editor,children:M.jsx("p",{className:bi.empty,children:"Loading note..."})}):M.jsx("section",{className:bi.editor,children:M.jsx("p",{className:bi.empty,children:"Note not found."})})}function KAe(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:bi.actionIcon,children:M.jsx("path",{d:"M15 18l-6-6 6-6"})})}function HAe(){return M.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",fill:"currentColor",className:bi.actionIcon,children:[M.jsx("circle",{cx:"12",cy:"5",r:"2"}),M.jsx("circle",{cx:"12",cy:"12",r:"2"}),M.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}const JAe="_page_1pqme_1",eCe={page:JAe};function xX({noteId:t}){const{goBack:e}=nc();return M.jsx("div",{className:eCe.page,children:M.jsx(GAe,{noteId:t,onClose:e})})}const tCe="_shell_tjqry_1",nCe="_page_tjqry_8",i3={shell:tCe,page:nCe},rCe={type:"spring",stiffness:300,damping:30},iCe={enter:t=>({x:t?"100%":"-30%"}),center:{x:"0%"},exit:t=>({x:t?"-30%":"100%"})};function sCe(){const{stack:t}=Vg(),{goBack:e}=nc(),n=$.useRef(t.length),r=n.current;n.current=t.length;const i=t.length>=r;aye({onBack:e,enabled:t.length>0});const s=t[t.length-1];let a=null,o="empty";return s?.view==="notes-list"?(a=M.jsx(FU,{group:s.group}),o=`notes-list-${s.group}`):s?.view==="note-detail"&&(a=M.jsx(xX,{noteId:s.noteId}),o=`note-detail-${s.noteId}`),M.jsx("div",{className:i3.shell,children:M.jsx(Wge,{initial:!1,custom:i,mode:"popLayout",children:M.jsx(rye.div,{className:i3.page,custom:i,variants:iCe,initial:"enter",animate:"center",exit:"exit",transition:rCe,children:a},o)})})}const aCe="_overview_dlluk_1",oCe="_header_dlluk_12",lCe="_title_dlluk_19",uCe="_list_dlluk_24",cCe="_row_dlluk_29",fCe="_rowIcon_dlluk_56",hCe="_rowLabel_dlluk_72",dCe="_rowCount_dlluk_77",pCe="_rowCaret_dlluk_85",pl={overview:aCe,header:oCe,title:lCe,list:uCe,row:cCe,rowIcon:fCe,rowLabel:hCe,rowCount:dCe,rowCaret:pCe},mCe=[{id:"all",label:"Notes",icon:"notes"},{id:"todo",label:"Todo",icon:"check"},{id:"today",label:"Today",icon:"calendar"},{id:"locked",label:"Locked",icon:"lock",comingSoon:!0},{id:"pinned",label:"Pinned",icon:"pin"},{id:"trash",label:"Trash",icon:"trash"}];function gCe(){const{pushLayer:t}=nc(),e=l4(),n=r=>{if(r.comingSoon){zw(`${r.label} is coming soon`);return}t({view:"notes-list",group:r.id})};return M.jsxs("div",{className:pl.overview,children:[M.jsx("div",{className:pl.header,children:M.jsx("h1",{className:pl.title,children:"Notes"})}),M.jsx("div",{className:pl.list,children:mCe.map(r=>M.jsxs("button",{type:"button",className:pl.row,onClick:()=>n(r),children:[M.jsx("span",{className:pl.rowIcon,children:M.jsx(OCe,{type:r.icon})}),M.jsx("span",{className:pl.rowLabel,children:r.label}),e[r.id]>0&&!r.comingSoon?M.jsx("span",{className:pl.rowCount,children:e[r.id]}):null,M.jsx("span",{className:pl.rowCaret,"aria-hidden":"true",children:M.jsx(yCe,{})})]},r.id))})]})}function OCe({type:t}){switch(t){case"check":return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:M.jsx("path",{d:"M6 12l4 4 8-8"})});case"calendar":return M.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[M.jsx("path",{d:"M7 4v3"}),M.jsx("path",{d:"M17 4v3"}),M.jsx("rect",{x:"4",y:"7",width:"16",height:"13",rx:"2"})]});case"lock":return M.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[M.jsx("rect",{x:"6",y:"10",width:"12",height:"10",rx:"2"}),M.jsx("path",{d:"M8 10V7a4 4 0 0 1 8 0v3"})]});case"pin":return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:M.jsx("path",{d:"M8 4h8l-1.6 3.2c-.2.4-.2.8 0 1.2L16 12v4l-4-2.2L8 16v-4l1.6-3.6c.2-.4.2-.8 0-1.2L8 4z"})});case"trash":return M.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[M.jsx("path",{d:"M5 7h14"}),M.jsx("path",{d:"M9 7V5h6v2"}),M.jsx("rect",{x:"7",y:"7",width:"10",height:"12",rx:"2"})]});default:return M.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[M.jsx("path",{d:"M7 4h7l4 4v12H7z"}),M.jsx("path",{d:"M14 4v4h4"}),M.jsx("path",{d:"M9 12h6"}),M.jsx("path",{d:"M9 16h6"})]})}}function yCe(){return M.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:M.jsx("path",{d:"M9 18l6-6-6-6"})})}const vCe="_shell_19gld_1",bCe="_paneOverview_19gld_7",_Ce="_paneList_19gld_15",wCe="_paneDetail_19gld_23",xb={shell:vCe,paneOverview:bCe,paneList:_Ce,paneDetail:wCe};function SCe(){const{stack:t}=Vg(),e=t.find(r=>r.view==="notes-list"),n=t.find(r=>r.view==="note-detail");return M.jsxs("div",{className:xb.shell,children:[M.jsx("div",{className:xb.paneOverview,children:M.jsx(gCe,{})}),M.jsx("div",{className:xb.paneList,children:e?M.jsx(FU,{group:e.group}):null}),M.jsx("div",{className:xb.paneDetail,children:n?M.jsx(xX,{noteId:n.noteId}):null})]})}const xCe="_home_b1ndu_1",kCe="_homeNowTitle_b1ndu_7",TCe="_homeNowCard_b1ndu_14",ECe="_homeNowDate_b1ndu_40",ACe="_homeNowSubtitle_b1ndu_46",CCe="_homeNowButton_b1ndu_51",PCe="_homeSectionLabel_b1ndu_66",RCe="_homeInboxCard_b1ndu_75",$Ce="_homeInboxText_b1ndu_102",MCe="_homeInboxTitle_b1ndu_107",ICe="_homeInboxSubtitle_b1ndu_113",DCe="_homeInboxRight_b1ndu_118",QCe="_homeInboxBadge_b1ndu_124",NCe="_homeInboxArrow_b1ndu_138",LCe="_homeWorkbenchEmpty_b1ndu_144",jCe="_homeWorkbenchAdd_b1ndu_154",BCe="_placeholder_b1ndu_182",zCe="_placeholderTitle_b1ndu_187",ZCe="_placeholderBody_b1ndu_194",tr={home:xCe,homeNowTitle:kCe,homeNowCard:TCe,homeNowDate:ECe,homeNowSubtitle:ACe,homeNowButton:CCe,homeSectionLabel:PCe,homeInboxCard:RCe,homeInboxText:$Ce,homeInboxTitle:MCe,homeInboxSubtitle:ICe,homeInboxRight:DCe,homeInboxBadge:QCe,homeInboxArrow:NCe,homeWorkbenchEmpty:LCe,homeWorkbenchAdd:jCe,placeholder:BCe,placeholderTitle:zCe,placeholderBody:ZCe};function UCe(){const[t,e]=$.useState(!1);return $.useEffect(()=>{const n=window.matchMedia("(min-width: 1024px)");e(n.matches);const r=i=>e(i.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),t}function qCe(){return UCe()?M.jsx(SCe,{}):M.jsx(sCe,{})}function VCe(){return M.jsxs("section",{className:tr.placeholder,children:[M.jsx("h1",{className:tr.placeholderTitle,children:"Tasks"}),M.jsx("p",{className:tr.placeholderBody,children:"Tasks view coming soon."})]})}function XCe(){return M.jsxs("section",{className:tr.placeholder,children:[M.jsx("h1",{className:tr.placeholderTitle,children:"Plans"}),M.jsx("p",{className:tr.placeholderBody,children:"Plans view coming soon."})]})}function s3(){const{db:t,isReady:e}=ac(),{pushLayer:n}=nc(),r=()=>{window.dispatchEvent(new CustomEvent("inbox-wizard:open"))},i=$.useMemo(()=>new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),[]),s=$.useMemo(()=>new Date().toISOString().slice(0,10),[]),a=`daily:${s}`,o=`daily_${s}`,[u,f]=$.useState(null);$.useEffect(()=>{if(!t||!e)return;const y=t.notes.findOne({selector:{note_type:a,is_trashed:!1}}).$.subscribe(v=>{f(v?v.toJSON():null)});return()=>y.unsubscribe()},[t,e,a]);const h=async()=>{if(t)if(u)n({view:"note-detail",noteId:u.id});else{const y=_l(),v=new Date().toISOString();await t.notes.insert({id:y,title:o,content:`# ${o}
`,inbox_at:null,note_type:a,is_pinned:!1,properties:null,created_at:v,updated_at:v,is_trashed:!1,trashed_at:null}),n({view:"note-detail",noteId:y})}},[d,m]=$.useState([]);$.useEffect(()=>{if(!t||!e)return;const y=t.notes.find({selector:{inbox_at:{$ne:null},is_trashed:!1}}).$.subscribe(v=>{m(v.map(w=>w.toJSON()))});return()=>y.unsubscribe()},[t,e]);const O=d.length;return M.jsxs("section",{className:tr.home,children:[M.jsx("div",{children:M.jsx("h1",{className:tr.homeNowTitle,children:"Now"})}),M.jsxs("button",{type:"button",className:tr.homeNowCard,onClick:h,"aria-label":"Open today's working surface",children:[M.jsxs("div",{children:[M.jsx("div",{className:tr.homeNowDate,children:i}),M.jsx("div",{className:tr.homeNowSubtitle,children:"Your daily working surface"})]}),M.jsx("div",{className:tr.homeNowButton,children:u?"Open Today's Note":"Create Today Note"})]}),M.jsxs("div",{children:[M.jsx("div",{className:tr.homeSectionLabel,children:"Inbox"}),M.jsxs("button",{type:"button",className:tr.homeInboxCard,onClick:r,"aria-label":"Process inbox",children:[M.jsxs("div",{className:tr.homeInboxText,children:[M.jsx("div",{className:tr.homeInboxTitle,children:"Process Inbox"}),M.jsx("div",{className:tr.homeInboxSubtitle,children:"Items waiting to be sorted"})]}),M.jsxs("div",{className:tr.homeInboxRight,children:[O>0&&M.jsx("span",{className:tr.homeInboxBadge,children:O}),M.jsx("span",{className:tr.homeInboxArrow,children:""})]})]})]}),M.jsxs("div",{children:[M.jsx("div",{className:tr.homeSectionLabel,children:"Workbench"}),M.jsx("div",{className:tr.homeWorkbenchEmpty,children:"No pinned documents yet"}),M.jsx("button",{type:"button",className:tr.homeWorkbenchAdd,onClick:h,"aria-label":"Add to workbench",children:"+ Add to Workbench"})]})]})}function FCe({topLayer:t}){return t?t.view==="notes-list"||t.view==="note-detail"?M.jsx(qCe,{}):t.view==="tasks-list"||t.view==="task-detail"?M.jsx(VCe,{}):t.view==="plans-list"||t.view==="plan-detail"?M.jsx(XCe,{}):M.jsx(s3,{}):M.jsx(s3,{})}function YCe(){const{stack:t}=Vg(),e=t[t.length-1];return M.jsx(ade,{children:M.jsx(FCe,{topLayer:e})})}K7.createRoot(document.getElementById("root")).render(M.jsx($.StrictMode,{children:M.jsx(eF,{children:M.jsx(YCe,{})})}));
